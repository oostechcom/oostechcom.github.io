<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-4.18.0-80.el8_z8530drv | oosTech.com</title>
  <meta name="description" content="This is a subset of the documentation. To use this driver you MUST have thefull package from: Internet: ftp:&#x2F;&#x2F;ftp.ccac.rwth-aachen.de&#x2F;pub&#x2F;jr&#x2F;z8530drv-utils_3.0-3.tar.gz  ftp:&#x2F;&#x2F;ftp.pspt.fi&#x2F;pub&#x2F;ham&#x2F;linu">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-4.18.0-80.el8_z8530drv">
<meta property="og:url" content="http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_z8530drv/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="This is a subset of the documentation. To use this driver you MUST have thefull package from: Internet: ftp:&#x2F;&#x2F;ftp.ccac.rwth-aachen.de&#x2F;pub&#x2F;jr&#x2F;z8530drv-utils_3.0-3.tar.gz  ftp:&#x2F;&#x2F;ftp.pspt.fi&#x2F;pub&#x2F;ham&#x2F;linu">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-02-18T16:00:00.000Z">
<meta property="article:modified_time" content="2021-02-18T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_z8530drv/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_mpc5200/" class="title">Kernel-3.10.0-957.el7_mpc5200</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_6pack/" class="title">Kernel-3.10.0-957.el7_6pack</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Internet"><span class="toc-number">1.</span> <span class="toc-text">Internet:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Initialization-of-the-driver"><span class="toc-number">2.</span> <span class="toc-text">Initialization of the driver</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-Loading-the-module"><span class="toc-number">3.</span> <span class="toc-text">1.1 Loading the module</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-etc-z8530drv-conf"><span class="toc-number">4.</span> <span class="toc-text">1.2. &#x2F;etc&#x2F;z8530drv.conf</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-1-configuration-of-hardware-parameters"><span class="toc-number">5.</span> <span class="toc-text">1.2.1 configuration of hardware parameters</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Example-for-the-BAYCOM-USCC"><span class="toc-number">5.1.</span> <span class="toc-text">Example for the BAYCOM USCC:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SCC-chip-2"><span class="toc-number">6.</span> <span class="toc-text">SCC chip 2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#An-example-for-a-PA0HZP-card"><span class="toc-number">7.1.</span> <span class="toc-text">An example for a PA0HZP card:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-DRSI-would-should-probably-work-with-this"><span class="toc-number">7.2.</span> <span class="toc-text">A DRSI would should probably work with this:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-utility-%E2%80%9Cgencfg%E2%80%9D"><span class="toc-number">7.3.</span> <span class="toc-text">The utility “gencfg”</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-2-channel-configuration"><span class="toc-number">8.</span> <span class="toc-text">1.2.2 channel configuration</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DEVICE"><span class="toc-number">9.</span> <span class="toc-text">DEVICE</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MODEM-BUFFERS"><span class="toc-number">10.</span> <span class="toc-text">MODEM &#x2F; BUFFERS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#KISS-Layer-1"><span class="toc-number">11.</span> <span class="toc-text">KISS (Layer 1)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Attachment-of-a-channel-by-your-AX-25-software"><span class="toc-number">12.</span> <span class="toc-text">Attachment of a channel by your AX.25 software</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-Kernel-AX-25"><span class="toc-number">13.</span> <span class="toc-text">2.1 Kernel AX.25</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-2-NOS-NET-and-TFKISS"><span class="toc-number">14.</span> <span class="toc-text">2.2 NOS, NET and TFKISS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Adjustment-and-Display-of-parameters"><span class="toc-number">15.</span> <span class="toc-text">Adjustment and Display of parameters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-1-Displaying-SCC-Parameters"><span class="toc-number">16.</span> <span class="toc-text">3.1 Displaying SCC Parameters:</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#HDLC-Z8530-Interrupts-Buffers"><span class="toc-number">16.1.</span> <span class="toc-text">HDLC                  Z8530           Interrupts         Buffers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-2-Setting-Parameters"><span class="toc-number">17.</span> <span class="toc-text">3.2 Setting Parameters</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#param-value"><span class="toc-number">17.1.</span> <span class="toc-text">param        : value</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Problems"><span class="toc-number">18.</span> <span class="toc-text">Problems </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Thor-RLC100"><span class="toc-number">19.</span> <span class="toc-text">Thor RLC100</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-4.18.0-80.el8_z8530drv" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-4.18.0-80.el8_z8530drv
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/02/19/Kernel-4.18.0-80.el8_z8530drv/" class="article-date">
	 published: <time datetime="2021-02-18T16:00:00.000Z" itemprop="datePublished">2021-02-19</time>
	</a>
</span>

        
	<a href="/2021/02/19/Kernel-4.18.0-80.el8_z8530drv/" class="article-date">
	   updated: <time datetime="2021-02-18T16:00:00.000Z" itemprop="dateUpdated">2021-02-19</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/02/19/Kernel-4.18.0-80.el8_z8530drv/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p>This is a subset of the documentation. To use this driver you MUST have the<br>full package from:</p>
<h1 id="Internet"><a href="#Internet" class="headerlink" title="Internet:"></a>Internet:</h1><ol>
<li><p><a href="ftp://ftp.ccac.rwth-aachen.de/pub/jr/z8530drv-utils_3.0-3.tar.gz">ftp://ftp.ccac.rwth-aachen.de/pub/jr/z8530drv-utils_3.0-3.tar.gz</a></p>
</li>
<li><p><a href="ftp://ftp.pspt.fi/pub/ham/linux/ax25/z8530drv-utils_3.0-3.tar.gz">ftp://ftp.pspt.fi/pub/ham/linux/ax25/z8530drv-utils_3.0-3.tar.gz</a></p>
</li>
</ol>
<p>Please note that the information in this document may be hopelessly outdated.<br>A new version of the documentation, along with links to other important<br>Linux Kernel AX.25 documentation and programs, is available on<br><a target="_blank" rel="noopener" href="http://yaina.de/jreuter">http://yaina.de/jreuter</a></p>
<hr>
<pre><code> SCC.C - Linux driver for Z8530 based HDLC cards for AX.25      
</code></pre>
<hr>
<pre><code>    (c) 1993,2000 by Joerg Reuter DL1BKE &lt;jreuter@yaina.de&gt;

    portions (c) 1993 Guido ten Dolle PE1NNZ

    for the complete copyright notice see &gt;&gt; Copying.Z8530DRV &lt;&lt;
</code></pre>
<hr>
<ol>
<li><h1 id="Initialization-of-the-driver"><a href="#Initialization-of-the-driver" class="headerlink" title="Initialization of the driver"></a>Initialization of the driver</h1></li>
</ol>
<p>To use the driver, 3 steps must be performed:</p>
<pre><code> 1. if compiled as module: loading the module
 2. Setup of hardware, MODEM and KISS parameters with sccinit
 3. Attach each channel to the Linux kernel AX.25 with &quot;ifconfig&quot;
</code></pre>
<p>Unlike the versions below 2.4 this driver is a real network device<br>driver. If you want to run xNOS instead of our fine kernel AX.25<br>use a 2.x version (available from above sites) or read the<br>AX.25-HOWTO on how to emulate a KISS TNC on network device drivers.</p>
<h1 id="1-1-Loading-the-module"><a href="#1-1-Loading-the-module" class="headerlink" title="1.1 Loading the module"></a>1.1 Loading the module</h1><p>(If you’re going to compile the driver as a part of the kernel image,<br> skip this chapter and continue with 1.2)</p>
<p>Before you can use a module, you’ll have to load it with</p>
<pre><code>insmod scc.o
</code></pre>
<p>please read ‘man insmod’ that comes with module-init-tools.</p>
<p>You should include the insmod in one of the /etc/rc.d/rc.* files,<br>and don’t forget to insert a call of sccinit after that. It<br>will read your /etc/z8530drv.conf.</p>
<h1 id="1-2-etc-z8530drv-conf"><a href="#1-2-etc-z8530drv-conf" class="headerlink" title="1.2. /etc/z8530drv.conf"></a>1.2. /etc/z8530drv.conf</h1><p>To setup all parameters you must run /sbin/sccinit from one<br>of your rc.*-files. This has to be done BEFORE you can<br>“ifconfig” an interface. Sccinit reads the file /etc/z8530drv.conf<br>and sets the hardware, MODEM and KISS parameters. A sample file is<br>delivered with this package. Change it to your needs.</p>
<p>The file itself consists of two main sections.</p>
<h1 id="1-2-1-configuration-of-hardware-parameters"><a href="#1-2-1-configuration-of-hardware-parameters" class="headerlink" title="1.2.1 configuration of hardware parameters"></a>1.2.1 configuration of hardware parameters</h1><p>The hardware setup section defines the following parameters for each<br>Z8530:</p>
<p>chip    1<br>data_a  0x300                   # data port A<br>ctrl_a  0x304                   # control port A<br>data_b  0x301                   # data port B<br>ctrl_b  0x305                   # control port B<br>irq     5                       # IRQ No. 5<br>pclock  4915200                 # clock<br>board   BAYCOM                  # hardware type<br>escc    no                      # enhanced SCC chip? (8580/85180/85280)<br>vector  0                       # latch for interrupt vector<br>special no                      # address of special function register<br>option  0                       # option to set via sfr</p>
<p>chip    - this is just a delimiter to make sccinit a bit simpler to<br>      program. A parameter has no effect.</p>
<p>data_a  - the address of the data port A of this Z8530 (needed)<br>ctrl_a  - the address of the control port A (needed)<br>data_b  - the address of the data port B (needed)<br>ctrl_b  - the address of the control port B (needed)</p>
<p>irq     - the used IRQ for this chip. Different chips can use different<br>          IRQs or the same. If they share an interrupt, it needs to be<br>      specified within one chip-definition only.</p>
<p>pclock  - the clock at the PCLK pin of the Z8530 (option, 4915200 is<br>          default), measured in Hertz</p>
<p>board   - the “type” of the board:</p>
<pre><code>   SCC type                 value
   ---------------------------------
   PA0HZP SCC card          PA0HZP
   EAGLE card               EAGLE
   PC100 card               PC100
   PRIMUS-PC (DG9BL) card   PRIMUS
   BayCom (U)SCC card       BAYCOM
</code></pre>
<p>escc    - if you want support for ESCC chips (8580, 85180, 85280), set<br>          this to “yes” (option, defaults to “no”)</p>
<p>vector  - address of the vector latch (aka “intack port”) for PA0HZP<br>          cards. There can be only one vector latch for all chips!<br>      (option, defaults to 0)</p>
<p>special - address of the special function register on several cards.<br>          (option, defaults to 0)</p>
<p>option  - The value you write into that register (option, default is 0)</p>
<p>You can specify up to four chips (8 channels). If this is not enough,<br>just change</p>
<pre><code>#define MAXSCC 4
</code></pre>
<p>to a higher value.</p>
<h2 id="Example-for-the-BAYCOM-USCC"><a href="#Example-for-the-BAYCOM-USCC" class="headerlink" title="Example for the BAYCOM USCC:"></a>Example for the BAYCOM USCC:</h2><p>chip    1<br>data_a  0x300                   # data port A<br>ctrl_a  0x304                   # control port A<br>data_b  0x301                   # data port B<br>ctrl_b  0x305                   # control port B<br>irq     5                       # IRQ No. 5 (#)<br>board   BAYCOM                  # hardware type (*)<br>#</p>
<h1 id="SCC-chip-2"><a href="#SCC-chip-2" class="headerlink" title="SCC chip 2"></a>SCC chip 2</h1><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>chip    2<br>data_a  0x302<br>ctrl_a  0x306<br>data_b  0x303<br>ctrl_b  0x307<br>board   BAYCOM</p>
<h2 id="An-example-for-a-PA0HZP-card"><a href="#An-example-for-a-PA0HZP-card" class="headerlink" title="An example for a PA0HZP card:"></a>An example for a PA0HZP card:</h2><p>chip 1<br>data_a 0x153<br>data_b 0x151<br>ctrl_a 0x152<br>ctrl_b 0x150<br>irq 9<br>pclock 4915200<br>board PA0HZP<br>vector 0x168<br>escc no<br>#<br>#<br>#<br>chip 2<br>data_a 0x157<br>data_b 0x155<br>ctrl_a 0x156<br>ctrl_b 0x154<br>irq 9<br>pclock 4915200<br>board PA0HZP<br>vector 0x168<br>escc no</p>
<h2 id="A-DRSI-would-should-probably-work-with-this"><a href="#A-DRSI-would-should-probably-work-with-this" class="headerlink" title="A DRSI would should probably work with this:"></a>A DRSI would should probably work with this:</h2><p>(actually: two DRSI cards…)</p>
<p>chip 1<br>data_a 0x303<br>data_b 0x301<br>ctrl_a 0x302<br>ctrl_b 0x300<br>irq 7<br>pclock 4915200<br>board DRSI<br>escc no<br>#<br>#<br>#<br>chip 2<br>data_a 0x313<br>data_b 0x311<br>ctrl_a 0x312<br>ctrl_b 0x310<br>irq 7<br>pclock 4915200<br>board DRSI<br>escc no</p>
<p>Note that you cannot use the on-board baudrate generator off DRSI<br>cards. Use “mode dpll” for clock source (see below).</p>
<p>This is based on information provided by Mike Bilow (and verified<br>by Paul Helay)</p>
<h2 id="The-utility-“gencfg”"><a href="#The-utility-“gencfg”" class="headerlink" title="The utility “gencfg”"></a>The utility “gencfg”</h2><p>If you only know the parameters for the PE1CHL driver for DOS,<br>run gencfg. It will generate the correct port addresses (I hope).<br>Its parameters are exactly the same as the ones you use with<br>the “attach scc” command in net, except that the string “init” must<br>not appear. Example:</p>
<p>gencfg 2 0x150 4 2 0 1 0x168 9 4915200 </p>
<p>will print a skeleton z8530drv.conf for the OptoSCC to stdout.</p>
<p>gencfg 2 0x300 2 4 5 -4 0 7 4915200 0x10</p>
<p>does the same for the BAYCOM USCC card. In my opinion it is much easier<br>to edit scc_config.h… </p>
<h1 id="1-2-2-channel-configuration"><a href="#1-2-2-channel-configuration" class="headerlink" title="1.2.2 channel configuration"></a>1.2.2 channel configuration</h1><p>The channel definition is divided into three sub sections for each<br>channel:</p>
<p>An example for scc0:</p>
<h1 id="DEVICE"><a href="#DEVICE" class="headerlink" title="DEVICE"></a>DEVICE</h1><p>device scc0    # the device for the following params</p>
<h1 id="MODEM-BUFFERS"><a href="#MODEM-BUFFERS" class="headerlink" title="MODEM / BUFFERS"></a>MODEM / BUFFERS</h1><p>speed 1200        # the default baudrate<br>clock dpll        # clock source:<br>            #     dpll     = normal half duplex operation<br>            #     external = MODEM provides own Rx/Tx clock<br>            #    divider  = use full duplex divider if<br>            #           installed (1)<br>mode nrzi        # HDLC encoding mode<br>            #    nrzi = 1k2 MODEM, G3RUH 9k6 MODEM<br>            #    nrz  = DF9IC 9k6 MODEM<br>            #<br>bufsize    384        # size of buffers. Note that this must include<br>            # the AX.25 header, not only the data field!<br>            # (optional, defaults to 384)</p>
<h1 id="KISS-Layer-1"><a href="#KISS-Layer-1" class="headerlink" title="KISS (Layer 1)"></a>KISS (Layer 1)</h1><p>txdelay 36              # (see chapter 1.4)<br>persist 64<br>slot    8<br>tail    8<br>fulldup 0<br>wait    12<br>min     3<br>maxkey  7<br>idle    3<br>maxdef  120<br>group   0<br>txoff   off<br>softdcd on<br>slip    off</p>
<p>The order WITHIN these sections is unimportant. The order OF these<br>sections IS important. The MODEM parameters are set with the first<br>recognized KISS parameter…</p>
<p>Please note that you can initialize the board only once after boot<br>(or insmod). You can change all parameters but “mode” and “clock”<br>later with the Sccparam program or through KISS. Just to avoid<br>security holes… </p>
<p>(1) this divider is usually mounted on the SCC-PBC (PA0HZP) or not<br>    present at all (BayCom). It feeds back the output of the DPLL<br>    (digital pll) as transmit clock. Using this mode without a divider<br>    installed will normally result in keying the transceiver until<br>    maxkey expires — of course without sending anything (useful).</p>
<ol start="2">
<li><h1 id="Attachment-of-a-channel-by-your-AX-25-software"><a href="#Attachment-of-a-channel-by-your-AX-25-software" class="headerlink" title="Attachment of a channel by your AX.25 software"></a>Attachment of a channel by your AX.25 software</h1></li>
</ol>
<h1 id="2-1-Kernel-AX-25"><a href="#2-1-Kernel-AX-25" class="headerlink" title="2.1 Kernel AX.25"></a>2.1 Kernel AX.25</h1><p>To set up an AX.25 device you can simply type:</p>
<pre><code>ifconfig scc0 44.128.1.1 hw ax25 dl0tha-7
</code></pre>
<p>This will create a network interface with the IP number 44.128.20.107<br>and the callsign “dl0tha”. If you do not have any IP number (yet) you<br>can use any of the 44.128.0.0 network. Note that you do not need<br>axattach. The purpose of axattach (like slattach) is to create a KISS<br>network device linked to a TTY. Please read the documentation of the<br>ax25-utils and the AX.25-HOWTO to learn how to set the parameters of<br>the kernel AX.25.</p>
<h1 id="2-2-NOS-NET-and-TFKISS"><a href="#2-2-NOS-NET-and-TFKISS" class="headerlink" title="2.2 NOS, NET and TFKISS"></a>2.2 NOS, NET and TFKISS</h1><p>Since the TTY driver (aka KISS TNC emulation) is gone you need<br>to emulate the old behaviour. The cost of using these programs is<br>that you probably need to compile the kernel AX.25, regardless of whether<br>you actually use it or not. First setup your /etc/ax25/axports,<br>for example:</p>
<pre><code>9k6    dl0tha-9  9600  255 4 9600 baud port (scc3)
axlink    dl0tha-15 38400 255 4 Link to NOS
</code></pre>
<p>Now “ifconfig” the scc device:</p>
<pre><code>ifconfig scc3 44.128.1.1 hw ax25 dl0tha-9
</code></pre>
<p>You can now axattach a pseudo-TTY:</p>
<pre><code>axattach /dev/ptys0 axlink
</code></pre>
<p>and start your NOS and attach /dev/ptys0 there. The problem is that<br>NOS is reachable only via digipeating through the kernel AX.25<br>(disastrous on a DAMA controlled channel). To solve this problem,<br>configure “rxecho” to echo the incoming frames from “9k6” to “axlink”<br>and outgoing frames from “axlink” to “9k6” and start:</p>
<pre><code>rxecho
</code></pre>
<p>Or simply use “kissbridge” coming with z8530drv-utils:</p>
<pre><code>ifconfig scc3 hw ax25 dl0tha-9
kissbridge scc3 /dev/ptys0
</code></pre>
<ol start="3">
<li><h1 id="Adjustment-and-Display-of-parameters"><a href="#Adjustment-and-Display-of-parameters" class="headerlink" title="Adjustment and Display of parameters"></a>Adjustment and Display of parameters</h1></li>
</ol>
<h1 id="3-1-Displaying-SCC-Parameters"><a href="#3-1-Displaying-SCC-Parameters" class="headerlink" title="3.1 Displaying SCC Parameters:"></a>3.1 Displaying SCC Parameters:</h1><p>Once a SCC channel has been attached, the parameter settings and<br>some statistic information can be shown using the param program:</p>
<p>dl1bke-u:~$ sccstat scc0</p>
<p>Parameters:</p>
<p>speed       : 1200 baud<br>txdelay     : 36<br>persist     : 255<br>slottime    : 0<br>txtail      : 8<br>fulldup     : 1<br>waittime    : 12<br>mintime     : 3 sec<br>maxkeyup    : 7 sec<br>idletime    : 3 sec<br>maxdefer    : 120 sec<br>group       : 0x00<br>txoff       : off<br>softdcd     : on<br>SLIP        : off</p>
<p>Status:</p>
<h2 id="HDLC-Z8530-Interrupts-Buffers"><a href="#HDLC-Z8530-Interrupts-Buffers" class="headerlink" title="HDLC                  Z8530           Interrupts         Buffers"></a>HDLC                  Z8530           Interrupts         Buffers</h2><p>Sent       :     273  RxOver :     0  RxInts :   125074  Size    :  384<br>Received   :    1095  TxUnder:     0  TxInts :     4684  NoSpace :    0<br>RxErrors   :    1591                  ExInts :    11776<br>TxErrors   :       0                  SpInts :     1503<br>Tx State   :    idle</p>
<p>The status info shown is:</p>
<p>Sent        - number of frames transmitted<br>Received    - number of frames received<br>RxErrors    - number of receive errors (CRC, ABORT)<br>TxErrors    - number of discarded Tx frames (due to various reasons)<br>Tx State    - status of the Tx interrupt handler: idle/busy/active/tail (2)<br>RxOver        - number of receiver overruns<br>TxUnder        - number of transmitter underruns<br>RxInts        - number of receiver interrupts<br>TxInts        - number of transmitter interrupts<br>EpInts        - number of receiver special condition interrupts<br>SpInts        - number of external/status interrupts<br>Size        - maximum size of an AX.25 frame (<em>with</em> AX.25 headers!)<br>NoSpace        - number of times a buffer could not get allocated</p>
<p>An overrun is abnormal. If lots of these occur, the product of<br>baudrate and number of interfaces is too high for the processing<br>power of your computer. NoSpace errors are unlikely to be caused by the<br>driver or the kernel AX.25.</p>
<h1 id="3-2-Setting-Parameters"><a href="#3-2-Setting-Parameters" class="headerlink" title="3.2 Setting Parameters"></a>3.2 Setting Parameters</h1><p>The setting of parameters of the emulated KISS TNC is done in the<br>same way in the SCC driver. You can change parameters by using<br>the kissparms program from the ax25-utils package or use the program<br>“sccparam”:</p>
<pre><code> sccparam &lt;device&gt; &lt;paramname&gt; &lt;decimal-|hexadecimal value&gt;
</code></pre>
<p>You can change the following parameters:</p>
<h2 id="param-value"><a href="#param-value" class="headerlink" title="param        : value"></a>param        : value</h2><p>speed       : 1200<br>txdelay     : 36<br>persist     : 255<br>slottime    : 0<br>txtail      : 8<br>fulldup     : 1<br>waittime    : 12<br>mintime     : 3<br>maxkeyup    : 7<br>idletime    : 3<br>maxdefer    : 120<br>group       : 0x00<br>txoff       : off<br>softdcd     : on<br>SLIP        : off</p>
<p>The parameters have the following meaning:</p>
<p>speed:<br>     The baudrate on this channel in bits/sec</p>
<pre><code> Example: sccparam /dev/scc3 speed 9600
</code></pre>
<p>txdelay:<br>     The delay (in units of 10 ms) after keying of the<br>     transmitter, until the first byte is sent. This is usually<br>     called “TXDELAY” in a TNC.  When 0 is specified, the driver<br>     will just wait until the CTS signal is asserted. This<br>     assumes the presence of a timer or other circuitry in the<br>     MODEM and/or transmitter, that asserts CTS when the<br>     transmitter is ready for data.<br>     A normal value of this parameter is 30-36.</p>
<pre><code> Example: sccparam /dev/scc0 txd 20
</code></pre>
<p>persist:<br>     This is the probability that the transmitter will be keyed<br>     when the channel is found to be free.  It is a value from 0<br>     to 255, and the probability is (value+1)/256.  The value<br>     should be somewhere near 50-60, and should be lowered when<br>     the channel is used more heavily.</p>
<pre><code> Example: sccparam /dev/scc2 persist 20
</code></pre>
<p>slottime:<br>     This is the time between samples of the channel. It is<br>     expressed in units of 10 ms.  About 200-300 ms (value 20-30)<br>     seems to be a good value.</p>
<pre><code> Example: sccparam /dev/scc0 slot 20
</code></pre>
<p>tail:<br>     The time the transmitter will remain keyed after the last<br>     byte of a packet has been transferred to the SCC. This is<br>     necessary because the CRC and a flag still have to leave the<br>     SCC before the transmitter is keyed down. The value depends<br>     on the baudrate selected.  A few character times should be<br>     sufficient, e.g. 40ms at 1200 baud. (value 4)<br>     The value of this parameter is in 10 ms units.</p>
<pre><code> Example: sccparam /dev/scc2 4
</code></pre>
<p>full:<br>     The full-duplex mode switch. This can be one of the following<br>     values:</p>
<pre><code> 0:   The interface will operate in CSMA mode (the normal 
      half-duplex packet radio operation)
 1:   Fullduplex mode, i.e. the transmitter will be keyed at 
      any time, without checking the received carrier.  It 
      will be unkeyed when there are no packets to be sent.
 2:   Like 1, but the transmitter will remain keyed, also 
      when there are no packets to be sent.  Flags will be 
      sent in that case, until a timeout (parameter 10) 
      occurs.

 Example: sccparam /dev/scc0 fulldup off
</code></pre>
<p>wait:<br>     The initial waittime before any transmit attempt, after the<br>     frame has been queue for transmit.  This is the length of<br>     the first slot in CSMA mode.  In full duplex modes it is<br>     set to 0 for maximum performance.<br>     The value of this parameter is in 10 ms units. </p>
<pre><code> Example: sccparam /dev/scc1 wait 4
</code></pre>
<p>maxkey:<br>     The maximal time the transmitter will be keyed to send<br>     packets, in seconds.  This can be useful on busy CSMA<br>     channels, to avoid “getting a bad reputation” when you are<br>     generating a lot of traffic.  After the specified time has<br>     elapsed, no new frame will be started. Instead, the trans-<br>     mitter will be switched off for a specified time (parameter<br>     min), and then the selected algorithm for keyup will be<br>     started again.<br>     The value 0 as well as “off” will disable this feature,<br>     and allow infinite transmission time. </p>
<pre><code> Example: sccparam /dev/scc0 maxk 20
</code></pre>
<p>min:<br>     This is the time the transmitter will be switched off when<br>     the maximum transmission time is exceeded.</p>
<pre><code> Example: sccparam /dev/scc3 min 10
</code></pre>
<p>idle<br>     This parameter specifies the maximum idle time in full duplex<br>     2 mode, in seconds.  When no frames have been sent for this<br>     time, the transmitter will be keyed down.  A value of 0 is<br>     has same result as the fullduplex mode 1. This parameter<br>     can be disabled.</p>
<pre><code> Example: sccparam /dev/scc2 idle off    # transmit forever
</code></pre>
<p>maxdefer<br>     This is the maximum time (in seconds) to wait for a free channel<br>     to send. When this timer expires the transmitter will be keyed<br>     IMMEDIATELY. If you love to get trouble with other users you<br>     should set this to a very low value ;-)</p>
<pre><code> Example: sccparam /dev/scc0 maxdefer 240    # 2 minutes
</code></pre>
<p>txoff:<br>     When this parameter has the value 0, the transmission of packets<br>     is enable. Otherwise it is disabled.</p>
<pre><code> Example: sccparam /dev/scc2 txoff on
</code></pre>
<p>group:<br>     It is possible to build special radio equipment to use more than<br>     one frequency on the same band, e.g. using several receivers and<br>     only one transmitter that can be switched between frequencies.<br>     Also, you can connect several radios that are active on the same<br>     band.  In these cases, it is not possible, or not a good idea, to<br>     transmit on more than one frequency.  The SCC driver provides a<br>     method to lock transmitters on different interfaces, using the<br>     “param <interface> group <x>“ command.  This will only work when<br>     you are using CSMA mode (parameter full = 0).<br>     The number <x> must be 0 if you want no group restrictions, and<br>     can be computed as follows to create restricted groups:<br>     <x> is the sum of some OCTAL numbers:</p>
<pre><code> 200  This transmitter will only be keyed when all other 
      transmitters in the group are off.
 100  This transmitter will only be keyed when the carrier 
      detect of all other interfaces in the group is off.
 0xx  A byte that can be used to define different groups.  
      Interfaces are in the same group, when the logical AND 
      between their xx values is nonzero.

 Examples:
 When 2 interfaces use group 201, their transmitters will never be 
 keyed at the same time.
 When 2 interfaces use group 101, the transmitters will only key 
 when both channels are clear at the same time.  When group 301, 
 the transmitters will not be keyed at the same time.

 Don&#39;t forget to convert the octal numbers into decimal before
 you set the parameter.

 Example: (to be written)
</code></pre>
<p>softdcd:<br>     use a software dcd instead of the real one… Useful for a very<br>     slow squelch.</p>
<pre><code> Example: sccparam /dev/scc0 soft on
</code></pre>
<ol start="4">
<li><h1 id="Problems"><a href="#Problems" class="headerlink" title="Problems "></a>Problems </h1></li>
</ol>
<p>If you have tx-problems with your BayCom USCC card please check<br>the manufacturer of the 8530. SGS chips have a slightly<br>different timing. Try Zilog…  A solution is to write to register 8<br>instead to the data port, but this won’t work with the ESCC chips.<br><em>SIGH!</em></p>
<p>A very common problem is that the PTT locks until the maxkeyup timer<br>expires, although interrupts and clock source are correct. In most<br>cases compiling the driver with CONFIG_SCC_DELAY (set with<br>make config) solves the problems. For more hints read the (pseudo) FAQ<br>and the documentation coming with z8530drv-utils.</p>
<p>I got reports that the driver has problems on some 386-based systems.<br>(i.e. Amstrad) Those systems have a bogus AT bus timing which will<br>lead to delayed answers on interrupts. You can recognize these<br>problems by looking at the output of Sccstat for the suspected<br>port. If it shows under- and overruns you own such a system.</p>
<p>Delayed processing of received data: This depends on</p>
<ul>
<li><p>the kernel version</p>
</li>
<li><p>kernel profiling compiled or not</p>
</li>
<li><p>a high interrupt load</p>
</li>
<li><p>a high load of the machine — running X, Xmorph, XV and Povray,<br>while compiling the kernel… hmm … even with 32 MB RAM …  ;-)<br>Or running a named for the whole .ampr.org domain on an 8 MB<br>box…</p>
</li>
<li><p>using information from rxecho or kissbridge.</p>
</li>
</ul>
<p>Kernel panics: please read /linux/README and find out if it<br>really occurred within the scc driver.</p>
<p>If you cannot solve a problem, send me</p>
<ul>
<li>a description of the problem,</li>
<li>information on your hardware (computer system, scc board, modem)</li>
<li>your kernel version</li>
<li>the output of cat /proc/net/z8530</li>
</ul>
<ol start="4">
<li><h1 id="Thor-RLC100"><a href="#Thor-RLC100" class="headerlink" title="Thor RLC100"></a>Thor RLC100</h1></li>
</ol>
<p>Mysteriously this board seems not to work with the driver. Anyone<br>got it up-and-running?</p>
<p>Many thanks to Linus Torvalds and Alan Cox for including the driver<br>in the Linux standard distribution and their support.</p>
<p>Joerg Reuter    ampr-net: <a href="mailto:&#x64;&#x6c;&#x31;&#98;&#x6b;&#x65;&#x40;&#100;&#98;&#48;&#112;&#114;&#x61;&#x2e;&#97;&#109;&#x70;&#114;&#x2e;&#111;&#114;&#x67;">&#x64;&#x6c;&#x31;&#98;&#x6b;&#x65;&#x40;&#100;&#98;&#48;&#112;&#114;&#x61;&#x2e;&#97;&#109;&#x70;&#114;&#x2e;&#111;&#114;&#x67;</a><br>        AX-25   : DL1BKE @ DB0ABH.#BAY.DEU.EU<br>        Internet: <a href="mailto:&#x6a;&#114;&#x65;&#x75;&#116;&#101;&#114;&#64;&#x79;&#97;&#x69;&#110;&#97;&#46;&#100;&#101;">&#x6a;&#114;&#x65;&#x75;&#116;&#101;&#114;&#64;&#x79;&#97;&#x69;&#110;&#97;&#46;&#100;&#101;</a><br>        WWW     : <a target="_blank" rel="noopener" href="http://yaina.de/jreuter">http://yaina.de/jreuter</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_z8530drv/" title="Kernel-4.18.0-80.el8_z8530drv" target="_blank" rel="external">http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_z8530drv/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/02/19/Kernel-4.18.0-80.el8_xillybus/" title="Kernel-4.18.0-80.el8_xillybus"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/02/19/Kernel-4.18.0-80.el8_advansys/" title="Kernel-4.18.0-80.el8_advansys"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>