<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-4.18.0-80.el8_hptiop | oosTech.com</title>
  <meta name="description" content="HIGHPOINT ROCKETRAID 3xxx&#x2F;4xxx ADAPTER DRIVER (hptiop) Controller Register MapFor RR44xx Intel IOP based adapters, the controller IOP is accessed via PCI BAR0 and BAR2:  BAR0 offset    Register">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-4.18.0-80.el8_hptiop">
<meta property="og:url" content="http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_hptiop/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="HIGHPOINT ROCKETRAID 3xxx&#x2F;4xxx ADAPTER DRIVER (hptiop) Controller Register MapFor RR44xx Intel IOP based adapters, the controller IOP is accessed via PCI BAR0 and BAR2:  BAR0 offset    Register">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-02-18T16:00:00.000Z">
<meta property="article:modified_time" content="2021-02-18T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_hptiop/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_mpc5200/" class="title">Kernel-3.10.0-957.el7_mpc5200</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_6pack/" class="title">Kernel-3.10.0-957.el7_6pack</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Controller-Register-Map"><span class="toc-number">1.</span> <span class="toc-text">Controller Register Map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O-Request-Workflow-of-Not-Marvell-Frey"><span class="toc-number">2.</span> <span class="toc-text">I&#x2F;O Request Workflow of Not Marvell Frey</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O-Request-Workflow-of-Marvell-Frey"><span class="toc-number">3.</span> <span class="toc-text">I&#x2F;O Request Workflow of Marvell Frey</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#User-level-Interface"><span class="toc-number">4.</span> <span class="toc-text">User-level Interface</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-4.18.0-80.el8_hptiop" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-4.18.0-80.el8_hptiop
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/02/19/Kernel-4.18.0-80.el8_hptiop/" class="article-date">
	 published: <time datetime="2021-02-18T16:00:00.000Z" itemprop="datePublished">2021-02-19</time>
	</a>
</span>

        
	<a href="/2021/02/19/Kernel-4.18.0-80.el8_hptiop/" class="article-date">
	   updated: <time datetime="2021-02-18T16:00:00.000Z" itemprop="dateUpdated">2021-02-19</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/02/19/Kernel-4.18.0-80.el8_hptiop/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p>HIGHPOINT ROCKETRAID 3xxx/4xxx ADAPTER DRIVER (hptiop)</p>
<h2 id="Controller-Register-Map"><a href="#Controller-Register-Map" class="headerlink" title="Controller Register Map"></a>Controller Register Map</h2><p>For RR44xx Intel IOP based adapters, the controller IOP is accessed via PCI BAR0 and BAR2:</p>
<pre><code> BAR0 offset    Register
        0x11C5C Link Interface IRQ Set
        0x11C60 Link Interface IRQ Clear

 BAR2 offset    Register
        0x10    Inbound Message Register 0
        0x14    Inbound Message Register 1
        0x18    Outbound Message Register 0
        0x1C    Outbound Message Register 1
        0x20    Inbound Doorbell Register
        0x24    Inbound Interrupt Status Register
        0x28    Inbound Interrupt Mask Register
        0x30    Outbound Interrupt Status Register
        0x34    Outbound Interrupt Mask Register
        0x40    Inbound Queue Port
        0x44    Outbound Queue Port
</code></pre>
<p>For Intel IOP based adapters, the controller IOP is accessed via PCI BAR0:</p>
<pre><code> BAR0 offset    Register
        0x10    Inbound Message Register 0
        0x14    Inbound Message Register 1
        0x18    Outbound Message Register 0
        0x1C    Outbound Message Register 1
        0x20    Inbound Doorbell Register
        0x24    Inbound Interrupt Status Register
        0x28    Inbound Interrupt Mask Register
        0x30    Outbound Interrupt Status Register
        0x34    Outbound Interrupt Mask Register
        0x40    Inbound Queue Port
        0x44    Outbound Queue Port
</code></pre>
<p>For Marvell not Frey IOP based adapters, the IOP is accessed via PCI BAR0 and BAR1:</p>
<pre><code> BAR0 offset    Register
     0x20400    Inbound Doorbell Register
     0x20404    Inbound Interrupt Mask Register
     0x20408    Outbound Doorbell Register
     0x2040C    Outbound Interrupt Mask Register

 BAR1 offset    Register
         0x0    Inbound Queue Head Pointer
         0x4    Inbound Queue Tail Pointer
         0x8    Outbound Queue Head Pointer
         0xC    Outbound Queue Tail Pointer
        0x10    Inbound Message Register
        0x14    Outbound Message Register
 0x40-0x1040    Inbound Queue
</code></pre>
<p>   0x1040-0x2040    Outbound Queue</p>
<p>For Marvell Frey IOP based adapters, the IOP is accessed via PCI BAR0 and BAR1:</p>
<pre><code> BAR0 offset    Register
         0x0    IOP configuration information.

 BAR1 offset    Register
      0x4000    Inbound List Base Address Low
      0x4004    Inbound List Base Address High
      0x4018    Inbound List Write Pointer
      0x402C    Inbound List Configuration and Control
      0x4050    Outbound List Base Address Low
      0x4054    Outbound List Base Address High
      0x4058    Outbound List Copy Pointer Shadow Base Address Low
      0x405C    Outbound List Copy Pointer Shadow Base Address High
      0x4088    Outbound List Interrupt Cause
      0x408C    Outbound List Interrupt Enable
     0x1020C    PCIe Function 0 Interrupt Enable
     0x10400    PCIe Function 0 to CPU Message A
     0x10420    CPU to PCIe Function 0 Message A
     0x10480    CPU to PCIe Function 0 Doorbell
     0x10484    CPU to PCIe Function 0 Doorbell Enable
</code></pre>
<h2 id="I-O-Request-Workflow-of-Not-Marvell-Frey"><a href="#I-O-Request-Workflow-of-Not-Marvell-Frey" class="headerlink" title="I/O Request Workflow of Not Marvell Frey"></a>I/O Request Workflow of Not Marvell Frey</h2><p>All queued requests are handled via inbound/outbound queue port.<br>A request packet can be allocated in either IOP or host memory.</p>
<p>To send a request to the controller:</p>
<pre><code>- Get a free request packet by reading the inbound queue port or
  allocate a free request in host DMA coherent memory.

  The value returned from the inbound queue port is an offset
  relative to the IOP BAR0.

  Requests allocated in host memory must be aligned on 32-bytes boundary.

- Fill the packet.

- Post the packet to IOP by writing it to inbound queue. For requests
  allocated in IOP memory, write the offset to inbound queue port. For
  requests allocated in host memory, write (0x80000000|(bus_addr&gt;&gt;5))
  to the inbound queue port.

- The IOP process the request. When the request is completed, it
  will be put into outbound queue. An outbound interrupt will be
  generated.

  For requests allocated in IOP memory, the request offset is posted to
  outbound queue.

  For requests allocated in host memory, (0x80000000|(bus_addr&gt;&gt;5))
  is posted to the outbound queue. If IOP_REQUEST_FLAG_OUTPUT_CONTEXT
  flag is set in the request, the low 32-bit context value will be
  posted instead.

- The host read the outbound queue and complete the request.

  For requests allocated in IOP memory, the host driver free the request
  by writing it to the outbound queue.
</code></pre>
<p>Non-queued requests (reset/flush etc) can be sent via inbound message<br>register 0. An outbound message with the same value indicates the completion<br>of an inbound message.</p>
<h2 id="I-O-Request-Workflow-of-Marvell-Frey"><a href="#I-O-Request-Workflow-of-Marvell-Frey" class="headerlink" title="I/O Request Workflow of Marvell Frey"></a>I/O Request Workflow of Marvell Frey</h2><p>All queued requests are handled via inbound/outbound list.</p>
<p>To send a request to the controller:</p>
<pre><code>- Allocate a free request in host DMA coherent memory.

  Requests allocated in host memory must be aligned on 32-bytes boundary.

- Fill the request with index of the request in the flag.

  Fill a free inbound list unit with the physical address and the size of
  the request.

  Set up the inbound list write pointer with the index of previous unit,
  round to 0 if the index reaches the supported count of requests.

- Post the inbound list writer pointer to IOP.

- The IOP process the request. When the request is completed, the flag of
  the request with or-ed IOPMU_QUEUE_MASK_HOST_BITS will be put into a
  free outbound list unit and the index of the outbound list unit will be
  put into the copy pointer shadow register. An outbound interrupt will be
  generated.

- The host read the outbound list copy pointer shadow register and compare
  with previous saved read pointer N. If they are different, the host will
  read the (N+1)th outbound list unit.

  The host get the index of the request from the (N+1)th outbound list
  unit and complete the request.
</code></pre>
<p>Non-queued requests (reset communication/reset/flush etc) can be sent via PCIe<br>Function 0 to CPU Message A register. The CPU to PCIe Function 0 Message register<br>with the same value indicates the completion of message.</p>
<h2 id="User-level-Interface"><a href="#User-level-Interface" class="headerlink" title="User-level Interface"></a>User-level Interface</h2><p>The driver exposes following sysfs attributes:</p>
<pre><code> NAME                 R/W    Description
 driver-version        R     driver version string
 firmware-version      R     firmware version string
</code></pre>
<hr>
<p>Copyright (C) 2006-2012 HighPoint Technologies, Inc. All Rights Reserved.</p>
<p>  This file is distributed in the hope that it will be useful,<br>  but WITHOUT ANY WARRANTY; without even the implied warranty of<br>  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br>  GNU General Public License for more details.</p>
<p>  <a href="mailto:&#x6c;&#105;&#110;&#x75;&#x78;&#x40;&#x68;&#x69;&#103;&#104;&#112;&#111;&#x69;&#110;&#116;&#45;&#x74;&#101;&#99;&#x68;&#x2e;&#x63;&#x6f;&#x6d;">&#x6c;&#105;&#110;&#x75;&#x78;&#x40;&#x68;&#x69;&#103;&#104;&#112;&#111;&#x69;&#110;&#116;&#45;&#x74;&#101;&#99;&#x68;&#x2e;&#x63;&#x6f;&#x6d;</a><br>  <a target="_blank" rel="noopener" href="http://www.highpoint-tech.com/">http://www.highpoint-tech.com</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_hptiop/" title="Kernel-4.18.0-80.el8_hptiop" target="_blank" rel="external">http://www.oostech.com/2021/02/19/Kernel-4.18.0-80.el8_hptiop/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/02/19/Kernel-4.18.0-80.el8_hpsa/" title="Kernel-4.18.0-80.el8_hpsa"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/02/19/Kernel-4.18.0-80.el8_hpwdt/" title="Kernel-4.18.0-80.el8_hpwdt"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>