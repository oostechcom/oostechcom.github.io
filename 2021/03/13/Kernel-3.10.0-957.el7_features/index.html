<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-3.10.0-957.el7_features | oosTech.com</title>
  <meta name="description" content="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;          FUJITSU FR-V LINUX FEATURES          &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;  This kernel port has a number of features of which the user should be aware:  (*) Linux">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-3.10.0-957.el7_features">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_features/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;          FUJITSU FR-V LINUX FEATURES          &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;  This kernel port has a number of features of which the user should be aware:  (*) Linux">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_features/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-3.10.0-957.el7_features" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-3.10.0-957.el7_features
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_features/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_features/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-3.10.0-957.el7_features/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <pre><code>         ===========================
         FUJITSU FR-V LINUX FEATURES
         ===========================
</code></pre>
<p>This kernel port has a number of features of which the user should be aware:</p>
<p> (*) Linux and uClinux</p>
<pre><code> The FR-V architecture port supports both normal MMU linux and uClinux out
 of the same sources.
</code></pre>
<p> (*) CPU support</p>
<pre><code> Support for the FR401, FR403, FR405, FR451 and FR555 CPUs should work with
 the same uClinux kernel configuration.

 In normal (MMU) Linux mode, only the FR451 CPU will work as that is the
 only one with a suitably featured CPU.

 The kernel is written and compiled with the assumption that only the
 bottom 32 GR registers and no FR registers will be used by the kernel
 itself, however all extra userspace registers will be saved on context
 switch. Note that since most CPUs can&#39;t support lazy switching, no attempt
 is made to do lazy register saving where that would be possible (FR555
 only currently).
</code></pre>
<p> (*) Board support</p>
<pre><code> The board on which the kernel will run can be configured on the &quot;Processor
 type and features&quot; configuration tab.

 Set the System to &quot;MB93093-PDK&quot; to boot from the MB93093 (FR403) PDK.

 Set the System to &quot;MB93091-VDK&quot; to boot from the CB11, CB30, CB41, CB60,
 CB70 or CB451 VDK boards. Set the Motherboard setting to &quot;MB93090-MB00&quot; to
 boot with the standard ATA90590B VDK motherboard, and set it to &quot;None&quot; to
 boot without any motherboard.
</code></pre>
<p> (*) Binary Formats</p>
<pre><code> The only userspace binary format supported is FDPIC ELF. Normal ELF, FLAT
 and AOUT binaries are not supported for this architecture.

 FDPIC ELF supports shared library and program interpreter facilities.
</code></pre>
<p> (*) Scheduler Speed</p>
<pre><code> The kernel scheduler runs at 100Hz irrespective of the clock speed on this
 architecture. This value is set in asm/param.h (see the HZ macro defined
 there).
</code></pre>
<p> (*) Normal (MMU) Linux Memory Layout.</p>
<pre><code> See mmu-layout.txt in this directory for a description of the normal linux
 memory layout

 See include/asm-frv/mem-layout.h for constants pertaining to the memory
 layout.

 See include/asm-frv/mb-regs.h for the constants pertaining to the I/O bus
 controller configuration.
</code></pre>
<p> (*) uClinux Memory Layout</p>
<pre><code> The memory layout used by the uClinux kernel is as follows:

0x00000000 - 0x00000FFF        Null pointer catch page
0x20000000 - 0x200FFFFF CS2#    [PDK] FPGA
0xC0000000 - 0xCFFFFFFF        SDRAM
0xC0000000            Base of Linux kernel image
0xE0000000 - 0xEFFFFFFF    CS2#    [VDK] SLBUS/PCI window
0xF0000000 - 0xF0FFFFFF    CS5#    MB93493 CSC area (DAV daughter board)
0xF1000000 - 0xF1FFFFFF    CS7#    [CB70/CB451] CPU-card PCMCIA port space
0xFC000000 - 0xFC0FFFFF    CS1#    [VDK] MB86943 config space
0xFC100000 - 0xFC1FFFFF    CS6#    [CB70/CB451] CPU-card DM9000 NIC space
0xFC100000 - 0xFC1FFFFF    CS6#    [PDK] AX88796 NIC space
0xFC200000 - 0xFC2FFFFF    CS3#    MB93493 CSR area (DAV daughter board)
0xFD000000 - 0xFDFFFFFF    CS4#    [CB70/CB451] CPU-card extra flash space
0xFE000000 - 0xFEFFFFFF        Internal CPU peripherals
0xFF000000 - 0xFF1FFFFF    CS0#    Flash 1
0xFF200000 - 0xFF3FFFFF    CS0#    Flash 2
0xFFC00000 - 0xFFC0001F    CS0#    [VDK] FPGA

 The kernel reads the size of the SDRAM from the memory bus controller
 registers by default.

 The kernel initialisation code (1) adjusts the SDRAM base addresses to
 move the SDRAM to desired address, (2) moves the kernel image down to the
 bottom of SDRAM, (3) adjusts the bus controller registers to move I/O
 windows, and (4) rearranges the protection registers to protect all of
 this.

 The reasons for doing this are: (1) the page at address 0 should be
 inaccessible so that NULL pointer errors can be caught; and (2) the bottom
 three quarters are left unoccupied so that an FR-V CPU with an MMU can use
 it for virtual userspace mappings.

 See include/asm-frv/mem-layout.h for constants pertaining to the memory
 layout.

 See include/asm-frv/mb-regs.h for the constants pertaining to the I/O bus
 controller configuration.
</code></pre>
<p> (*) uClinux Memory Protection</p>
<pre><code> A DAMPR register is used to cover the entire region used for I/O
 (0xE0000000 - 0xFFFFFFFF). This permits the kernel to make uncached
 accesses to this region. Userspace is not permitted to access it.

 The DAMPR/IAMPR protection registers not in use for any other purpose are
 tiled over the top of the SDRAM such that:

(1) The core kernel image is covered by as small a tile as possible
        granting only the kernel access to the underlying data, whilst
        making sure no SDRAM is actually made unavailable by this approach.

(2) All other tiles are arranged to permit userspace access to the rest
        of the SDRAM.

 Barring point (1), there is nothing to protect kernel data against
 userspace damage - but this is uClinux.
</code></pre>
<p> (*) Exceptions and Fixups</p>
<pre><code> Since the FR40x and FR55x CPUs that do not have full MMUs generate
 imprecise data error exceptions, there are currently no automatic fixup
 services available in uClinux. This includes misaligned memory access
 fixups.

 Userspace EFAULT errors can be trapped by issuing a MEMBAR instruction and
 forcing the fault to happen there.

 On the FR451, however, data exceptions are mostly precise, and so
 exception fixup handling is implemented as normal.
</code></pre>
<p> (*) Userspace Breakpoints</p>
<pre><code> The ptrace() system call supports the following userspace debugging
 features:

(1) Hardware assisted single step.

(2) Breakpoint via the FR-V &quot;BREAK&quot; instruction.

(3) Breakpoint via the FR-V &quot;TIRA GR0, #1&quot; instruction.

(4) Syscall entry/exit trap.

 Each of the above generates a SIGTRAP.
</code></pre>
<p> (*) On-Chip Serial Ports</p>
<pre><code> The FR-V on-chip serial ports are made available as ttyS0 and ttyS1. Note
 that if the GDB stub is compiled in, ttyS1 will not actually be available
 as it will be being used for the GDB stub.

 These ports can be made by:

mknod /dev/ttyS0 c 4 64
mknod /dev/ttyS1 c 4 65
</code></pre>
<p> (*) Maskable Interrupts</p>
<pre><code> Level 15 (Non-maskable) interrupts are dealt with by the GDB stub if
 present, and cause a panic if not. If the GDB stub is present, ttyS1&#39;s
 interrupts are rated at level 15.

 All other interrupts are distributed over the set of available priorities
 so that no IRQs are shared where possible. The arch interrupt handling
 routines attempt to disentangle the various sources available through the
 CPU&#39;s own multiplexor, and those on off-CPU peripherals.
</code></pre>
<p> (*) Accessing PCI Devices</p>
<pre><code> Where PCI is available, care must be taken when dealing with drivers that
 access PCI devices. PCI devices present their data in little-endian form,
 but the CPU sees it in big-endian form. The macros in asm/io.h try to get
 this right, but may not under all circumstances...
</code></pre>
<p> (*) Ax88796 Ethernet Driver</p>
<pre><code> The MB93093 PDK board has an Ax88796 ethernet chipset (an NE2000 clone). A
 driver has been written to deal specifically with this. The driver
 provides MII services for the card.

 The driver can be configured by running make xconfig, and going to:

(*) Network device support
    - turn on &quot;Network device support&quot;
    (*) Ethernet (10 or 100Mbit)
    - turn on &quot;Ethernet (10 or 100Mbit)&quot;
    - turn on &quot;AX88796 NE2000 compatible chipset&quot;

 The driver can be found in:

drivers/net/ax88796.c
include/asm/ax88796.h
</code></pre>
<p> (*) WorkRAM Driver</p>
<pre><code> This driver provides a character device that permits access to the WorkRAM
 that can be found on the FR451 CPU. Each page is accessible through a
 separate minor number, thereby permitting each page to have its own
 filesystem permissions set on the device file.

 The device files should be:

mknod /dev/frv/workram0 c 240 0
mknod /dev/frv/workram1 c 240 1
mknod /dev/frv/workram2 c 240 2
...

 The driver will not permit the opening of any device file that does not
 correspond to at least a partial page of WorkRAM. So the first device file
 is the only one available on the FR451. If any other CPU is detected, none
 of the devices will be openable.

 The devices can be accessed with read, write and llseek, and can also be
 mmapped. If they&#39;re mmapped, they will only map at the appropriate
 0x7e8nnnnn address on linux and at the 0xfe8nnnnn address on uClinux. If
 MAP_FIXED is not specified, the appropriate address will be chosen anyway.

 The mappings must be MAP_SHARED not MAP_PRIVATE, and must not be
 PROT_EXEC. They must also start at file offset 0, and must not be longer
 than one page in size.

 This driver can be configured by running make xconfig, and going to:

(*) Character devices
    - turn on &quot;Fujitsu FR-V CPU WorkRAM support&quot;
</code></pre>
<p> (*) Dynamic data cache write mode changing</p>
<pre><code> It is possible to view and to change the data cache&#39;s write mode through
 the /proc/sys/frv/cache-mode file while the kernel is running. There are
 two modes available:

NAME    MEANING
=====    ==========================================
wthru    Data cache is in Write-Through mode
wback    Data cache is in Write-Back/Copy-Back mode

 To read the cache mode:

# cat /proc/sys/frv/cache-mode
wthru

 To change the cache mode:

# echo wback &gt;/proc/sys/frv/cache-mode
# cat /proc/sys/frv/cache-mode
wback
</code></pre>
<p> (*) MMU Context IDs and Pinning</p>
<pre><code> On MMU Linux the CPU supports the concept of a context ID in its MMU to
 make it more efficient (TLB entries are labelled with a context ID to link
 them to specific tasks).

 Normally once a context ID is allocated, it will remain affixed to a task
 or CLONE_VM&#39;d group of tasks for as long as it exists. However, since the
 kernel is capable of supporting more tasks than there are possible ID
 numbers, the kernel will pass context IDs from one task to another if
 there are insufficient available.

 The context ID currently in use by a task can be viewed in /proc:

# grep CXNR /proc/1/status
CXNR: 1

 Note that kernel threads do not have a userspace context, and so will not
 show a CXNR entry in that file.

 Under some circumstances, however, it is desirable to pin a context ID on
 a process such that the kernel won&#39;t pass it on. This can be done by
 writing the process ID of the target process to a special file:

# echo 17 &gt;/proc/sys/frv/pin-cxnr

 Reading from the file will then show the context ID pinned.

# cat /proc/sys/frv/pin-cxnr
4

 The context ID will remain pinned as long as any process is using that
 context, i.e.: when the all the subscribing processes have exited or
 exec&#39;d; or when an unpinning request happens:

# echo 0 &gt;/proc/sys/frv/pin-cxnr

 When there isn&#39;t a pinned context, the file shows -1:

# cat /proc/sys/frv/pin-cxnr
-1
</code></pre>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_features/" title="Kernel-3.10.0-957.el7_features" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_features/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_ff/" title="Kernel-3.10.0-957.el7_ff"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_fib_trie/" title="Kernel-3.10.0-957.el7_fib_trie"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>