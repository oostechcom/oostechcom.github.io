<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-3.10.0-957.el7_vortex | oosTech.com</title>
  <meta name="description" content="Documentation&#x2F;networking&#x2F;vortex.txtAndrew Morton30 April 2000 This document describes the usage and errata of the 3Com “Vortex” devicedriver for Linux, 3c59x.c. The driver was written by Donald Becker">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-3.10.0-957.el7_vortex">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_vortex/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="Documentation&#x2F;networking&#x2F;vortex.txtAndrew Morton30 April 2000 This document describes the usage and errata of the 3Com “Vortex” devicedriver for Linux, 3c59x.c. The driver was written by Donald Becker">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_vortex/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Module-parameters"><span class="toc-number">1.</span> <span class="toc-text">Module parameters</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Media-selection"><span class="toc-number">1.1.</span> <span class="toc-text">Media selection</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Transmit-error-Tx-status-register-82"><span class="toc-number">1.2.</span> <span class="toc-text">Transmit error, Tx status register 82</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Additional-resources"><span class="toc-number">1.3.</span> <span class="toc-text">Additional resources</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Autonegotiation-notes"><span class="toc-number">1.4.</span> <span class="toc-text">Autonegotiation notes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reporting-and-diagnosing-problems"><span class="toc-number">1.5.</span> <span class="toc-text">Reporting and diagnosing problems</span></a></li></ol></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-3.10.0-957.el7_vortex" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-3.10.0-957.el7_vortex
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_vortex/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_vortex/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-3.10.0-957.el7_vortex/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p>Documentation/networking/vortex.txt<br>Andrew Morton<br>30 April 2000</p>
<p>This document describes the usage and errata of the 3Com “Vortex” device<br>driver for Linux, 3c59x.c.</p>
<p>The driver was written by Donald Becker <a href="mailto:&#x62;&#x65;&#99;&#107;&#x65;&#x72;&#x40;&#115;&#x63;&#x79;&#x6c;&#100;&#x2e;&#99;&#111;&#x6d;">&#x62;&#x65;&#99;&#107;&#x65;&#x72;&#x40;&#115;&#x63;&#x79;&#x6c;&#100;&#x2e;&#99;&#111;&#x6d;</a></p>
<p>Don is no longer the prime maintainer of this version of the driver.<br>Please report problems to one or more of:</p>
<p>  Andrew Morton<br>  Netdev mailing list <a href="mailto:&#x6e;&#x65;&#x74;&#100;&#101;&#x76;&#64;&#x76;&#103;&#x65;&#114;&#46;&#107;&#x65;&#114;&#x6e;&#101;&#108;&#x2e;&#x6f;&#114;&#103;">&#x6e;&#x65;&#x74;&#100;&#101;&#x76;&#64;&#x76;&#103;&#x65;&#114;&#46;&#107;&#x65;&#114;&#x6e;&#101;&#108;&#x2e;&#x6f;&#114;&#103;</a><br>  Linux kernel mailing list <a href="mailto:&#108;&#105;&#x6e;&#117;&#x78;&#x2d;&#x6b;&#101;&#x72;&#110;&#x65;&#108;&#x40;&#118;&#103;&#101;&#114;&#46;&#x6b;&#101;&#x72;&#x6e;&#101;&#x6c;&#46;&#111;&#x72;&#103;">&#108;&#105;&#x6e;&#117;&#x78;&#x2d;&#x6b;&#101;&#x72;&#110;&#x65;&#108;&#x40;&#118;&#103;&#101;&#114;&#46;&#x6b;&#101;&#x72;&#x6e;&#101;&#x6c;&#46;&#111;&#x72;&#103;</a></p>
<p>Please note the ‘Reporting and Diagnosing Problems’ section at the end<br>of this file.</p>
<p>Since kernel 2.3.99-pre6, this driver incorporates the support for the<br>3c575-series Cardbus cards which used to be handled by 3c575_cb.c.</p>
<p>This driver supports the following hardware:</p>
<pre><code>3c590 Vortex 10Mbps
3c592 EISA 10Mbps Demon/Vortex
3c597 EISA Fast Demon/Vortex
3c595 Vortex 100baseTx
3c595 Vortex 100baseT4
3c595 Vortex 100base-MII
3c900 Boomerang 10baseT
3c900 Boomerang 10Mbps Combo
3c900 Cyclone 10Mbps TPO
3c900 Cyclone 10Mbps Combo
3c900 Cyclone 10Mbps TPC
3c900B-FL Cyclone 10base-FL
3c905 Boomerang 100baseTx
3c905 Boomerang 100baseT4
3c905B Cyclone 100baseTx
3c905B Cyclone 10/100/BNC
3c905B-FX Cyclone 100baseFx
3c905C Tornado
3c920B-EMB-WNM (ATI Radeon 9100 IGP)
3c980 Cyclone
3c980C Python-T
3cSOHO100-TX Hurricane
3c555 Laptop Hurricane
3c556 Laptop Tornado
3c556B Laptop Hurricane
3c575 [Megahertz] 10/100 LAN  CardBus
3c575 Boomerang CardBus
3CCFE575BT Cyclone CardBus
3CCFE575CT Tornado CardBus
3CCFE656 Cyclone CardBus
3CCFEM656B Cyclone+Winmodem CardBus
3CXFEM656C Tornado+Winmodem CardBus
3c450 HomePNA Tornado
3c920 Tornado
3c982 Hydra Dual Port A
3c982 Hydra Dual Port B
3c905B-T4
3c920B-EMB-WNM Tornado
</code></pre>
<h1 id="Module-parameters"><a href="#Module-parameters" class="headerlink" title="Module parameters"></a>Module parameters</h1><p>There are several parameters which may be provided to the driver when<br>its module is loaded.  These are usually placed in /etc/modprobe.d/*.conf<br>configuretion files.  Example:</p>
<p>options 3c59x debug=3 rx_copybreak=300</p>
<p>If you are using the PCMCIA tools (cardmgr) then the options may be<br>placed in /etc/pcmcia/config.opts:</p>
<p>module “3c59x” opts “debug=3 rx_copybreak=300”</p>
<p>The supported parameters are:</p>
<p>debug=N</p>
<p>  Where N is a number from 0 to 7.  Anything above 3 produces a lot<br>  of output in your system logs.  debug=1 is default.</p>
<p>options=N1,N2,N3,…</p>
<p>  Each number in the list provides an option to the corresponding<br>  network card.  So if you have two 3c905’s and you wish to provide<br>  them with option 0x204 you would use:</p>
<pre><code>options=0x204,0x204
</code></pre>
<p>  The individual options are composed of a number of bitfields which<br>  have the following meanings:</p>
<p>  Possible media type settings<br>    0    10baseT<br>    1    10Mbs AUI<br>    2    undefined<br>    3    10base2 (BNC)<br>    4    100base-TX<br>    5    100base-FX<br>    6    MII (Media Independent Interface)<br>    7    Use default setting from EEPROM<br>    8       Autonegotiate<br>    9       External MII<br>    10      Use default setting from EEPROM</p>
<p>  When generating a value for the ‘options’ setting, the above media<br>  selection values may be OR’ed (or added to) the following:</p>
<p>  0x8000  Set driver debugging level to 7<br>  0x4000  Set driver debugging level to 2<br>  0x0400  Enable Wake-on-LAN<br>  0x0200  Force full duplex mode.<br>  0x0010  Bus-master enable bit (Old Vortex cards only)</p>
<p>  For example:</p>
<pre><code>insmod 3c59x options=0x204
</code></pre>
<p>  will force full-duplex 100base-TX, rather than allowing the usual<br>  autonegotiation.</p>
<p>global_options=N</p>
<p>  Sets the <code>options&#39; parameter for all 3c59x NICs in the machine.    Entries in the </code>options’ array above will override any setting of<br>  this.</p>
<p>full_duplex=N1,N2,N3…</p>
<p>  Similar to bit 9 of ‘options’.  Forces the corresponding card into<br>  full-duplex mode.  Please use this in preference to the `options’<br>  parameter.</p>
<p>  In fact, please don’t use this at all! You’re better off getting<br>  autonegotiation working properly.</p>
<p>global_full_duplex=N1</p>
<p>  Sets full duplex mode for all 3c59x NICs in the machine.  Entries<br>  in the `full_duplex’ array above will override any setting of this.</p>
<p>flow_ctrl=N1,N2,N3…</p>
<p>  Use 802.3x MAC-layer flow control.  The 3com cards only support the<br>  PAUSE command, which means that they will stop sending packets for a<br>  short period if they receive a PAUSE frame from the link partner. </p>
<p>  The driver only allows flow control on a link which is operating in<br>  full duplex mode.</p>
<p>  This feature does not appear to work on the 3c905 - only 3c905B and<br>  3c905C have been tested.</p>
<p>  The 3com cards appear to only respond to PAUSE frames which are<br>  sent to the reserved destination address of 01:80:c2:00:00:01.  They<br>  do not honour PAUSE frames which are sent to the station MAC address.</p>
<p>rx_copybreak=M</p>
<p>  The driver preallocates 32 full-sized (1536 byte) network buffers<br>  for receiving.  When a packet arrives, the driver has to decide<br>  whether to leave the packet in its full-sized buffer, or to allocate<br>  a smaller buffer and copy the packet across into it.</p>
<p>  This is a speed/space tradeoff.</p>
<p>  The value of rx_copybreak is used to decide when to make the copy.<br>  If the packet size is less than rx_copybreak, the packet is copied.<br>  The default value for rx_copybreak is 200 bytes.</p>
<p>max_interrupt_work=N</p>
<p>  The driver’s interrupt service routine can handle many receive and<br>  transmit packets in a single invocation.  It does this in a loop.<br>  The value of max_interrupt_work governs how mnay times the interrupt<br>  service routine will loop.  The default value is 32 loops.  If this<br>  is exceeded the interrupt service routine gives up and generates a<br>  warning message “eth0: Too much work in interrupt”.</p>
<p>hw_checksums=N1,N2,N3,…</p>
<p>  Recent 3com NICs are able to generate IPv4, TCP and UDP checksums<br>  in hardware.  Linux has used the Rx checksumming for a long time.<br>  The “zero copy” patch which is planned for the 2.4 kernel series<br>  allows you to make use of the NIC’s DMA scatter/gather and transmit<br>  checksumming as well.</p>
<p>  The driver is set up so that, when the zerocopy patch is applied,<br>  all Tornado and Cyclone devices will use S/G and Tx checksums.</p>
<p>  This module parameter has been provided so you can override this<br>  decision.  If you think that Tx checksums are causing a problem, you<br>  may disable the feature with `hw_checksums=0’.</p>
<p>  If you think your NIC should be performing Tx checksumming and the<br>  driver isn’t enabling it, you can force the use of hardware Tx<br>  checksumming with `hw_checksums=1’.</p>
<p>  The driver drops a message in the logfiles to indicate whether or<br>  not it is using hardware scatter/gather and hardware Tx checksums.</p>
<p>  Scatter/gather and hardware checksums provide considerable<br>  performance improvement for the sendfile() system call, but a small<br>  decrease in throughput for send().  There is no effect upon receive<br>  efficiency.</p>
<p>compaq_ioaddr=N<br>compaq_irq=N<br>compaq_device_id=N</p>
<p>  “Variables to work-around the Compaq PCI BIOS32 problem”….</p>
<p>watchdog=N</p>
<p>  Sets the time duration (in milliseconds) after which the kernel<br>  decides that the transmitter has become stuck and needs to be reset.<br>  This is mainly for debugging purposes, although it may be advantageous<br>  to increase this value on LANs which have very high collision rates.<br>  The default value is 5000 (5.0 seconds).</p>
<p>enable_wol=N1,N2,N3,…</p>
<p>  Enable Wake-on-LAN support for the relevant interface.  Donald<br>  Becker’s `ether-wake’ application may be used to wake suspended<br>  machines.</p>
<p>  Also enables the NIC’s power management support.</p>
<p>global_enable_wol=N</p>
<p>  Sets enable_wol mode for all 3c59x NICs in the machine.  Entries in<br>  the `enable_wol’ array above will override any setting of this.</p>
<h2 id="Media-selection"><a href="#Media-selection" class="headerlink" title="Media selection"></a>Media selection</h2><p>A number of the older NICs such as the 3c590 and 3c900 series have<br>10base2 and AUI interfaces.</p>
<p>Prior to January, 2001 this driver would autoeselect the 10base2 or AUI<br>port if it didn’t detect activity on the 10baseT port.  It would then<br>get stuck on the 10base2 port and a driver reload was necessary to<br>switch back to 10baseT.  This behaviour could not be prevented with a<br>module option override.</p>
<p>Later (current) versions of the driver <em>do</em> support locking of the<br>media type.  So if you load the driver module with</p>
<pre><code>modprobe 3c59x options=0
</code></pre>
<p>it will permanently select the 10baseT port.  Automatic selection of<br>other media types does not occur.</p>
<h2 id="Transmit-error-Tx-status-register-82"><a href="#Transmit-error-Tx-status-register-82" class="headerlink" title="Transmit error, Tx status register 82"></a>Transmit error, Tx status register 82</h2><p>This is a common error which is almost always caused by another host on<br>the same network being in full-duplex mode, while this host is in<br>half-duplex mode.  You need to find that other host and make it run in<br>half-duplex mode or fix this host to run in full-duplex mode.</p>
<p>As a last resort, you can force the 3c59x driver into full-duplex mode<br>with</p>
<pre><code>options 3c59x full_duplex=1
</code></pre>
<p>but this has to be viewed as a workaround for broken network gear and<br>should only really be used for equipment which cannot autonegotiate.</p>
<h2 id="Additional-resources"><a href="#Additional-resources" class="headerlink" title="Additional resources"></a>Additional resources</h2><p>Details of the device driver implementation are at the top of the source file.</p>
<p>Additional documentation is available at Don Becker’s Linux Drivers site:</p>
<pre><code> http://www.scyld.com/vortex.html
</code></pre>
<p>Donald Becker’s driver development site:</p>
<pre><code> http://www.scyld.com/network.html
</code></pre>
<p>Donald’s vortex-diag program is useful for inspecting the NIC’s state:</p>
<pre><code> http://www.scyld.com/ethercard_diag.html
</code></pre>
<p>Donald’s mii-diag program may be used for inspecting and manipulating<br>the NIC’s Media Independent Interface subsystem:</p>
<pre><code> http://www.scyld.com/ethercard_diag.html#mii-diag
</code></pre>
<p>Donald’s wake-on-LAN page:</p>
<pre><code> http://www.scyld.com/wakeonlan.html
</code></pre>
<p>3Com’s DOS-based application for setting up the NICs EEPROMs:</p>
<pre><code>ftp://ftp.3com.com/pub/nic/3c90x/3c90xx2.exe
</code></pre>
<h2 id="Autonegotiation-notes"><a href="#Autonegotiation-notes" class="headerlink" title="Autonegotiation notes"></a>Autonegotiation notes</h2><p>  The driver uses a one-minute heartbeat for adapting to changes in<br>  the external LAN environment if link is up and 5 seconds if link is down.<br>  This means that when, for example, a machine is unplugged from a hubbed<br>  10baseT LAN plugged into a  switched 100baseT LAN, the throughput<br>  will be quite dreadful for up to sixty seconds.  Be patient.</p>
<p>  Cisco interoperability note from Walter Wong <a href="mailto:&#x77;&#x63;&#x77;&#x2b;&#x40;&#67;&#x4d;&#x55;&#x2e;&#69;&#x44;&#85;">&#x77;&#x63;&#x77;&#x2b;&#x40;&#67;&#x4d;&#x55;&#x2e;&#69;&#x44;&#85;</a>:</p>
<p>  On a side note, adding HAS_NWAY seems to share a problem with the<br>  Cisco 6509 switch.  Specifically, you need to change the spanning<br>  tree parameter for the port the machine is plugged into to ‘portfast’<br>  mode.  Otherwise, the negotiation fails.  This has been an issue<br>  we’ve noticed for a while but haven’t had the time to track down.</p>
<p>  Cisco switches    (Jeff Busch <a href="mailto:&#x6a;&#98;&#x75;&#115;&#99;&#104;&#x40;&#x64;&#x65;&#x6a;&#x61;&#46;&#99;&#x6f;&#109;">&#x6a;&#98;&#x75;&#115;&#99;&#104;&#x40;&#x64;&#x65;&#x6a;&#x61;&#46;&#99;&#x6f;&#109;</a>)</p>
<pre><code>My &quot;standard config&quot; for ports to which PC&#39;s/servers connect directly:

    interface FastEthernet0/N
    description machinename
    load-interval 30
    spanning-tree portfast

If autonegotiation is a problem, you may need to specify &quot;speed
100&quot; and &quot;duplex full&quot; as well (or &quot;speed 10&quot; and &quot;duplex half&quot;).

WARNING: DO NOT hook up hubs/switches/bridges to these
specially-configured ports! The switch will become very confused.
</code></pre>
<h2 id="Reporting-and-diagnosing-problems"><a href="#Reporting-and-diagnosing-problems" class="headerlink" title="Reporting and diagnosing problems"></a>Reporting and diagnosing problems</h2><p>Maintainers find that accurate and complete problem reports are<br>invaluable in resolving driver problems.  We are frequently not able to<br>reproduce problems and must rely on your patience and efforts to get to<br>the bottom of the problem.</p>
<p>If you believe you have a driver problem here are some of the<br>steps you should take:</p>
<ul>
<li><p>Is it really a driver problem?</p>
<p> Eliminate some variables: try different cards, different<br> computers, different cables, different ports on the switch/hub,<br> different versions of the kernel or of the driver, etc.</p>
</li>
<li><p>OK, it’s a driver problem.</p>
<p> You need to generate a report.  Typically this is an email to the<br> maintainer and/or <a href="mailto:&#108;&#x69;&#110;&#x75;&#120;&#x2d;&#110;&#101;&#116;&#64;&#118;&#103;&#101;&#x72;&#46;&#x6b;&#x65;&#114;&#110;&#101;&#x6c;&#46;&#111;&#x72;&#103;">&#108;&#x69;&#110;&#x75;&#120;&#x2d;&#110;&#101;&#116;&#64;&#118;&#103;&#101;&#x72;&#46;&#x6b;&#x65;&#114;&#110;&#101;&#x6c;&#46;&#111;&#x72;&#103;</a>.  The maintainer’s<br> email address will be in the driver source or in the MAINTAINERS file.</p>
</li>
<li><p>The contents of your report will vary a lot depending upon the<br>problem.  If it’s a kernel crash then you should refer to the<br>REPORTING-BUGS file.</p>
<p>But for most problems it is useful to provide the following:</p>
<p> o Kernel version, driver version</p>
<p> o A copy of the banner message which the driver generates when<br>   it is initialised.  For example:</p>
<p>   eth0: 3Com PCI 3c905C Tornado at 0xa400,  00:50:da:6a:88:f0, IRQ 19<br>   8K byte-wide RAM 5:3 Rx:Tx split, autoselect/Autonegotiate interface.<br>   MII transceiver found at address 24, status 782d.<br>   Enabling bus-master transmits and whole-frame receives.</p>
<p>   NOTE: You must provide the `debug=2’ modprobe option to generate<br>   a full detection message.  Please do this:</p>
<p>  modprobe 3c59x debug=2</p>
<p> o If it is a PCI device, the relevant output from ‘lspci -vx’, eg:</p>
<p>   00:09.0 Ethernet controller: 3Com Corporation 3c905C-TX [Fast Etherlink] (rev 74)</p>
<pre><code>       Subsystem: 3Com Corporation: Unknown device 9200
       Flags: bus master, medium devsel, latency 32, IRQ 19
       I/O ports at a400 [size=128]
       Memory at db000000 (32-bit, non-prefetchable) [size=128]
       Expansion ROM at &lt;unassigned&gt; [disabled] [size=128K]
       Capabilities: [dc] Power Management version 2
</code></pre>
<p>   00: b7 10 00 92 07 00 10 02 74 00 00 02 08 20 00 00<br>   10: 01 a4 00 00 00 00 00 db 00 00 00 00 00 00 00 00<br>   20: 00 00 00 00 00 00 00 00 00 00 00 00 b7 10 00 10<br>   30: 00 00 00 00 dc 00 00 00 00 00 00 00 05 01 0a 0a</p>
<p> o A description of the environment: 10baseT? 100baseT?<br>   full/half duplex? switched or hubbed?</p>
<p> o Any additional module parameters which you may be providing to the driver.</p>
<p> o Any kernel logs which are produced.  The more the merrier.<br>   If this is a large file and you are sending your report to a<br>   mailing list, mention that you have the logfile, but don’t send<br>   it.  If you’re reporting direct to the maintainer then just send<br>   it.</p>
<p>   To ensure that all kernel logs are available, add the<br>   following line to /etc/syslog.conf:</p>
<pre><code>   kern.* /var/log/messages
</code></pre>
<p>   Then restart syslogd with:</p>
<pre><code>   /etc/rc.d/init.d/syslog restart
</code></pre>
<p>   (The above may vary, depending upon which Linux distribution you use).</p>
<p>  o If your problem is reproducible then that’s great.  Try the</p>
<pre><code>following:

1) Increase the debug level.  Usually this is done via:

   a) modprobe driver debug=7
   b) In /etc/modprobe.d/driver.conf:
      options driver debug=7

2) Recreate the problem with the higher debug level,
   send all logs to the maintainer.

3) Download you card&#39;s diagnostic tool from Donald
   Becker&#39;s website &lt;http://www.scyld.com/ethercard_diag.html&gt;.
   Download mii-diag.c as well.  Build these.

   a) Run &#39;vortex-diag -aaee&#39; and &#39;mii-diag -v&#39; when the card is
      working correctly.  Save the output.

   b) Run the above commands when the card is malfunctioning.  Send
      both sets of output.
</code></pre>
</li>
</ul>
<p>Finally, please be patient and be prepared to do some work.  You may<br>end up working on this problem for a week or more as the maintainer<br>asks more questions, asks for more tests, asks for patches to be<br>applied, etc.  At the end of it all, the problem may even remain<br>unresolved.</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_vortex/" title="Kernel-3.10.0-957.el7_vortex" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_vortex/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_volatile-considered-harmful/" title="Kernel-3.10.0-957.el7_volatile-considered-harmful"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_vt8500-ehci/" title="Kernel-3.10.0-957.el7_vt8500-ehci"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>