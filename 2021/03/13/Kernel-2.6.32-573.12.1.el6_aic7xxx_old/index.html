<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-2.6.32-573.12.1.el6_aic7xxx_ol | oosTech.com</title>
  <meta name="description" content="AIC7xxx Driver for Linux  IntroductionThe AIC7xxx SCSI driver adds support for Adaptec (http:&#x2F;&#x2F;www.adaptec.com)SCSI controllers and chipsets. Major portions of the driver and driverdevelop">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-2.6.32-573.12.1.el6_aic7xxx_ol">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic7xxx_old/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="AIC7xxx Driver for Linux  IntroductionThe AIC7xxx SCSI driver adds support for Adaptec (http:&#x2F;&#x2F;www.adaptec.com)SCSI controllers and chipsets. Major portions of the driver and driverdevelop">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic7xxx_old/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Supported-cards-chipsets"><span class="toc-number">2.</span> <span class="toc-text">  Supported cards&#x2F;chipsets</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Not-Supported-Devices"><span class="toc-number">3.</span> <span class="toc-text">  Not Supported Devices</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#People"><span class="toc-number">4.</span> <span class="toc-text">  People</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mailing-list"><span class="toc-number">5.</span> <span class="toc-text">  Mailing list</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Boot-Command-line-options"><span class="toc-number">6.</span> <span class="toc-text">  Boot Command line options</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Module-Loading-command-options"><span class="toc-number">7.</span> <span class="toc-text">  Module Loading command options</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kernel-Compile-options"><span class="toc-number">8.</span> <span class="toc-text">  Kernel Compile options</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#proc-support"><span class="toc-number">9.</span> <span class="toc-text">  &#x2F;proc support</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Debugging-the-driver"><span class="toc-number">10.</span> <span class="toc-text">  Debugging the driver</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FTP-sites"><span class="toc-number">11.</span> <span class="toc-text">  FTP sites</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web-sites"><span class="toc-number">12.</span> <span class="toc-text">  Web sites</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-2.6.32-573.12.1.el6_aic7xxx_old" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-2.6.32-573.12.1.el6_aic7xxx_ol
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic7xxx_old/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic7xxx_old/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic7xxx_old/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <pre><code>            AIC7xxx Driver for Linux
</code></pre>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>The AIC7xxx SCSI driver adds support for Adaptec (<a target="_blank" rel="noopener" href="http://www.adaptec.com/">http://www.adaptec.com</a>)<br>SCSI controllers and chipsets. Major portions of the driver and driver<br>development are shared between both Linux and FreeBSD. Support for the<br>AIC-7xxx chipsets have been in the default Linux kernel since approximately<br>linux-1.1.x and fairly stable since linux-1.2.x, and are also in FreeBSD<br>2.1.0 or later.</p>
<h2 id="Supported-cards-chipsets"><a href="#Supported-cards-chipsets" class="headerlink" title="  Supported cards/chipsets"></a>  Supported cards/chipsets</h2><pre><code>Adaptec Cards
----------------------------
AHA-274x
AHA-274xT               
AHA-2842
AHA-2910B               
AHA-2920C
AHA-2930
AHA-2930U
AHA-2930CU
AHA-2930U2
AHA-2940               
AHA-2940W              
AHA-2940U              
AHA-2940UW
AHA-2940UW-PRO
AHA-2940AU 
AHA-2940U2W
AHA-2940U2
AHA-2940U2B
AHA-2940U2BOEM
AHA-2944D              
AHA-2944WD
AHA-2944UD
AHA-2944UWD
AHA-2950U2
AHA-2950U2W
AHA-2950U2B
AHA-29160M
AHA-3940
AHA-3940U
AHA-3940W
AHA-3940UW
AHA-3940AUW
AHA-3940U2W
AHA-3950U2B
AHA-3950U2D
AHA-3960D
AHA-39160M
AHA-3985
AHA-3985U
AHA-3985W
AHA-3985UW

Motherboard Chipsets
----------------------------
AIC-777x   
AIC-785x
AIC-786x
AIC-787x
AIC-788x
AIC-789x
AIC-3860

Bus Types
----------------------------
W - Wide SCSI, SCSI-3, 16bit bus, 68pin connector, will also support
    SCSI-1/SCSI-2 50pin devices, transfer rates up to 20MB/s.
U - Ultra SCSI, transfer rates up to 40MB/s.
U2- Ultra 2 SCSI, transfer rates up to 80MB/s.
D - Differential SCSI.
T - Twin Channel SCSI. Up to 14 SCSI devices.

AHA-274x - EISA SCSI controller
AHA-284x - VLB SCSI controller
AHA-29xx - PCI SCSI controller
AHA-394x - PCI controllers with two separate SCSI controllers on-board.
AHA-398x - PCI RAID controllers with three separate SCSI controllers
           on-board.
</code></pre>
<h2 id="Not-Supported-Devices"><a href="#Not-Supported-Devices" class="headerlink" title="  Not Supported Devices"></a>  Not Supported Devices</h2><pre><code>Adaptec Cards
----------------------------
AHA-2920 (Only the cards that use the Future Domain chipset are not
          supported, any 2920 cards based on Adaptec AIC chipsets,
      such as the 2920C, are supported)
AAA-13x Raid Adapters
AAA-113x Raid Port Card

Motherboard Chipsets
----------------------------
AIC-7810

Bus Types
----------------------------
R - Raid Port busses are not supported.

The hardware RAID devices sold by Adaptec are *NOT* supported by this
driver (and will people please stop emailing me about them, they are
a totally separate beast from the bare SCSI controllers and this driver
cannot be retrofitted in any sane manner to support the hardware RAID
features on those cards - Doug Ledford).
</code></pre>
<h2 id="People"><a href="#People" class="headerlink" title="  People"></a>  People</h2><pre><code>Justin T Gibbs  gibbs@plutotech.com
  (BSD Driver Author)
Dan Eischen     deischen@iworks.InterWorks.org
  (Original Linux Driver Co-maintainer)
Dean Gehnert    deang@teleport.com
  (Original Linux FTP/patch maintainer)
Jess Johnson    jester@frenzy.com
  (AIC7xxx FAQ author)
Doug Ledford    dledford@redhat.com
  (Current Linux aic7xxx-5.x.x Driver/Patch/FTP maintainer)

Special thanks go to John Aycock (aycock@cpsc.ucalgary.ca), the original
author of the driver. John has since retired from the project. Thanks
again for all his work!
</code></pre>
<h2 id="Mailing-list"><a href="#Mailing-list" class="headerlink" title="  Mailing list"></a>  Mailing list</h2><pre><code>There is a mailing list available for users who want to track development
and converse with other users and developers. This list is for both
FreeBSD and Linux support of the AIC7xxx chipsets.

To subscribe to the AIC7xxx mailing list send mail to the list server,
with &quot;subscribe AIC7xxx&quot; in the body (no Subject: required):
    To: majordomo@FreeBSD.ORG
    ---
    subscribe AIC7xxx

To unsubscribe from the list, send mail to the list server with:
    To: majordomo@FreeBSD.ORG
    ---
    unsubscribe AIC7xxx

Send regular messages and replies to: AIC7xxx@FreeBSD.ORG
</code></pre>
<h2 id="Boot-Command-line-options"><a href="#Boot-Command-line-options" class="headerlink" title="  Boot Command line options"></a>  Boot Command line options</h2><pre><code>&quot;aic7xxx=no_reset&quot; -  Eliminate the SCSI bus reset during startup.
    Some SCSI devices need the initial reset that this option disables
in order to work.  If you have problems at bootup, please make sure
you aren&#39;t using this option.

&quot;aic7xxx=reverse_scan&quot; - Certain PCI motherboards scan for devices at
    bootup by scanning from the highest numbered PCI device to the
lowest numbered PCI device, others do just the opposite and scan
from lowest to highest numbered PCI device.  There is no reliable
way to autodetect this ordering.  So, we default to the most common
order, which is lowest to highest.  Then, in case your motherboard
scans from highest to lowest, we have this option.  If your BIOS
finds the drives on controller A before controller B but the linux
kernel finds your drives on controller B before A, then you should
use this option.

&quot;aic7xxx=extended&quot; - Force the driver to detect extended drive translation
    on your controller.  This helps those people who have cards without
    a SEEPROM make sure that linux and all other operating systems think
    the same way about your hard drives.

&quot;aic7xxx=scbram&quot; - Some cards have external SCB RAM that can be used to
    give the card more hardware SCB slots.  This allows the driver to use
that SCB RAM.  Without this option, the driver won&#39;t touch the SCB
RAM because it is known to cause problems on a few cards out there
(such as 3985 class cards).

&quot;aic7xxx=irq_trigger:x&quot; - Replace x with either 0 or 1 to force the kernel
    to use the correct IRQ type for your card.  This only applies to EISA
    based controllers.  On these controllers, 0 is for Edge triggered
    interrupts, and 1 is for Level triggered interrupts.  If you aren&#39;t
    sure or don&#39;t know which IRQ trigger type your EISA card uses, then
    let the kernel autodetect the trigger type.

&quot;aic7xxx=verbose&quot; - This option can be used in one of two ways.  If you
    simply specify aic7xxx=verbose, then the kernel will automatically
pick the default set of verbose messages for you to see.
Alternatively, you can specify the command as 
&quot;aic7xxx=verbose:0xXXXX&quot; where the X entries are replaced with
hexadecimal digits.  This option is a bit field type option.  For
a full listing of the available options, search for the 
#define VERBOSE_xxxxxx lines in the aic7xxx.c file.  If you want
verbose messages, then it is recommended that you simply use the
aic7xxx=verbose variant of this command.

&quot;aic7xxx=pci_parity:x&quot; - This option controls whether or not the driver
    enables PCI parity error checking on the PCI bus.  By default, this
    checking is disabled.  To enable the checks, simply specify pci_parity
    with no value afterwords.  To reverse the parity from even to odd,
    supply any number other than 0 or 255.  In short:
      pci_parity     - Even parity checking (even is the normal PCI parity)
      pci_parity:x   - Where x &gt; 0, Odd parity checking
      pci_parity:0   - No check (default)
    NOTE: In order to get Even PCI parity checking, you must use the
    version of the option that does not include the : and a number at
    the end (unless you want to enter exactly 2^32 - 1 as the number).

&quot;aic7xxx=no_probe&quot; - This option will disable the probing for any VLB
    based 2842 controllers and any EISA based controllers.  This is
needed on certain newer motherboards where the normal EISA I/O ranges
have been claimed by other PCI devices.  Probing on those machines
will often result in the machine crashing or spontaneously rebooting
during startup.  Examples of machines that need this are the
Dell PowerEdge 6300 machines.

&quot;aic7xxx=seltime:2&quot; - This option controls how long the card waits
    during a device selection sequence for the device to respond.
The original SCSI spec says that this &quot;should be&quot; 256ms.  This
is generally not required with modern devices.  However, some
very old SCSI I devices need the full 256ms.  Most modern devices
can run fine with only 64ms.  The default for this option is
64ms.  If you need to change this option, then use the following
table to set the proper value in the example above:
  0  -  256ms
  1  -  128ms
  2  -   64ms
  3  -   32ms

&quot;aic7xxx=panic_on_abort&quot; - This option is for debugging and will cause
    the driver to panic the linux kernel and freeze the system the first
time the drivers abort or reset routines are called.  This is most
helpful when some problem causes infinite reset loops that scroll too
fast to see.  By using this option, you can write down what the errors
actually are and send that information to me so it can be fixed.

&quot;aic7xxx=dump_card&quot; - This option will print out the *entire* set of
    configuration registers on the card during the init sequence.  This
is a debugging aid used to see exactly what state the card is in
when we finally finish our initialization routines.  If you don&#39;t
have documentation on the chipsets, this will do you absolutely
no good unless you are simply trying to write all the information
down in order to send it to me.

&quot;aic7xxx=dump_sequencer&quot; - This is the same as the above options except
    that instead of dumping the register contents on the card, this
option dumps the contents of the sequencer program RAM.  This gives
the ability to verify that the instructions downloaded to the
card&#39;s sequencer are indeed what they are supposed to be.  Again,
unless you have documentation to tell you how to interpret these
numbers, then it is totally useless.

&quot;aic7xxx=override_term:0xffffffff&quot; - This option is used to force the
    termination on your SCSI controllers to a particular setting.  This
is a bit mask variable that applies for up to 8 aic7xxx SCSI channels.
Each channel gets 4 bits, divided as follows:
bit   3   2   1   0
      |   |   |   Enable/Disable Single Ended Low Byte Termination
      |   |   En/Disable Single Ended High Byte Termination
      |   En/Disable Low Byte LVD Termination
      En/Disable High Byte LVD Termination

The upper 2 bits that deal with LVD termination only apply to Ultra2
controllers.  Furthermore, due to the current Ultra2 controller
designs, these bits are tied together such that setting either bit
enables both low and high byte LVD termination.  It is not possible
to only set high or low byte LVD termination in this manner.  This is
an artifact of the BIOS definition on Ultra2 controllers.  For other
controllers, the only important bits are the two lowest bits.  Setting
the higher bits on non-Ultra2 controllers has no effect.  A few
examples of how to use this option:

Enable low and high byte termination on a non-ultra2 controller that
is the first aic7xxx controller (the correct bits are 0011), 
aic7xxx=override_term:0x3

Enable all termination on the third aic7xxx controller, high byte
termination on the second aic7xxx controller, and low and high byte
SE termination on the first aic7xxx controller 
(bits are 1111 0010 0011), 
aic7xxx=override_term:0xf23

No attempt has been made to make this option non-cryptic.  It really
shouldn&#39;t be used except in dire circumstances, and if that happens,
I&#39;m probably going to be telling you what to set this to anyway :)

&quot;aic7xxx=stpwlev:0xffffffff&quot; - This option is used to control the STPWLEV
    bit in the DEVCONFIG PCI register.  Currently, this is one of the
very few registers that we have absolutely *no* way of detecting
what the variable should be.  It depends entirely on how the chipset
and external terminators were coupled by the card/motherboard maker.
Further, a chip reset (at power up) always sets this bit to 0.  If
there is no BIOS to run on the chipset/card (such as with a 2910C
or a motherboard controller with the BIOS totally disabled) then
the variable may not get set properly.  Of course, if the proper
setting was 0, then that&#39;s what it would be after the reset, but if
the proper setting is actually 1.....you get the picture.  Now, since
we can&#39;t detect this at all, I&#39;ve added this option to force the
setting.  If you have a BIOS on your controller then you should never
need to use this option.  However, if you are having lots of SCSI
reset problems and can&#39;t seem to get them knocked out, this may help.

Here&#39;s a test to know for certain if you need this option.  Make
a boot floppy that you can use to boot your computer up and that
will detect the aic7xxx controller.  Next, power down your computer.
While it&#39;s down, unplug all SCSI cables from your Adaptec SCSI
controller.  Boot the system back up to the Adaptec EZ-SCSI BIOS
and then make sure that termination is enabled on your adapter (if
you have an Adaptec BIOS of course).  Next, boot up the floppy you
made and wait for it to detect the aic7xxx controller.  If the kernel
finds the controller fine, says scsi : x hosts and then tries to
detect your devices like normal, up to the point where it fails to
mount your root file system and panics, then you&#39;re fine.  If, on
the other hand, the system goes into an infinite reset loop, then
you need to use this option and/or the previous option to force the
proper termination settings on your controller.   If this happens,
then you next need to figure out what your settings should be.

To find the correct settings, power your machine back down, connect
back up the SCSI cables, and boot back into your machine like normal.
However, boot with the aic7xxx=verbose:0x39 option.  Record the
initial DEVCONFIG values for each of your aic7xxx controllers as
they are listed, and also record what the machine is detecting as
the proper termination on your controllers.  NOTE: the order in
which the initial DEVCONFIG values are printed out is not guaranteed
to be the same order as the SCSI controllers are registered.  The
above option and this option both work on the order of the SCSI
controllers as they are registered, so make sure you match the right
DEVCONFIG values with the right controllers if you have more than
one aic7xxx controller.

Once you have the detected termination settings and the initial
DEVCONFIG values for each controller, then figure out what the
termination on each of the controllers *should* be.  Hopefully, that
part is correct, but it could possibly be wrong if there is
bogus cable detection logic on your controller or something similar.
If all the controllers have the correct termination settings, then
don&#39;t set the aic7xxx=override_term variable at all, leave it alone.
Next, on any controllers that go into an infinite reset loop when
you unplug all the SCSI cables, get the starting DEVCONFIG value.
If the initial DEVCONFIG value is divisible by 2, then the correct
setting for that controller is 0.  If it&#39;s an odd number, then
the correct setting for that controller is 1.  For any other
controllers that didn&#39;t have an infinite reset problem, then reverse
the above options.  If DEVCONFIG was even, then the correct setting
is 1, if not then the correct setting is 0.

Now that you know what the correct setting was for each controller,
we need to encode that into the aic7xxx=stpwlev:0x... variable.
This variable is a bit field encoded variable.  Bit 0 is for the first
aic7xxx controller, bit 1 for the next, etc.  Put all these bits
together and you get a number.  For example, if the third aic7xxx
needed a 1, but the second and first both needed a 0, then the bits
would be 100 in binary.  This then translates to 0x04.  You would
therefore set aic7xxx=stpwlev:0x04.  This is fairly standard binary
to hexadecimal conversions here.  If you aren&#39;t up to speed on the
binary-&gt;hex conversion then send an email to the aic7xxx mailing
list and someone can help you out.

&quot;aic7xxx=tag_info:&#123;&#123;8,8..&#125;,&#123;8,8..&#125;,..&#125;" - This option is used to disable
        or enable Tagged Command Queueing (TCQ) on specific devices.  As of
	driver version 5.1.11, TCQ is now either on or off by default
	according to the setting you choose during the make config process.
	In order to en/disable TCQ for certain devices at boot time, a user
	may use this boot param.  The driver will then parse this message out
        and en/disable the specific device entries that are present based upon
        the value given.  The param line is parsed in the following manner:

          &#123; - first instance indicates the start of this parameter values
              second instance is the start of entries for a particular
              device entry
          &#125; - end the entries for a particular host adapter, or end the entire
              set of parameter entries
          , - move to next entry.  Inside of a set of device entries, this
              moves us to the next device on the list.  Outside of device
              entries, this moves us to the next host adapter
          . - Same effect as , but is safe to use with insmod.
          x - the number to enter into the array at this position.  
              0 = Enable tagged queueing on this device and use the default
                  queue depth
              1-254 = Enable tagged queueing on this device and use this
                      number as the queue depth
              255 = Disable tagged queueing on this device.
              Note: anything above 32 for an actual queue depth is wasteful
                    and not recommended.

        A few examples of how this can be used:

        tag_info:&#123;&#123;8,12,,0,,255,4&#125;&#125;
      This line will only effect the first aic7xxx card registered.  It
      will set scsi id 0 to a queue depth of 8, id 1 to 12, leave id 2
      at the default, set id 3 to tagged queueing enabled and use the
      default queue depth, id 4 default, id 5 disabled, and id 6 to 4.
      Any not specified entries stay at the default value, repeated
      commas with no value specified will simply increment to the next id
      without changing anything for the missing values.

    tag_info:&#123;,,,&#123;,,,255&#125;&#125;
      First, second, and third adapters at default values.  Fourth
      adapter, id 3 is disabled.  Notice that leading commas simply
  increment what the first number effects, and there are no need
  for trailing commas.  When you close out an adapter, or the
  entire entry, anything not explicitly set stays at the default
  value.

    A final note on this option.  The scanner I used for this isn&#39;t
    perfect or highly robust.  If you mess the line up, the worst that
    should happen is that the line will get ignored.  If you don&#39;t
    close out the entire entry with the final bracket, then any other
    aic7xxx options after this will get ignored.  So, in general, be
    sure of what you are entering, and after you have it right, just
    add it to the lilo.conf file so there won&#39;t be any mistakes.  As
    a means of checking this parser, the entire tag_info array for
    each card is now printed out in the /proc/scsi/aic7xxx/x file.  You
    can use that to verify that your options were parsed correctly. 
    
Boot command line options may be combined to form the proper set of options
a user might need.  For example, the following is valid:

aic7xxx=verbose,extended,irq_trigger:1

The only requirement is that individual options be separated by a comma or
a period on the command line.
    
</code></pre>
<h2 id="Module-Loading-command-options"><a href="#Module-Loading-command-options" class="headerlink" title="  Module Loading command options"></a>  Module Loading command options</h2><pre><code>When loading the aic7xxx driver as a module, the exact same options are
available to the user.  However, the syntax to specify the options changes
slightly.  For insmod, you need to wrap the aic7xxx= argument in quotes
and replace all &#39;,&#39; with &#39;.&#39;.  So, for example, a valid insmod line
would be:

insmod aic7xxx aic7xxx=&#39;verbose.irq_trigger:1.extended&#39;

This line should result in the *exact* same behaviour as if you typed
it in at the lilo prompt and the driver was compiled into the kernel
instead of being a module.  The reason for the single quote is so that
the shell won&#39;t try to interpret anything in the line, such as &#123;. 
Insmod assumes any options starting with a letter instead of a number
is a character string (which is what we want) and by switching all of
the commas to periods, insmod won&#39;t interpret this as more than one
string and write junk into our binary image.  I consider it a bug in
the insmod program that even if you wrap your string in quotes (quotes
that pass the shell mind you and that insmod sees) it still treats
a comma inside of those quotes as starting a new variable, resulting
in memory scribbles if you don&#39;t switch the commas to periods.
</code></pre>
<h2 id="Kernel-Compile-options"><a href="#Kernel-Compile-options" class="headerlink" title="  Kernel Compile options"></a>  Kernel Compile options</h2><pre><code>The various kernel compile time options for this driver are now fairly
well documented in the file Documentation/Configure.help.  In order to
see this documentation, you need to use one of the advanced configuration
programs (menuconfig and xconfig).  If you are using the &quot;make menuconfig&quot;
method of configuring your kernel, then you would simply highlight the
option in question and hit the ? key.  If you are using the &quot;make xconfig&quot;
method of configuring your kernel, then simply click on the help button
next to the option you have questions about.  The help information from
the Configure.help file will then get automatically displayed.
</code></pre>
<h2 id="proc-support"><a href="#proc-support" class="headerlink" title="  /proc support"></a>  /proc support</h2><pre><code>The /proc support for the AIC7xxx can be found in the /proc/scsi/aic7xxx/
directory. That directory contains a file for each SCSI controller in
the system. Each file presents the current configuration and transfer
statistics (enabled with #define in aic7xxx.c) for each controller.

Thanks to Michael Neuffer for his upper-level SCSI help, and
Matthew Jacob for statistics support.
</code></pre>
<h2 id="Debugging-the-driver"><a href="#Debugging-the-driver" class="headerlink" title="  Debugging the driver"></a>  Debugging the driver</h2><pre><code>Should you have problems with this driver, and would like some help in
getting them solved, there are a couple debugging items built into
the driver to facilitate getting the needed information from the system.
In general, I need a complete description of the problem, with as many
logs as possible concerning what happens.  To help with this, there is
a command option aic7xxx=panic_on_abort.  This option, when set, forces
the driver to panic the kernel on the first SCSI abort issued by the
mid level SCSI code.  If your system is going to reset loops and you
can&#39;t read the screen, then this is what you need.  Not only will it
stop the system, but it also prints out a large amount of state
information in the process.  Second, if you specify the option
&quot;aic7xxx=verbose:0x1ffff&quot;, the system will print out *SOOOO* much
information as it runs that you won&#39;t be able to see anything.
However, this can actually be very useful if your machine simply
locks up when trying to boot, since it will pin-point what was last
happening (in regards to the aic7xxx driver) immediately prior to
the lockup.  This is really only useful if your machine simply can
not boot up successfully.  If you can get your machine to run, then
this will produce far too much information.
</code></pre>
<h2 id="FTP-sites"><a href="#FTP-sites" class="headerlink" title="  FTP sites"></a>  FTP sites</h2><pre><code>ftp://ftp.redhat.com/pub/aic/
  - Out of date.  I used to keep stuff here, but too many people
    complained about having a hard time getting into Red Hat&#39;s ftp
server.  So use the web site below instead.
ftp://ftp.pcnet.com/users/eischen/Linux/
  - Dan Eischen&#39;s driver distribution area
ftp://ekf2.vsb.cz/pub/linux/kernel/aic7xxx/ftp.teleport.com/
  - European Linux mirror of Teleport site
</code></pre>
<h2 id="Web-sites"><a href="#Web-sites" class="headerlink" title="  Web sites"></a>  Web sites</h2><pre><code>http://people.redhat.com/dledford/
  - My web site, also the primary aic7xxx site with several related
    pages.
</code></pre>
<p>Dean W. Gehnert<br><a href="mailto:&#x64;&#101;&#x61;&#x6e;&#x67;&#64;&#116;&#x65;&#108;&#101;&#112;&#x6f;&#114;&#x74;&#46;&#x63;&#x6f;&#x6d;">&#x64;&#101;&#x61;&#x6e;&#x67;&#64;&#116;&#x65;&#108;&#101;&#112;&#x6f;&#114;&#x74;&#46;&#x63;&#x6f;&#x6d;</a></p>
<p>$Revision: 3.0 $</p>
<p>Modified by Doug Ledford 1998-2000</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic7xxx_old/" title="Kernel-2.6.32-573.12.1.el6_aic7xxx_ol" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic7xxx_old/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_api/" title="Kernel-2.6.32-573.12.1.el6_api"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_aic79xx/" title="Kernel-2.6.32-573.12.1.el6_aic79xx"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>