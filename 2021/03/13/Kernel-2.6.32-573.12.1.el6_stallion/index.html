<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-2.6.32-573.12.1.el6_stallion | oosTech.com</title>
  <meta name="description" content="NOTE - This is an unmaintained driver.  Lantronix, which bought Stalliontechnologies, is not active in driver maintenance, and they have no informationon when or if they will have a 2.6 driver.  Jame">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-2.6.32-573.12.1.el6_stallion">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_stallion/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="NOTE - This is an unmaintained driver.  Lantronix, which bought Stalliontechnologies, is not active in driver maintenance, and they have no informationon when or if they will have a 2.6 driver.  Jame">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_stallion/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Stallion-Multiport-Serial-Driver-Readme"><span class="toc-number">1.</span> <span class="toc-text">Stallion Multiport Serial Driver Readme</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-2.6.32-573.12.1.el6_stallion" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-2.6.32-573.12.1.el6_stallion
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_stallion/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_stallion/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_stallion/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <ul>
<li>NOTE - This is an unmaintained driver.  Lantronix, which bought Stallion<br>technologies, is not active in driver maintenance, and they have no information<br>on when or if they will have a 2.6 driver.</li>
</ul>
<p>James Nelson <a href="mailto:&#106;&#x61;&#x6d;&#x65;&#115;&#52;&#55;&#x36;&#53;&#64;&#x67;&#x6d;&#x61;&#105;&#108;&#46;&#99;&#x6f;&#x6d;">&#106;&#x61;&#x6d;&#x65;&#115;&#52;&#55;&#x36;&#53;&#64;&#x67;&#x6d;&#x61;&#105;&#108;&#46;&#99;&#x6f;&#x6d;</a> - 12-12-2004</p>
<h2 id="Stallion-Multiport-Serial-Driver-Readme"><a href="#Stallion-Multiport-Serial-Driver-Readme" class="headerlink" title="Stallion Multiport Serial Driver Readme"></a>Stallion Multiport Serial Driver Readme</h2><p>Copyright (C) 1994-1999,  Stallion Technologies.</p>
<p>Version:   5.5.1<br>Date:      28MAR99</p>
<ol>
<li>INTRODUCTION</li>
</ol>
<p>There are two drivers that work with the different families of Stallion<br>multiport serial boards. One is for the Stallion smart boards - that is<br>EasyIO, EasyConnection 8/32 and EasyConnection 8/64-PCI, the other for<br>the true Stallion intelligent multiport boards - EasyConnection 8/64<br>(ISA, EISA, MCA), EasyConnection/RA-PCI, ONboard and Brumby.</p>
<p>If you are using any of the Stallion intelligent multiport boards (Brumby,<br>ONboard, EasyConnection 8/64 (ISA, EISA, MCA), EasyConnection/RA-PCI) with<br>Linux you will need to get the driver utility package.  This contains a<br>firmware loader and the firmware images necessary to make the devices operate.</p>
<p>The Stallion Technologies ftp site, ftp.stallion.com, will always have<br>the latest version of the driver utility package.</p>
<p><a href="ftp://ftp.stallion.com/drivers/ata5/Linux/ata-linux-550.tar.gz">ftp://ftp.stallion.com/drivers/ata5/Linux/ata-linux-550.tar.gz</a></p>
<p>As of the printing of this document the latest version of the driver<br>utility package is 5.5.0. If a later version is now available then you<br>should use the latest version.</p>
<p>If you are using the EasyIO, EasyConnection 8/32 or EasyConnection 8/64-PCI<br>boards then you don’t need this package, although it does have a serial stats<br>display program.</p>
<p>If you require DIP switch settings, EISA or MCA configuration files, or any<br>other information related to Stallion boards then have a look at Stallion’s<br>web pages at <a target="_blank" rel="noopener" href="http://www.stallion.com/">http://www.stallion.com</a>.</p>
<ol start="2">
<li>INSTALLATION</li>
</ol>
<p>The drivers can be used as loadable modules or compiled into the kernel.<br>You can choose which when doing a “config” on the kernel.</p>
<p>All ISA, EISA and MCA boards that you want to use need to be configured into<br>the driver(s). All PCI boards will be automatically detected when you load<br>the driver - so they do not need to be entered into the driver(s)<br>configuration structure. Note that kernel PCI support is required to use PCI<br>boards.</p>
<p>There are two methods of configuring ISA, EISA and MCA boards into the drivers.<br>If using the driver as a loadable module then the simplest method is to pass<br>the driver configuration as module arguments. The other method is to modify<br>the driver source to add configuration lines for each board in use.</p>
<p>If you have pre-built Stallion driver modules then the module argument<br>configuration method should be used. A lot of Linux distributions come with<br>pre-built driver modules in /lib/modules/X.Y.Z/misc for the kernel in use.<br>That makes things pretty simple to get going.</p>
<p>2.1 MODULE DRIVER CONFIGURATION:</p>
<p>The simplest configuration for modules is to use the module load arguments<br>to configure any ISA, EISA or MCA boards. PCI boards are automatically<br>detected, so do not need any additional configuration at all.</p>
<p>If using EasyIO, EasyConnection 8/32 ISA or MCA, or EasyConnection 8/63-PCI<br>boards then use the “stallion” driver module, Otherwise if you are using<br>an EasyConnection 8/64 ISA, EISA or MCA, EasyConnection/RA-PCI, ONboard,<br>Brumby or original Stallion board then use the “istallion” driver module.</p>
<p>Typically to load up the smart board driver use:</p>
<pre><code>modprobe stallion
</code></pre>
<p>This will load the EasyIO and EasyConnection 8/32 driver. It will output a<br>message to say that it loaded and print the driver version number. It will<br>also print out whether it found the configured boards or not. These messages<br>may not appear on the console, but typically are always logged to<br>/var/adm/messages or /var/log/syslog files - depending on how the klogd and<br>syslogd daemons are setup on your system.</p>
<p>To load the intelligent board driver use:</p>
<pre><code>modprobe istallion
</code></pre>
<p>It will output similar messages to the smart board driver.</p>
<p>If not using an auto-detectable board type (that is a PCI board) then you<br>will also need to supply command line arguments to the modprobe command<br>when loading the driver. The general form of the configuration argument is</p>
<pre><code>board?=&lt;name&gt;[,&lt;ioaddr&gt;[,&lt;addr&gt;][,&lt;irq&gt;]]
</code></pre>
<p>where:</p>
<pre><code>board?  -- specifies the arbitrary board number of this board,
           can be in the range 0 to 3.

name    -- textual name of this board. The board name is the common
           board name, or any &quot;shortened&quot; version of that. The board
           type number may also be used here.

ioaddr  -- specifies the I/O address of this board. This argument is
           optional, but should generally be specified.

addr    -- optional second address argument. Some board types require
           a second I/O address, some require a memory address. The
           exact meaning of this argument depends on the board type.

irq     -- optional IRQ line used by this board.
</code></pre>
<p>Up to 4 board configuration arguments can be specified on the load line.<br>Here is some examples:</p>
<pre><code>modprobe stallion board0=easyio,0x2a0,5
</code></pre>
<p>This configures an EasyIO board as board 0 at I/O address 0x2a0 and IRQ 5.</p>
<pre><code>modprobe istallion board3=ec8/64,0x2c0,0xcc000
</code></pre>
<p>This configures an EasyConnection 8/64 ISA as board 3 at I/O address 0x2c0 at<br>memory address 0xcc000.</p>
<pre><code>modprobe stallion board1=ec8/32-at,0x2a0,0x280,10
</code></pre>
<p>This configures an EasyConnection 8/32 ISA board at primary I/O address 0x2a0,<br>secondary address 0x280 and IRQ 10.</p>
<p>You will probably want to enter this module load and configuration information<br>into your system startup scripts so that the drivers are loaded and configured<br>on each system boot. Typically the start up script would be something like<br>/etc/modprobe.conf.</p>
<p>2.2 STATIC DRIVER CONFIGURATION:</p>
<p>For static driver configuration you need to modify the driver source code.<br>Entering ISA, EISA and MCA boards into the driver(s) configuration structure<br>involves editing the driver(s) source file. It’s pretty easy if you follow<br>the instructions below. Both drivers can support up to 4 boards. The smart<br>card driver (the stallion.c driver) supports any combination of EasyIO and<br>EasyConnection 8/32 boards (up to a total of 4). The intelligent driver<br>supports any combination of ONboards, Brumbys, Stallions and EasyConnection<br>8/64 (ISA and EISA) boards (up to a total of 4).</p>
<p>To set up the driver(s) for the boards that you want to use you need to<br>edit the appropriate driver file and add configuration entries.</p>
<p>If using EasyIO or EasyConnection 8/32 ISA or MCA boards,<br>   In drivers/char/stallion.c:<br>      - find the definition of the stl_brdconf array (of structures)<br>        near the top of the file<br>      - modify this to match the boards you are going to install<br>    (the comments before this structure should help)<br>      - save and exit</p>
<p>If using ONboard, Brumby, Stallion or EasyConnection 8/64 (ISA or EISA)<br>boards,<br>   In drivers/char/istallion.c:<br>      - find the definition of the stli_brdconf array (of structures)<br>        near the top of the file<br>      - modify this to match the boards you are going to install<br>    (the comments before this structure should help)<br>      - save and exit</p>
<p>Once you have set up the board configurations then you are ready to build<br>the kernel or modules.</p>
<p>When the new kernel is booted, or the loadable module loaded then the<br>driver will emit some kernel trace messages about whether the configured<br>boards were detected or not. Depending on how your system logger is set<br>up these may come out on the console, or just be logged to<br>/var/adm/messages or /var/log/syslog. You should check the messages to<br>confirm that all is well.</p>
<p>2.3 SHARING INTERRUPTS</p>
<p>It is possible to share interrupts between multiple EasyIO and<br>EasyConnection 8/32 boards in an EISA system. To do this you must be using<br>static driver configuration, modifying the driver source code to add driver<br>configuration. Then a couple of extra things are required:</p>
<ol>
<li><p>When entering the board resources into the stallion.c file you need to<br>mark the boards as using level triggered interrupts. Do this by replacing<br>the “0” entry at field position 6 (the last field) in the board<br>configuration structure with a “1”. (This is the structure that defines<br>the board type, I/O locations, etc. for each board). All boards that are<br>sharing an interrupt must be set this way, and each board should have the<br>same interrupt number specified here as well. Now build the module or<br>kernel as you would normally.</p>
</li>
<li><p>When physically installing the boards into the system you must enter<br>the system EISA configuration utility. You will need to install the EISA<br>configuration files for <em>all</em> the EasyIO and EasyConnection 8/32 boards<br>that are sharing interrupts. The Stallion EasyIO and EasyConnection 8/32<br>EISA configuration files required are supplied by Stallion Technologies<br>on the EASY Utilities floppy diskette (usually supplied in the box with<br>the board when purchased. If not, you can pick it up from Stallion’s FTP<br>site, ftp.stallion.com). You will need to edit the board resources to<br>choose level triggered interrupts, and make sure to set each board’s<br>interrupt to the same IRQ number.</p>
</li>
</ol>
<p>You must complete both the above steps for this to work. When you reboot<br>or load the driver your EasyIO and EasyConnection 8/32 boards will be<br>sharing interrupts.</p>
<p>2.4 USING HIGH SHARED MEMORY</p>
<p>The EasyConnection 8/64-EI, ONboard and Stallion boards are capable of<br>using shared memory addresses above the usual 640K - 1Mb range. The ONboard<br>ISA and the Stallion boards can be programmed to use memory addresses up to<br>16Mb (the ISA bus addressing limit), and the EasyConnection 8/64-EI and<br>ONboard/E can be programmed for memory addresses up to 4Gb (the EISA bus<br>addressing limit).</p>
<p>The higher than 1Mb memory addresses are fully supported by this driver.<br>Just enter the address as you normally would for a lower than 1Mb address<br>(in the driver’s board configuration structure).</p>
<p>2.5 TROUBLE SHOOTING</p>
<p>If a board is not found by the driver but is actually in the system then the<br>most likely problem is that the I/O address is wrong. Change the module load<br>argument for the loadable module form. Or change it in the driver stallion.c<br>or istallion.c configuration structure and rebuild the kernel or modules, or<br>change it on the board.</p>
<p>On EasyIO and EasyConnection 8/32 boards the IRQ is software programmable, so<br>if there is a conflict you may need to change the IRQ used for a board. There<br>are no interrupts to worry about for ONboard, Brumby or EasyConnection 8/64<br>(ISA, EISA and MCA) boards. The memory region on EasyConnection 8/64 and<br>ONboard boards is software programmable, but not on the Brumby boards.</p>
<ol start="3">
<li>USING THE DRIVERS</li>
</ol>
<p>3.1 INTELLIGENT DRIVER OPERATION</p>
<p>The intelligent boards also need to have their “firmware” code downloaded<br>to them. This is done via a user level application supplied in the driver<br>utility package called “stlload”. Compile this program wherever you dropped<br>the package files, by typing “make”. In its simplest form you can then type</p>
<pre><code>./stlload -i cdk.sys
</code></pre>
<p>in this directory and that will download board 0 (assuming board 0 is an<br>EasyConnection 8/64 or EasyConnection/RA board). To download to an<br>ONboard, Brumby or Stallion do:</p>
<pre><code>./stlload -i 2681.sys
</code></pre>
<p>Normally you would want all boards to be downloaded as part of the standard<br>system startup. To achieve this, add one of the lines above into the<br>/etc/rc.d/rc.S or /etc/rc.d/rc.serial file. To download each board just add<br>the “-b <brd-number>“ option to the line. You will need to download code for<br>every board. You should probably move the stlload program into a system<br>directory, such as /usr/sbin. Also, the default location of the cdk.sys image<br>file in the stlload down-loader is /usr/lib/stallion. Create that directory<br>and put the cdk.sys and 2681.sys files in it. (It’s a convenient place to put<br>them anyway). As an example your /etc/rc.d/rc.S file might have the<br>following lines added to it (if you had 3 boards):</p>
<pre><code>/usr/sbin/stlload -b 0 -i /usr/lib/stallion/cdk.sys
/usr/sbin/stlload -b 1 -i /usr/lib/stallion/2681.sys
/usr/sbin/stlload -b 2 -i /usr/lib/stallion/2681.sys
</code></pre>
<p>The image files cdk.sys and 2681.sys are specific to the board types. The<br>cdk.sys will only function correctly on an EasyConnection 8/64 board. Similarly<br>the 2681.sys image fill only operate on ONboard, Brumby and Stallion boards.<br>If you load the wrong image file into a board it will fail to start up, and<br>of course the ports will not be operational!</p>
<p>If you are using the modularized version of the driver you might want to put<br>the modprobe calls in the startup script as well (before the download lines<br>obviously).</p>
<p>3.2 USING THE SERIAL PORTS</p>
<p>Once the driver is installed you will need to setup some device nodes to<br>access the serial ports. The simplest method is to use the /dev/MAKEDEV program.<br>It will automatically create device entries for Stallion boards. This will<br>create the normal serial port devices as /dev/ttyE# where# is the port number<br>starting from 0. A bank of 64 minor device numbers is allocated to each board,<br>so the first port on the second board is port 64,etc. A set of callout type<br>devices may also be created. They are created as the devices /dev/cue# where #<br>is the same as for the ttyE devices.</p>
<p>For the most part the Stallion driver tries to emulate the standard PC system<br>COM ports and the standard Linux serial driver. The idea is that you should<br>be able to use Stallion board ports and COM ports interchangeably without<br>modifying anything but the device name. Anything that doesn’t work like that<br>should be considered a bug in this driver!</p>
<p>If you look at the driver code you will notice that it is fairly closely<br>based on the Linux serial driver (linux/drivers/char/serial.c). This is<br>intentional, obviously this is the easiest way to emulate its behavior!</p>
<p>Since this driver tries to emulate the standard serial ports as much as<br>possible, most system utilities should work as they do for the standard<br>COM ports. Most importantly “stty” works as expected and “setserial” can<br>also be used (excepting the ability to auto-configure the I/O and IRQ<br>addresses of boards). Higher baud rates are supported in the usual fashion<br>through setserial or using the CBAUDEX extensions. Note that the EasyIO and<br>EasyConnection (all types) support at least 57600 and 115200 baud. The newer<br>EasyConnection XP modules and new EasyIO boards support 230400 and 460800<br>baud as well. The older boards including ONboard and Brumby support a<br>maximum baud rate of 38400.</p>
<p>If you are unfamiliar with how to use serial ports, then get the Serial-HOWTO<br>by Greg Hankins. It will explain everything you need to know!</p>
<ol start="4">
<li>NOTES</li>
</ol>
<p>You can use both drivers at once if you have a mix of board types installed<br>in a system. However to do this you will need to change the major numbers<br>used by one of the drivers. Currently both drivers use major numbers 24, 25<br>and 28 for their devices. Change one driver to use some other major numbers,<br>and then modify the mkdevnods script to make device nodes based on those new<br>major numbers. For example, you could change the istallion.c driver to use<br>major numbers 60, 61 and 62. You will also need to create device nodes with<br>different names for the ports, for example ttyF# and cuf#.</p>
<p>The original Stallion board is no longer supported by Stallion Technologies.<br>Although it is known to work with the istallion driver.</p>
<p>Finding a free physical memory address range can be a problem. The older<br>boards like the Stallion and ONboard need large areas (64K or even 128K), so<br>they can be very difficult to get into a system. If you have 16 Mb of RAM<br>then you have no choice but to put them somewhere in the 640K -&gt; 1Mb range.<br>ONboards require 64K, so typically 0xd0000 is good, or 0xe0000 on some<br>systems. If you have an original Stallion board, “V4.0” or Rev.O, then you<br>need a 64K memory address space, so again 0xd0000 and 0xe0000 are good.<br>Older Stallion boards are a much bigger problem. They need 128K of address<br>space and must be on a 128K boundary. If you don’t have a VGA card then<br>0xc0000 might be usable - there is really no other place you can put them<br>below 1Mb.</p>
<p>Both the ONboard and old Stallion boards can use higher memory addresses as<br>well, but you must have less than 16Mb of RAM to be able to use them. Usual<br>high memory addresses used include 0xec0000 and 0xf00000.</p>
<p>The Brumby boards only require 16Kb of address space, so you can usually<br>squeeze them in somewhere. Common addresses are 0xc8000, 0xcc000, or in<br>the 0xd0000 range. EasyConnection 8/64 boards are even better, they only<br>require 4Kb of address space, again usually 0xc8000, 0xcc000 or 0xd0000<br>are good.</p>
<p>If you are using an EasyConnection 8/64-EI or ONboard/E then usually the<br>0xd0000 or 0xe0000 ranges are the best options below 1Mb. If neither of<br>them can be used then the high memory support to use the really high address<br>ranges is the best option. Typically the 2Gb range is convenient for them,<br>and gets them well out of the way.</p>
<p>The ports of the EasyIO-8M board do not have DCD or DTR signals. So these<br>ports cannot be used as real modem devices. Generally, when using these<br>ports you should only use the cueX devices.</p>
<p>The driver utility package contains a couple of very useful programs. One<br>is a serial port statistics collection and display program - very handy<br>for solving serial port problems. The other is an extended option setting<br>program that works with the intelligent boards.</p>
<ol start="5">
<li>DISCLAIMER</li>
</ol>
<p>The information contained in this document is believed to be accurate and<br>reliable. However, no responsibility is assumed by Stallion Technologies<br>Pty. Ltd. for its use, nor any infringements of patents or other rights<br>of third parties resulting from its use. Stallion Technologies reserves<br>the right to modify the design of its products and will endeavour to change<br>the information in manuals and accompanying documentation accordingly.</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_stallion/" title="Kernel-2.6.32-573.12.1.el6_stallion" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_stallion/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_swsusp/" title="Kernel-2.6.32-573.12.1.el6_swsusp"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_st/" title="Kernel-2.6.32-573.12.1.el6_st"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>