<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-2.6.32-573.12.1.el6_ibmca | oosTech.com</title>
  <meta name="description" content="README for Linux device driver for the IBM “C-It” USB video camera INTRODUCTION: This driver does not use all features known to exist inthe IBM camera. However most of needed features work well. This">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-2.6.32-573.12.1.el6_ibmca">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_ibmcam/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="README for Linux device driver for the IBM “C-It” USB video camera INTRODUCTION: This driver does not use all features known to exist inthe IBM camera. However most of needed features work well. This">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_ibmcam/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Tell-me-more-about-all-that-%E2%80%9Cmodel%E2%80%9D-business"><span class="toc-number">1.</span> <span class="toc-text">Tell me more about all that “model” business</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Quirks-of-Model-2-cameras"><span class="toc-number">2.</span> <span class="toc-text">Quirks of Model 2 cameras:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#modprobe-ibmcam-framerate-1"><span class="toc-number"></span> <span class="toc-text">modprobe ibmcam framerate&#x3D;1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#insmod-lib-modules-2-x-y-usb-ibmcam-o-framerate-1"><span class="toc-number"></span> <span class="toc-text">insmod &#x2F;lib&#x2F;modules&#x2F;2.x.y&#x2F;usb&#x2F;ibmcam.o framerate&#x3D;1</span></a>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-2.6.32-573.12.1.el6_ibmcam" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-2.6.32-573.12.1.el6_ibmca
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_ibmcam/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_ibmcam/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_ibmcam/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p>README for Linux device driver for the IBM “C-It” USB video camera</p>
<p>INTRODUCTION:</p>
<p>This driver does not use all features known to exist in<br>the IBM camera. However most of needed features work well.</p>
<p>This driver was developed using logs of observed USB traffic<br>which was produced by standard Windows driver (c-it98.sys).<br>I did not have data sheets from Xirlink.</p>
<p>Video formats:<br>      128x96  [model 1]<br>      176x144<br>      320x240 [model 2]<br>      352x240 [model 2]<br>      352x288<br>Frame rate: 3 - 30 frames per second (FPS)<br>External interface: USB<br>Internal interface: Video For Linux (V4L)<br>Supported controls:</p>
<ul>
<li>by V4L: Contrast,  Brightness, Color, Hue</li>
<li>by driver options: frame rate, lighting conditions, video format,<pre><code>       default picture settings, sharpness.
</code></pre>
</li>
</ul>
<p>SUPPORTED CAMERAS:</p>
<p>Xirlink “C-It” camera, also known as “IBM PC Camera”.<br>The device uses proprietary ASIC (and compression method);<br>it is manufactured by Xirlink. See <a target="_blank" rel="noopener" href="http://www.xirlink.com/">http://www.xirlink.com/</a><br>(renamed to <a target="_blank" rel="noopener" href="http://www.veo.com/">http://www.veo.com</a>), <a target="_blank" rel="noopener" href="http://www.ibmpccamera.com/">http://www.ibmpccamera.com</a>,<br>or <a target="_blank" rel="noopener" href="http://www.c-itnow.com/">http://www.c-itnow.com/</a> for details and pictures.</p>
<p>This very chipset (“X Chip”, as marked at the factory)<br>is used in several other cameras, and they are supported<br>as well:</p>
<ul>
<li>IBM NetCamera</li>
<li>Veo Stingray</li>
</ul>
<p>The Linux driver was developed with camera with following<br>model number (or FCC ID): KSX-XVP510. This camera has three<br>interfaces, each with one endpoint (control, iso, iso). This<br>type of cameras is referred to as “model 1”. These cameras are<br>no longer manufactured.</p>
<p>Xirlink now manufactures new cameras which are somewhat different.<br>In particular, following models [FCC ID] belong to that category:</p>
<p>XVP300 [KSX-X9903]<br>XVP600 [KSX-X9902]<br>XVP610 [KSX-X9902]</p>
<p>(see <a target="_blank" rel="noopener" href="http://www.xirlink.com/ibmpccamera/">http://www.xirlink.com/ibmpccamera/</a> for updates, they refer<br>to these new cameras by Windows driver dated 12-27-99, v3005 BETA)<br>These cameras have two interfaces, one endpoint in each (iso, bulk).<br>Such type of cameras is referred to as “model 2”. They are supported<br>(with exception of 352x288 native mode).</p>
<p>Some IBM NetCameras (Model 4) are made to generate only compressed<br>video streams. This is great for performance, but unfortunately<br>nobody knows how to decompress the stream :-( Therefore, these<br>cameras are <em>unsupported</em> and if you try to use one of those, all<br>you get is random colored horizontal streaks, not the image!<br>If you have one of those cameras, you probably should return it<br>to the store and get something that is supported.</p>
<h2 id="Tell-me-more-about-all-that-“model”-business"><a href="#Tell-me-more-about-all-that-“model”-business" class="headerlink" title="Tell me more about all that “model” business"></a>Tell me more about all that “model” business</h2><p>I just invented model numbers to uniquely identify flavors of the<br>hardware/firmware that were sold. It was very confusing to use<br>brand names or some other internal numbering schemes. So I found<br>by experimentation that all Xirlink chipsets fall into four big<br>classes, and I called them “models”. Each model is programmed in<br>its own way, and each model sends back the video in its own way.</p>
<h2 id="Quirks-of-Model-2-cameras"><a href="#Quirks-of-Model-2-cameras" class="headerlink" title="Quirks of Model 2 cameras:"></a>Quirks of Model 2 cameras:</h2><p>Model 2 does not have hardware contrast control. Corresponding V4L<br>control is implemented in software, which is not very nice to your<br>CPU, but at least it works.</p>
<p>This driver provides 352x288 mode by switching the camera into<br>quasi-352x288 RGB mode (800 Kbits per frame) essentially limiting<br>this mode to 10 frames per second or less, in ideal conditions on<br>the bus (USB is shared, after all). The frame rate<br>has to be programmed very conservatively. Additional concern is that<br>frame rate depends on brightness setting; therefore the picture can<br>be good at one brightness and broken at another! I did not want to fix<br>the frame rate at slowest setting, but I had to move it pretty much down<br>the scale (so that framerate option barely matters). I also noticed that<br>camera after first powering up produces frames slightly faster than during<br>consecutive uses. All this means that if you use 352x288 (which is<br>default), be warned - you may encounter broken picture on first connect;<br>try to adjust brightness - brighter image is slower, so USB will be able<br>to send all data. However if you regularly use Model 2 cameras you may<br>prefer 176x144 which makes perfectly good I420, with no scaling and<br>lesser demands on USB (300 Kbits per second, or 26 frames per second).</p>
<p>Another strange effect of 352x288 mode is the fine vertical grid visible<br>on some colored surfaces. I am sure it is caused by me not understanding<br>what the camera is trying to say. Blame trade secrets for that.</p>
<p>The camera that I had also has a hardware quirk: if disconnected,<br>it needs few minutes to “relax” before it can be plugged in again<br>(poorly designed USB processor reset circuit?)</p>
<p>[Veo Stingray with Product ID 0x800C is also Model 2, but I haven’t<br>observed this particular flaw in it.]</p>
<p>Model 2 camera can be programmed for very high sensitivity (even starlight<br>may be enough), this makes it convenient for tinkering with. The driver<br>code has enough comments to help a programmer to tweak the camera<br>as s/he feels necessary.</p>
<p>WHAT YOU NEED:</p>
<ul>
<li><p>A supported IBM PC (C-it) camera (model 1 or 2)</p>
</li>
<li><p>A Linux box with USB support (2.3/2.4; 2.2 w/backport may work)</p>
</li>
<li><p>A Video4Linux compatible frame grabber program such as xawtv.</p>
</li>
</ul>
<p>HOW TO COMPILE THE DRIVER:</p>
<p>You need to compile the driver only if you are a developer<br>or if you want to make changes to the code. Most distributions<br>precompile all modules, so you can go directly to the next<br>section “HOW TO USE THE DRIVER”.</p>
<p>The ibmcam driver uses usbvideo helper library (module),<br>so if you are studying the ibmcam code you will be led there.</p>
<p>The driver itself consists of only one file in usb/ directory:<br>ibmcam.c. This file is included into the Linux kernel build<br>process if you configure the kernel for CONFIG_USB_IBMCAM.<br>Run “make xconfig” and in USB section you will find the IBM<br>camera driver. Select it, save the configuration and recompile.</p>
<p>HOW TO USE THE DRIVER:</p>
<p>I recommend to compile driver as a module. This gives you an<br>easier access to its configuration. The camera has many more<br>settings than V4L can operate, so some settings are done using<br>module options.</p>
<p>To begin with, on most modern Linux distributions the driver<br>will be automatically loaded whenever you plug the supported<br>camera in. Therefore, you don’t need to do anything. However<br>if you want to experiment with some module parameters then<br>you can load and unload the driver manually, with camera<br>plugged in or unplugged.</p>
<p>Typically module is installed with command ‘modprobe’, like this:</p>
<h1 id="modprobe-ibmcam-framerate-1"><a href="#modprobe-ibmcam-framerate-1" class="headerlink" title="modprobe ibmcam framerate=1"></a>modprobe ibmcam framerate=1</h1><p>Alternatively you can use ‘insmod’ in similar fashion:</p>
<h1 id="insmod-lib-modules-2-x-y-usb-ibmcam-o-framerate-1"><a href="#insmod-lib-modules-2-x-y-usb-ibmcam-o-framerate-1" class="headerlink" title="insmod /lib/modules/2.x.y/usb/ibmcam.o framerate=1"></a>insmod /lib/modules/2.x.y/usb/ibmcam.o framerate=1</h1><p>Module can be inserted with camera connected or disconnected.</p>
<p>The driver can have options, though some defaults are provided.</p>
<p>Driver options: (* indicates that option is model-dependent)</p>
<p>Name            Type            Range [default] Example</p>
<hr>
<p>debug           Integer         0-9 [0]         debug=1<br>flags           Integer         0-0xFF [0]      flags=0x0d<br>framerate       Integer         0-6 [2]         framerate=1<br>hue_correction  Integer         0-255 [128]     hue_correction=115<br>init_brightness Integer         0-255 [128]     init_brightness=100<br>init_contrast   Integer         0-255 [192]     init_contrast=200<br>init_color      Integer         0-255 [128]     init_color=130<br>init_hue        Integer         0-255 [128]     init_hue=115<br>lighting        Integer         0-2* [1]        lighting=2<br>sharpness       Integer         0-6* [4]        sharpness=3<br>size            Integer         0-2* [2]        size=1</p>
<p>Options for Model 2 only:</p>
<p>Name            Type            Range [default] Example</p>
<hr>
<p>init_model2_rg  Integer         0..255 [0x70]   init_model2_rg=128<br>init_model2_rg2 Integer         0..255 [0x2f]   init_model2_rg2=50<br>init_model2_sat Integer         0..255 [0x34]   init_model2_sat=65<br>init_model2_yb  Integer         0..255 [0xa0]   init_model2_yb=200</p>
<p>debug           You don’t need this option unless you are a developer.<br>        If you are a developer then you will see in the code<br>        what values do what. 0=off.</p>
<p>flags           This is a bit mask, and you can combine any number of<br>        bits to produce what you want. Usually you don’t want<br>        any of extra features this option provides:</p>
<pre><code>    FLAGS_RETRY_VIDIOCSYNC  1  This bit allows to retry failed
                   VIDIOCSYNC ioctls without failing.
                   Will work with xawtv, will not
                   with xrealproducer. Default is
                   not set.
    FLAGS_MONOCHROME        2  Activates monochrome (b/w) mode.
    FLAGS_DISPLAY_HINTS     4  Shows colored pixels which have
                   magic meaning to developers.
    FLAGS_OVERLAY_STATS     8  Shows tiny numbers on screen,
                   useful only for debugging.
    FLAGS_FORCE_TESTPATTERN 16 Shows blue screen with numbers.
    FLAGS_SEPARATE_FRAMES   32 Shows each frame separately, as
                   it was received from the camera.
                   Default (not set) is to mix the
                   preceding frame in to compensate
                   for occasional loss of Isoc data
                   on high frame rates.
    FLAGS_CLEAN_FRAMES      64 Forces &quot;cleanup&quot; of each frame
                   prior to use; relevant only if
                   FLAGS_SEPARATE_FRAMES is set.
                   Default is not to clean frames,
                   this is a little faster but may
                   produce flicker if frame rate is
                   too high and Isoc data gets lost.
    FLAGS_NO_DECODING      128 This flag turns the video stream
                   decoder off, and dumps the raw
                   Isoc data from the camera into
                   the reading process. Useful to
                   developers, but not to users.
</code></pre>
<p>framerate       This setting controls frame rate of the camera. This is<br>        an approximate setting (in terms of “worst” … “best”)<br>        because camera changes frame rate depending on amount<br>        of light available. Setting 0 is slowest, 6 is fastest.<br>        Beware - fast settings are very demanding and may not<br>        work well with all video sizes. Be conservative.</p>
<p>hue_correction  This highly optional setting allows to adjust the<br>        hue of the image in a way slightly different from<br>        what usual “hue” control does. Both controls affect<br>        YUV colorspace: regular “hue” control adjusts only<br>        U component, and this “hue_correction” option similarly<br>        adjusts only V component. However usually it is enough<br>        to tweak only U or V to compensate for colored light or<br>        color temperature; this option simply allows more<br>        complicated correction when and if it is necessary.</p>
<p>init_brightness These settings specify <em>initial</em> values which will be<br>init_contrast   used to set up the camera. If your V4L application has<br>init_color      its own controls to adjust the picture then these<br>init_hue        controls will be used too. These options allow you to<br>        preconfigure the camera when it gets connected, before<br>        any V4L application connects to it. Good for webcams.</p>
<p>init_model2_rg  These initial settings alter color balance of the<br>init_model2_rg2 camera on hardware level. All four settings may be used<br>init_model2_sat to tune the camera to specific lighting conditions. These<br>init_model2_yb  settings only apply to Model 2 cameras.</p>
<p>lighting        This option selects one of three hardware-defined<br>        photosensitivity settings of the camera. 0=bright light,<br>        1=Medium (default), 2=Low light. This setting affects<br>        frame rate: the dimmer the lighting the lower the frame<br>        rate (because longer exposition time is needed). The<br>        Model 2 cameras allow values more than 2 for this option,<br>        thus enabling extremely high sensitivity at cost of frame<br>        rate, color saturation and imaging sensor noise.</p>
<p>sharpness       This option controls smoothing (noise reduction)<br>        made by camera. Setting 0 is most smooth, setting 6<br>        is most sharp. Be aware that CMOS sensor used in the<br>        camera is pretty noisy, so if you choose 6 you will<br>        be greeted with “snowy” image. Default is 4. Model 2<br>        cameras do not support this feature.</p>
<p>size            This setting chooses one of several image sizes that are<br>        supported by this driver. Cameras may support more, but<br>        it’s difficult to reverse-engineer all formats.<br>        Following video sizes are supported:</p>
<pre><code>    size=0     128x96  (Model 1 only)
    size=1     160x120
    size=2     176x144
    size=3     320x240 (Model 2 only)
    size=4     352x240 (Model 2 only)
    size=5     352x288
    size=6     640x480 (Model 3 only)

    The 352x288 is the native size of the Model 1 sensor
    array, so it&#39;s the best resolution the camera can
    yield. The best resolution of Model 2 is 176x144, and
    larger images are produced by stretching the bitmap.
    Model 3 has sensor with 640x480 grid, and it works too,
    but the frame rate will be exceptionally low (1-2 FPS);
    it may be still OK for some applications, like security.
    Choose the image size you need. The smaller image can
    support faster frame rate. Default is 352x288.
</code></pre>
<p>For more information and the Troubleshooting FAQ visit this URL:</p>
<pre><code>    http://www.linux-usb.org/ibmcam/
</code></pre>
<p>WHAT NEEDS TO BE DONE:</p>
<ul>
<li><p>The button on the camera is not used. I don’t know how to get to it.<br>I know now how to read button on Model 2, but what to do with it?</p>
</li>
<li><p>Camera reports its status back to the driver; however I don’t know<br>what returned data means. If camera fails at some initialization<br>stage then something should be done, and I don’t do that because<br>I don’t even know that some command failed. This is mostly Model 1<br>concern because Model 2 uses different commands which do not return<br>status (and seem to complete successfully every time).</p>
</li>
<li><p>Some flavors of Model 4 NetCameras produce only compressed video<br>streams, and I don’t know how to decode them.</p>
</li>
</ul>
<p>CREDITS:</p>
<p>The code is based in no small part on the CPiA driver by Johannes Erdfelt,<br>Randy Dunlap, and others. Big thanks to them for their pioneering work on that<br>and the USB stack.</p>
<p>I also thank John Lightsey for his donation of the Veo Stingray camera.</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_ibmcam/" title="Kernel-2.6.32-573.12.1.el6_ibmca" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_ibmcam/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_ide-tape/" title="Kernel-2.6.32-573.12.1.el6_ide-tape"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_i40evf/" title="Kernel-2.6.32-573.12.1.el6_i40evf"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>