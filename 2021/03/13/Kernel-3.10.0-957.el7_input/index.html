<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-3.10.0-957.el7_input | oosTech.com</title>
  <meta name="description" content="Linux Input drivers v1.0        (c) 1999-2001 Vojtech Pavlik &lt;vojtech@ucw.cz&gt;              Sponsored by SuSE    Disclaimer 1234567891011121314151617181920212223242526272829303132333435">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-3.10.0-957.el7_input">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_input/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="Linux Input drivers v1.0        (c) 1999-2001 Vojtech Pavlik &lt;vojtech@ucw.cz&gt;              Sponsored by SuSE    Disclaimer 1234567891011121314151617181920212223242526272829303132333435">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_input/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-3.10.0-957.el7_input" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-3.10.0-957.el7_input
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_input/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_input/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-3.10.0-957.el7_input/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <pre><code>          Linux Input drivers v1.0
       (c) 1999-2001 Vojtech Pavlik &lt;vojtech@ucw.cz&gt;
             Sponsored by SuSE
</code></pre>
<hr>
<ol start="0">
<li><p>Disclaimer</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line">  This program is free software; you can redistribute it and&#x2F;or modify it</span><br><span class="line">under the terms of the GNU General Public License as published by the Free</span><br><span class="line">Software Foundation; either version 2 of the License, or (at your option)</span><br><span class="line">any later version.</span><br><span class="line"></span><br><span class="line">  This program is distributed in the hope that it will be useful, but</span><br><span class="line">WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY</span><br><span class="line">or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span><br><span class="line">more details.</span><br><span class="line"></span><br><span class="line">  You should have received a copy of the GNU General Public License along</span><br><span class="line">with this program; if not, write to the Free Software Foundation, Inc., 59</span><br><span class="line">Temple Place, Suite 330, Boston, MA 02111-1307 USA</span><br><span class="line"></span><br><span class="line">  Should you need to contact me, the author, you can do so either by e-mail</span><br><span class="line">- mail your message to &lt;vojtech@ucw.cz&gt;, or by paper mail: Vojtech Pavlik,</span><br><span class="line">Simunkova 1594, Prague 8, 182 00 Czech Republic</span><br><span class="line"></span><br><span class="line">  For your convenience, the GNU General Public License version 2 is included</span><br><span class="line">in the package: See the file COPYING.</span><br><span class="line"></span><br><span class="line">1. Introduction</span><br><span class="line">~~~~~~~~~~~~~~~</span><br><span class="line">  This is a collection of drivers that is designed to support all input</span><br><span class="line">devices under Linux. While it is currently used only on for USB input</span><br><span class="line">devices, future use (say 2.5&#x2F;2.6) is expected to expand to replace</span><br><span class="line">most of the existing input system, which is why it lives in</span><br><span class="line">drivers&#x2F;input&#x2F; instead of drivers&#x2F;usb&#x2F;.</span><br><span class="line"></span><br><span class="line">  The centre of the input drivers is the input module, which must be</span><br><span class="line">loaded before any other of the input modules - it serves as a way of</span><br><span class="line">communication between two groups of modules:</span><br><span class="line"></span><br><span class="line">1.1 Device drivers</span><br><span class="line">~~~~~~~~~~~~~~~~~~</span><br><span class="line">  These modules talk to the hardware (for example via USB), and provide</span><br><span class="line">events (keystrokes, mouse movements) to the input module.</span><br><span class="line"></span><br><span class="line">1.2 Event handlers</span><br><span class="line">~~~~~~~~~~~~~~~~~~</span><br><span class="line">  These modules get events from input and pass them where needed via</span><br><span class="line">various interfaces - keystrokes to the kernel, mouse movements via a</span><br><span class="line">simulated PS&#x2F;2 interface to GPM and X and so on.</span><br><span class="line"></span><br><span class="line">2. Simple Usage</span><br><span class="line">~~~~~~~~~~~~~~~</span><br><span class="line">  For the most usual configuration, with one USB mouse and one USB keyboard,</span><br><span class="line">you&#39;ll have to load the following modules (or have them built in to the</span><br><span class="line">kernel):</span><br><span class="line"></span><br><span class="line">	input</span><br><span class="line">	mousedev</span><br><span class="line">	keybdev</span><br><span class="line">	usbcore</span><br><span class="line">	uhci_hcd or ohci_hcd or ehci_hcd</span><br><span class="line">	usbhid</span><br><span class="line"></span><br><span class="line">  After this, the USB keyboard will work straight away, and the USB mouse</span><br><span class="line">will be available as a character device on major 13, minor 63:</span><br><span class="line"></span><br><span class="line">	crw-r--r--   1 root     root      13,  63 Mar 28 22:45 mice</span><br><span class="line"></span><br><span class="line">  This device has to be created.</span><br><span class="line">  The commands to create it by hand are:</span><br><span class="line"></span><br><span class="line">	cd &#x2F;dev</span><br><span class="line">	mkdir input</span><br><span class="line">	mknod input&#x2F;mice c 13 63</span><br><span class="line"></span><br><span class="line">  After that you have to point GPM (the textmode mouse cut&amp;paste tool) and</span><br><span class="line">XFree to this device to use it - GPM should be called like:</span><br><span class="line"></span><br><span class="line">	gpm -t ps2 -m &#x2F;dev&#x2F;input&#x2F;mice</span><br><span class="line"></span><br><span class="line">  And in X:</span><br><span class="line"></span><br><span class="line">	Section &quot;Pointer&quot;</span><br><span class="line">	    Protocol    &quot;ImPS&#x2F;2&quot;</span><br><span class="line">	    Device      &quot;&#x2F;dev&#x2F;input&#x2F;mice&quot;</span><br><span class="line">	    ZAxisMapping 4 5</span><br><span class="line">	EndSection</span><br><span class="line"></span><br><span class="line">  When you do all of the above, you can use your USB mouse and keyboard.</span><br><span class="line"></span><br><span class="line">3. Detailed Description</span><br><span class="line">~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">3.1 Device drivers</span><br><span class="line">~~~~~~~~~~~~~~~~~~</span><br><span class="line">  Device drivers are the modules that generate events. The events are</span><br><span class="line">however not useful without being handled, so you also will need to use some</span><br><span class="line">of the modules from section 3.2.</span><br><span class="line"></span><br><span class="line">3.1.1 usbhid</span><br><span class="line">~~~~~~~~~~~~</span><br><span class="line">  usbhid is the largest and most complex driver of the whole suite. It</span><br><span class="line">handles all HID devices, and because there is a very wide variety of them,</span><br><span class="line">and because the USB HID specification isn&#39;t simple, it needs to be this big.</span><br><span class="line"></span><br><span class="line">  Currently, it handles USB mice, joysticks, gamepads, steering wheels</span><br><span class="line">keyboards, trackballs and digitizers.</span><br><span class="line"></span><br><span class="line"> However, USB uses HID also for monitor controls, speaker controls, UPSs,</span><br><span class="line">LCDs and many other purposes.</span><br><span class="line"></span><br><span class="line"> The monitor and speaker controls should be easy to add to the hid&#x2F;input</span><br><span class="line">interface, but for the UPSs and LCDs it doesn&#39;t make much sense. For this,</span><br><span class="line">the hiddev interface was designed. See Documentation&#x2F;hid&#x2F;hiddev.txt</span><br><span class="line">for more information about it.</span><br><span class="line"></span><br><span class="line">  The usage of the usbhid module is very simple, it takes no parameters,</span><br><span class="line">detects everything automatically and when a HID device is inserted, it</span><br><span class="line">detects it appropriately.</span><br><span class="line"></span><br><span class="line">  However, because the devices vary wildly, you might happen to have a</span><br><span class="line">device that doesn&#39;t work well. In that case #define DEBUG at the beginning</span><br><span class="line">of hid-core.c and send me the syslog traces.</span><br><span class="line"></span><br><span class="line">3.1.2 usbmouse</span><br><span class="line">~~~~~~~~~~~~~~</span><br><span class="line">  For embedded systems, for mice with broken HID descriptors and just any</span><br><span class="line">other use when the big usbhid wouldn&#39;t be a good choice, there is the</span><br><span class="line">usbmouse driver. It handles USB mice only. It uses a simpler HIDBP</span><br><span class="line">protocol. This also means the mice must support this simpler protocol. Not</span><br><span class="line">all do. If you don&#39;t have any strong reason to use this module, use usbhid</span><br><span class="line">instead.</span><br><span class="line"></span><br><span class="line">3.1.3 usbkbd</span><br><span class="line">~~~~~~~~~~~~</span><br><span class="line">  Much like usbmouse, this module talks to keyboards with a simplified</span><br><span class="line">HIDBP protocol. It&#39;s smaller, but doesn&#39;t support any extra special keys.</span><br><span class="line">Use usbhid instead if there isn&#39;t any special reason to use this.</span><br><span class="line"></span><br><span class="line">3.1.4 wacom</span><br><span class="line">~~~~~~~~~~~</span><br><span class="line">  This is a driver for Wacom Graphire and Intuos tablets. Not for Wacom</span><br><span class="line">PenPartner, that one is handled by the HID driver. Although the Intuos and</span><br><span class="line">Graphire tablets claim that they are HID tablets as well, they are not and</span><br><span class="line">thus need this specific driver.</span><br><span class="line"></span><br><span class="line">3.1.5 iforce</span><br><span class="line">~~~~~~~~~~~~</span><br><span class="line">  A driver for I-Force joysticks and wheels, both over USB and RS232. </span><br><span class="line">It includes ForceFeedback support now, even though Immersion</span><br><span class="line">Corp. considers the protocol a trade secret and won&#39;t disclose a word</span><br><span class="line">about it. </span><br><span class="line"></span><br><span class="line">3.2 Event handlers</span><br><span class="line">~~~~~~~~~~~~~~~~~~</span><br><span class="line">  Event handlers distribute the events from the devices to userland and</span><br><span class="line">kernel, as needed.</span><br><span class="line"></span><br><span class="line">3.2.1 keybdev</span><br></pre></td></tr></table></figure>
<p>keybdev is currently a rather ugly hack that translates the input<br>events into architecture-specific keyboard raw mode (Xlated AT Set2 on<br>x86), and passes them into the handle_scancode function of the<br>keyboard.c module. This works well enough on all architectures that<br>keybdev can generate rawmode on, other architectures can be added to<br>it.</p>
<p>The right way would be to pass the events to keyboard.c directly,<br>best if keyboard.c would itself be an event handler. This is done in<br>the input patch, available on the webpage mentioned below. </p>
</li>
</ol>
<p>3.2.2 mousedev</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">  mousedev is also a hack to make programs that use mouse input</span><br><span class="line">work. It takes events from either mice or digitizers&#x2F;tablets and makes</span><br><span class="line">a PS&#x2F;2-style (a la &#x2F;dev&#x2F;psaux) mouse device available to the</span><br><span class="line">userland. Ideally, the programs could use a more reasonable interface,</span><br><span class="line">for example evdev</span><br><span class="line"></span><br><span class="line">  Mousedev devices in &#x2F;dev&#x2F;input (as shown above) are:</span><br><span class="line"></span><br><span class="line">	crw-r--r--   1 root     root      13,  32 Mar 28 22:45 mouse0</span><br><span class="line">	crw-r--r--   1 root     root      13,  33 Mar 29 00:41 mouse1</span><br><span class="line">	crw-r--r--   1 root     root      13,  34 Mar 29 00:41 mouse2</span><br><span class="line">	crw-r--r--   1 root     root      13,  35 Apr  1 10:50 mouse3</span><br><span class="line">	...</span><br><span class="line">	...</span><br><span class="line">	crw-r--r--   1 root     root      13,  62 Apr  1 10:50 mouse30</span><br><span class="line">	crw-r--r--   1 root     root      13,  63 Apr  1 10:50 mice</span><br><span class="line"></span><br><span class="line">Each &#39;mouse&#39; device is assigned to a single mouse or digitizer, except</span><br><span class="line">the last one - &#39;mice&#39;. This single character device is shared by all</span><br><span class="line">mice and digitizers, and even if none are connected, the device is</span><br><span class="line">present.  This is useful for hotplugging USB mice, so that programs</span><br><span class="line">can open the device even when no mice are present.</span><br><span class="line"></span><br><span class="line">  CONFIG_INPUT_MOUSEDEV_SCREEN_[XY] in the kernel configuration are</span><br><span class="line">the size of your screen (in pixels) in XFree86. This is needed if you</span><br><span class="line">want to use your digitizer in X, because its movement is sent to X</span><br><span class="line">via a virtual PS&#x2F;2 mouse and thus needs to be scaled</span><br><span class="line">accordingly. These values won&#39;t be used if you use a mouse only.</span><br><span class="line"></span><br><span class="line">  Mousedev will generate either PS&#x2F;2, ImPS&#x2F;2 (Microsoft IntelliMouse) or</span><br><span class="line">ExplorerPS&#x2F;2 (IntelliMouse Explorer) protocols, depending on what the</span><br><span class="line">program reading the data wishes. You can set GPM and X to any of</span><br><span class="line">these. You&#39;ll need ImPS&#x2F;2 if you want to make use of a wheel on a USB</span><br><span class="line">mouse and ExplorerPS&#x2F;2 if you want to use extra (up to 5) buttons. </span><br><span class="line"></span><br><span class="line">3.2.3 joydev</span><br></pre></td></tr></table></figure>
<p>  Joydev implements v0.x and v1.x Linux joystick api, much like<br>drivers/char/joystick/joystick.c used to in earlier versions. See<br>joystick-api.txt in the Documentation subdirectory for details.  As<br>soon as any joystick is connected, it can be accessed in /dev/input<br>on: </p>
<pre><code>crw-r--r--   1 root     root      13,   0 Apr  1 10:50 js0
crw-r--r--   1 root     root      13,   1 Apr  1 10:50 js1
crw-r--r--   1 root     root      13,   2 Apr  1 10:50 js2
crw-r--r--   1 root     root      13,   3 Apr  1 10:50 js3
...
</code></pre>
<p>And so on up to js31.</p>
<p>3.2.4 evdev</p>
<pre><code>  evdev is the generic input event interface. It passes the events
generated in the kernel straight to the program, with timestamps. The
API is still evolving, but should be useable now. It&#39;s described in
section 5. 

  This should be the way for GPM and X to get keyboard and mouse
events. It allows for multihead in X without any specific multihead
kernel support. The event codes are the same on all architectures and
are hardware independent.

  The devices are in /dev/input:

    crw-r--r--   1 root     root      13,  64 Apr  1 10:49 event0
    crw-r--r--   1 root     root      13,  65 Apr  1 10:50 event1
    crw-r--r--   1 root     root      13,  66 Apr  1 10:50 event2
    crw-r--r--   1 root     root      13,  67 Apr  1 10:50 event3
    ...

And so on up to event31.

4. Verifying if it works
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  Typing a couple keys on the keyboard should be enough to check that</span><br><span class="line">a USB keyboard works and is correctly connected to the kernel keyboard</span><br><span class="line">driver. </span><br><span class="line"></span><br><span class="line">  Doing a &quot;cat &#x2F;dev&#x2F;input&#x2F;mouse0&quot; (c, 13, 32) will verify that a mouse</span><br><span class="line">is also emulated; characters should appear if you move it.</span><br><span class="line"></span><br><span class="line">  You can test the joystick emulation with the &#39;jstest&#39; utility,</span><br><span class="line">available in the joystick package (see Documentation&#x2F;input&#x2F;joystick.txt).</span><br><span class="line"></span><br><span class="line">  You can test the event devices with the &#39;evtest&#39; utility available</span><br><span class="line">in the LinuxConsole project CVS archive (see the URL below).</span><br><span class="line"></span><br><span class="line">5. Event interface</span><br></pre></td></tr></table></figure>
  Should you want to add event device support into any application (X, gpm,
svgalib ...) I &lt;vojtech@ucw.cz&gt; will be happy to provide you any help I
can. Here goes a description of the current state of things, which is going
to be extended, but not changed incompatibly as time goes:

  You can use blocking and nonblocking reads, also select() on the
/dev/input/eventX devices, and you&#39;ll always get a whole number of input
events on a read. Their layout is:

struct input_event &#123;
    struct timeval time;
    unsigned short type;
    unsigned short code;
    unsigned int value;
&#125;;

  &#39;time&#39; is the timestamp, it returns the time at which the event happened.
Type is for example EV_REL for relative moment, EV_KEY for a keypress or
release. More types are defined in include/linux/input.h.

  &#39;code&#39; is event code, for example REL_X or KEY_BACKSPACE, again a complete
list is in include/linux/input.h.

  &#39;value&#39; is the value the event carries. Either a relative change for
EV_REL, absolute new value for EV_ABS (joysticks ...), or 0 for EV_KEY for
release, 1 for keypress and 2 for autorepeat.
</code></pre>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_input/" title="Kernel-3.10.0-957.el7_input" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_input/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_input-programming/" title="Kernel-3.10.0-957.el7_input-programming"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_insignal-boards/" title="Kernel-3.10.0-957.el7_insignal-boards"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>