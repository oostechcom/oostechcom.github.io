<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-3.10.0-957.el7_sx | oosTech.com</title>
  <meta name="description" content="sx.txt  -- specialix SX&#x2F;SI multiport serial driver readme.      Copyright (C) 1997  Roger Wolff (R.E.Wolff@BitWizard.nl)    Specialix pays for the development and support of this driver.   Please DO">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-3.10.0-957.el7_sx">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_sx/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="sx.txt  -- specialix SX&#x2F;SI multiport serial driver readme.      Copyright (C) 1997  Roger Wolff (R.E.Wolff@BitWizard.nl)    Specialix pays for the development and support of this driver.   Please DO">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_sx/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_mpc5200/" class="title">Kernel-3.10.0-957.el7_mpc5200</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_6pack/" class="title">Kernel-3.10.0-957.el7_6pack</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Theory-of-operation"><span class="toc-number">2.</span> <span class="toc-text">Theory of operation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Interrupts"><span class="toc-number">3.</span> <span class="toc-text">Interrupts</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Allowed-Configurations"><span class="toc-number">4.</span> <span class="toc-text">Allowed Configurations</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Configuring-the-driver"><span class="toc-number">5.</span> <span class="toc-text">Configuring the driver</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Baud-rates"><span class="toc-number">6.</span> <span class="toc-text">Baud rates</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ports-and-devices"><span class="toc-number">7.</span> <span class="toc-text">Ports and devices</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#I-recommend-that-you-cut-and-paste-this-into-a-file-and-run-that"><span class="toc-number">8.</span> <span class="toc-text">(I recommend that you cut-and-paste this into a file and run that)</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-3.10.0-957.el7_sx" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-3.10.0-957.el7_sx
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_sx/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_sx/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-3.10.0-957.el7_sx/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <pre><code>  sx.txt  -- specialix SX/SI multiport serial driver readme.



  Copyright (C) 1997  Roger Wolff (R.E.Wolff@BitWizard.nl)

  Specialix pays for the development and support of this driver.
  Please DO contact support@specialix.co.uk if you require
  support.

  This driver was developed in the BitWizard linux device
  driver service. If you require a linux device driver for your
  product, please contact devices@BitWizard.nl for a quote.

  (History)
  There used to be an SI driver by Simon Allan. This is a complete 
  rewrite  from scratch. Just a few lines-of-code have been snatched.

  (Sources)
  Specialix document number 6210028: SX Host Card and Download Code
  Software Functional Specification.

  (Copying)
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License as
  published by the Free Software Foundation; either version 2 of
  the License, or (at your option) any later version.

  This program is distributed in the hope that it will be
  useful, but WITHOUT ANY WARRANTY; without even the implied
  warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
  PURPOSE.  See the GNU General Public License for more details.

  You should have received a copy of the GNU General Public
  License along with this program; if not, write to the Free
  Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
  USA.
  
  (Addendum)
  I&#39;d appreciate it that if you have fixes, that you send them
  to me first. 
</code></pre>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>This file contains some random information, that I like to have online<br>instead of in a manual that can get lost. Ever misplace your Linux<br>kernel sources?  And the manual of one of the boards in your computer?</p>
<h1 id="Theory-of-operation"><a href="#Theory-of-operation" class="headerlink" title="Theory of operation"></a>Theory of operation</h1><p>An important thing to know is that the driver itself doesn’t have the<br>firmware for the card. This means that you need the separate package<br>“sx_firmware”. For now you can get the source at</p>
<pre><code>ftp://ftp.bitwizard.nl/specialix/sx_firmware_&lt;version&gt;.tgz
</code></pre>
<p>The firmware load needs a “misc” device, so you’ll need to enable the<br>“Support for user misc device modules” in your kernel configuration.<br>The misc device needs to be called “/dev/specialix_sxctl”. It needs<br>misc major 10, and minor number 167 (assigned by HPA). The section<br>on creating device files below also creates this device. </p>
<p>After loading the sx.o module into your kernel, the driver will report<br>the number of cards detected, but because it doesn’t have any<br>firmware, it will not be able to determine the number of ports. Only<br>when you then run “sx_firmware” will the firmware be downloaded and<br>the rest of the driver initialized. At that time the sx_firmware<br>program will report the number of ports installed.</p>
<p>In contrast with many other multi port serial cards, some of the data<br>structures are only allocated when the card knows the number of ports<br>that are connected. This means we won’t waste memory for 120 port<br>descriptor structures when you only have 8 ports. If you experience<br>problems due to this, please report them: I haven’t seen any.</p>
<h1 id="Interrupts"><a href="#Interrupts" class="headerlink" title="Interrupts"></a>Interrupts</h1><p>A multi port serial card, would generate a horrendous amount of<br>interrupts if it would interrupt the CPU for every received<br>character. Even more than 10 years ago, the trick not to use<br>interrupts but to poll the serial cards was invented.</p>
<p>The SX card allow us to do this two ways. First the card limits its<br>own interrupt rate to a rate that won’t overwhelm the CPU. Secondly,<br>we could forget about the cards interrupt completely and use the<br>internal timer for this purpose.</p>
<p>Polling the card can take up to a few percent of your CPU. Using the<br>interrupts would be better if you have most of the ports idle. Using<br>timer-based polling is better if your card almost always has work to<br>do. You save the separate interrupt in that case.</p>
<p>In any case, it doesn’t really matter all that much. </p>
<p>The most common problem with interrupts is that for ISA cards in a PCI<br>system the BIOS has to be told to configure that interrupt as “legacy<br>ISA”. Otherwise the card can pull on the interrupt line all it wants<br>but the CPU won’t see this.</p>
<p>If you can’t get the interrupt to work, remember that polling mode is<br>more efficient (provided you actually use the card intensively).</p>
<h1 id="Allowed-Configurations"><a href="#Allowed-Configurations" class="headerlink" title="Allowed Configurations"></a>Allowed Configurations</h1><p>Some configurations are disallowed. Even though at a glance they might<br>seem to work, they are known to lockup the bus between the host card<br>and the device concentrators. You should respect the drivers decision<br>not to support certain configurations. It’s there for a reason.</p>
<p>Warning: Seriously technical stuff ahead. Executive summary: Don’t use<br>SX cards except configured at a 64k boundary. Skip the next paragraph.</p>
<p>The SX cards can theoretically be placed at a 32k boundary. So for<br>instance you can put an SX card at 0xc8000-0xd7fff. This is not a<br>“recommended configuration”. ISA cards have to tell the bus controller<br>how they like their timing. Due to timing issues they have to do this<br>based on which 64k window the address falls into. This means that the<br>32k window below and above the SX card have to use exactly the same<br>timing as the SX card. That reportedly works for other SX cards. But<br>you’re still left with two useless 32k windows that should not be used<br>by anybody else.</p>
<h1 id="Configuring-the-driver"><a href="#Configuring-the-driver" class="headerlink" title="Configuring the driver"></a>Configuring the driver</h1><p>PCI cards are always detected. The driver auto-probes for ISA cards at<br>some sensible addresses. Please report if the auto-probe causes trouble<br>in your system, or when a card isn’t detected.</p>
<p>I’m afraid I haven’t implemented “kernel command line parameters” yet.<br>This means that if the default doesn’t work for you, you shouldn’t use<br>the compiled-into-the-kernel version of the driver. Use a module<br>instead.  If you convince me that you need this, I’ll make it for<br>you. Deal?</p>
<p>I’m afraid that the module parameters are a bit clumsy. If you have a<br>better idea, please tell me.</p>
<p>You can specify several parameters:</p>
<pre><code>sx_poll: number of jiffies between timer-based polls.

    Set this to &quot;0&quot; to disable timer based polls. 
            Initialization of cards without a working interrupt
            will fail.

    Set this to &quot;1&quot; if you want a polling driver. 
    (on Intel: 100 polls per second). If you don&#39;t use
            fast baud rates, you might consider a value like &quot;5&quot;. 
            (If you don&#39;t know how to do the math, use 1).

sx_slowpoll: Number of jiffies between timer-based polls. 
     Set this to &quot;100&quot; to poll once a second. 
    This should get the card out of a stall if the driver
            ever misses an interrupt. I&#39;ve never seen this happen,
            and if it does, that&#39;s a bug. Tell me. 

sx_maxints: Number of interrupts to request from the card. 
    The card normally limits interrupts to about 100 per
    second to offload the host CPU. You can increase this
    number to reduce latency on the card a little.
    Note that if you give a very high number you can overload
    your CPU as well as the CPU on the host card. This setting 
    is inaccurate and not recommended for SI cards (But it 
    works). 

sx_irqmask: The mask of allowable IRQs to use. I suggest you set 
    this to 0 (disable IRQs all together) and use polling if 
    the assignment of IRQs becomes problematic. This is defined
    as the sum of (1 &lt;&lt; irq) &#39;s that you want to allow. So 
    sx_irqmask of 8 (1 &lt;&lt; 3) specifies that only irq 3 may
    be used by the SX driver. If you want to specify to the 
    driver: &quot;Either irq 11 or 12 is ok for you to use&quot;, then
    specify (1 &lt;&lt; 11) | (1 &lt;&lt; 12) = 0x1800 . 

sx_debug: You can enable different sorts of debug traces with this. 
    At &quot;-1&quot; all debugging traces are active. You&#39;ll get several
    times more debugging output than you&#39;ll get characters 
    transmitted. 
</code></pre>
<h1 id="Baud-rates"><a href="#Baud-rates" class="headerlink" title="Baud rates"></a>Baud rates</h1><p>Theoretically new SXDCs should be capable of more than 460k<br>baud. However the line drivers usually give up before that.  Also the<br>CPU on the card may not be able to handle 8 channels going at full<br>blast at that speed. Moreover, the buffers are not large enough to<br>allow operation with 100 interrupts per second. You’ll have to realize<br>that the card has a 256 byte buffer, so you’ll have to increase the<br>number of interrupts per second if you have more than 256*100 bytes<br>per second to transmit.  If you do any performance testing in this<br>area, I’d be glad to hear from you…</p>
<p>(Psst Linux users….. I think the Linux driver is more efficient than<br>the driver for other OSes. If you can and want to benchmark them<br>against each other, be my guest, and report your findings…… :-)</p>
<h1 id="Ports-and-devices"><a href="#Ports-and-devices" class="headerlink" title="Ports and devices"></a>Ports and devices</h1><p>Port 0 is the top connector on the module closest to the host<br>card. Oh, the ports on the SXDCs and TAs are labelled from 1 to 8<br>instead of from 0 to 7, as they are numbered by linux. I’m stubborn in<br>this: I know for sure that I wouldn’t be able to calculate which port<br>is which anymore if I would change that….</p>
<p>Devices:</p>
<p>You should make the device files as follows:</p>
<p>#!/bin/sh</p>
<h1 id="I-recommend-that-you-cut-and-paste-this-into-a-file-and-run-that"><a href="#I-recommend-that-you-cut-and-paste-this-into-a-file-and-run-that" class="headerlink" title="(I recommend that you cut-and-paste this into a file and run that)"></a>(I recommend that you cut-and-paste this into a file and run that)</h1><p>cd /dev<br>t=0<br>mknod specialix_sxctl c 10 167<br>while [ $t -lt 64 ]<br>  do<br>  echo -n “$t “<br>  mknod ttyX$t c 32 $t<br>  mknod cux$t  c 33 $t<br>  t=<code>expr $t + 1</code><br>done<br>echo “”<br>rm /etc/psdevtab<br>ps &gt; /dev/null</p>
<p>This creates 64 devices. If you have more, increase the constant on<br>the line with “while”. The devices start at 0, as is customary on<br>Linux. Specialix seems to like starting the numbering at 1. </p>
<p>If your system doesn’t come with these devices pre-installed, bug your<br>linux-vendor about this. They should have these devices<br>“pre-installed” before the new millennium. The “ps” stuff at the end<br>is to “tell” ps that the new devices exist.</p>
<p>Officially the maximum number of cards per computer is 4. This driver<br>however supports as many cards in one machine as you want. You’ll run<br>out of interrupts after a few, but you can switch to polled operation<br>then. At about 256 ports (More than 8 cards), we run out of minor<br>device numbers. Sorry. I suggest you buy a second computer…. (Or<br>switch to RIO).</p>
<hr>
<p>  Fixed bugs and restrictions:<br>    - Hangup processing.<br>      – Done.</p>
<pre><code>- the write path in generic_serial (lockup / oops). 
  -- Done (Ugly: not the way I want it. Copied from serial.c).

    - write buffer isn&#39;t flushed at close.
  -- Done. I still seem to lose a few chars at close. 
     Sorry. I think that this is a firmware issue. (-&gt; Specialix)

- drain hardware before  changing termios
- Change debug on the fly. 
- ISA free irq -1. (no firmware loaded).
- adding c8000 as a probe address. Added warning. 
- Add a RAMtest for the RAM on the card.c
    - Crash when opening a port &quot;way&quot; of the number of allowed ports. 
      (for example opening port 60 when there are only 24 ports attached)
- Sometimes the use-count strays a bit. After a few hours of
      testing the use count is sometimes &quot;3&quot;. If you are not like
      me and can remember what you did to get it that way, I&#39;d
      appreciate an Email. Possibly fixed. Tell me if anyone still
      sees this.
- TAs don&#39;t work right if you don&#39;t connect all the modem control
  signals. SXDCs do. T225 firmware problem -&gt; Specialix. 
  (Mostly fixed now, I think. Tell me if you encounter this!)
</code></pre>
<p>  Bugs &amp; restrictions:</p>
<pre><code>- Arbitrary baud rates. Requires firmware update. (-&gt; Specialix)

- Low latency (mostly firmware, -&gt; Specialix)
</code></pre>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_sx/" title="Kernel-3.10.0-957.el7_sx" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_sx/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_swsusp-dmcrypt/" title="Kernel-3.10.0-957.el7_swsusp-dmcrypt"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_sym53c500_cs/" title="Kernel-3.10.0-957.el7_sym53c500_cs"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>