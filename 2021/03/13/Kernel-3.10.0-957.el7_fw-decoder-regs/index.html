<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-3.10.0-957.el7_fw-decoder-regs | oosTech.com</title>
  <meta name="description" content="PVR350 Video decoder registers 0x02002800 -&gt; 0x02002B00This list has been worked out through trial and error. There will be mistakesand omissions. Some registers have no obvious effect so it’s hard">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-3.10.0-957.el7_fw-decoder-regs">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_fw-decoder-regs/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="PVR350 Video decoder registers 0x02002800 -&gt; 0x02002B00This list has been worked out through trial and error. There will be mistakesand omissions. Some registers have no obvious effect so it’s hard">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_fw-decoder-regs/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_mpc5200/" class="title">Kernel-3.10.0-957.el7_mpc5200</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_6pack/" class="title">Kernel-3.10.0-957.el7_6pack</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#PVR350-Video-decoder-registers-0x02002800-gt-0x02002B00"><span class="toc-number">1.</span> <span class="toc-text">PVR350 Video decoder registers 0x02002800 -&gt; 0x02002B00</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-3.10.0-957.el7_fw-decoder-regs" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-3.10.0-957.el7_fw-decoder-regs
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_fw-decoder-regs/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_fw-decoder-regs/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-3.10.0-957.el7_fw-decoder-regs/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="PVR350-Video-decoder-registers-0x02002800-gt-0x02002B00"><a href="#PVR350-Video-decoder-registers-0x02002800-gt-0x02002B00" class="headerlink" title="PVR350 Video decoder registers 0x02002800 -&gt; 0x02002B00"></a>PVR350 Video decoder registers 0x02002800 -&gt; 0x02002B00</h1><p>This list has been worked out through trial and error. There will be mistakes<br>and omissions. Some registers have no obvious effect so it’s hard to say what<br>they do, while others interact with each other, or require a certain load<br>sequence. Horizontal filter setup is one example, with six registers working<br>in unison and requiring a certain load sequence to correctly configure. The<br>indexed colour palette is much easier to set at just two registers, but again<br>it requires a certain load sequence.</p>
<p>Some registers are fussy about what they are set to. Load in a bad value &amp; the<br>decoder will fail. A firmware reload will often recover, but sometimes a reset<br>is required. For registers containing size information, setting them to 0 is<br>generally a bad idea. For other control registers i.e. 2878, you’ll only find<br>out what values are bad when it hangs.</p>
<hr>
<p>2800<br>      bit 0<br>    Decoder enable<br>      0 = disable<br>      1 = enable</p>
<hr>
<p>2804<br>      bits 0:31<br>    Decoder horizontal Y alias register 1</p>
<hr>
<p>2808<br>      bits 0:31<br>    Decoder horizontal Y alias register 2</p>
<hr>
<p>280C<br>      bits 0:31<br>    Decoder horizontal Y alias register 3</p>
<hr>
<p>2810<br>      bits 0:31<br>    Decoder horizontal Y alias register 4</p>
<hr>
<p>2814<br>      bits 0:31<br>    Decoder horizontal Y alias register 5</p>
<hr>
<p>2818<br>      bits 0:31<br>    Decoder horizontal Y alias trigger</p>
<pre><code> These six registers control the horizontal aliasing filter for the Y plane.
 The first five registers must all be loaded before accessing the trigger
 (2818), as this register actually clocks the data through for the first
 five.

 To correctly program set the filter, this whole procedure must be done 16
 times. The actual register contents are copied from a lookup-table in the
 firmware which contains 4 different filter settings.
</code></pre>
<hr>
<p>281C<br>      bits 0:31<br>    Decoder horizontal UV alias register 1</p>
<hr>
<p>2820<br>      bits 0:31<br>    Decoder horizontal UV alias register 2</p>
<hr>
<p>2824<br>      bits 0:31<br>    Decoder horizontal UV alias register 3</p>
<hr>
<p>2828<br>      bits 0:31<br>    Decoder horizontal UV alias register 4</p>
<hr>
<p>282C<br>      bits 0:31<br>    Decoder horizontal UV alias register 5</p>
<hr>
<p>2830<br>      bits 0:31<br>    Decoder horizontal UV alias trigger</p>
<pre><code> These six registers control the horizontal aliasing for the UV plane.
 Operation is the same as the Y filter, with 2830 being the trigger
 register.
</code></pre>
<hr>
<p>2834<br>      bits 0:15<br>    Decoder Y source width in pixels</p>
<pre><code>  bits 16:31
Decoder Y destination width in pixels
</code></pre>
<hr>
<p>2838<br>      bits 0:15<br>    Decoder UV source width in pixels</p>
<pre><code>  bits 16:31
Decoder UV destination width in pixels

 NOTE: For both registers, the resulting image must be fully visible on
 screen. If the image exceeds the right edge both the source and destination
 size must be adjusted to reflect the visible portion. For the source width,
 you must take into account the scaling when calculating the new value.
</code></pre>
<hr>
<p>283C<br>      bits 0:31<br>    Decoder Y horizontal scaling<br>            Normally = Reg 2854 &gt;&gt; 2</p>
<hr>
<p>2840<br>      bits 0:31<br>    Decoder ?? unknown - horizontal scaling<br>      Usually 0x00080514</p>
<hr>
<p>2844<br>      bits 0:31<br>    Decoder UV horizontal scaling<br>      Normally = Reg 2854 &gt;&gt; 2</p>
<hr>
<p>2848<br>      bits 0:31<br>    Decoder ?? unknown - horizontal scaling<br>      Usually 0x00100514</p>
<hr>
<p>284C<br>      bits 0:31<br>    Decoder ?? unknown - Y plane<br>      Usually 0x00200020</p>
<hr>
<p>2850<br>      bits 0:31<br>    Decoder ?? unknown - UV plane<br>      Usually 0x00200020</p>
<hr>
<p>2854<br>      bits 0:31<br>    Decoder ‘master’ value for horizontal scaling</p>
<hr>
<p>2858<br>      bits 0:31<br>    Decoder ?? unknown<br>      Usually 0</p>
<hr>
<p>285C<br>      bits 0:31<br>    Decoder ?? unknown<br>      Normally = Reg 2854 &gt;&gt; 1</p>
<hr>
<p>2860<br>      bits 0:31<br>    Decoder ?? unknown<br>      Usually 0</p>
<hr>
<p>2864<br>      bits 0:31<br>    Decoder ?? unknown<br>      Normally = Reg 2854 &gt;&gt; 1</p>
<hr>
<p>2868<br>      bits 0:31<br>    Decoder ?? unknown<br>      Usually 0</p>
<pre><code> Most of these registers either control horizontal scaling, or appear linked
 to it in some way. Register 2854 contains the &#39;master&#39; value &amp; the other
 registers can be calculated from that one. You must also remember to
 correctly set the divider in Reg 2874.

 To enlarge:
     Reg 2854 = (source_width * 0x00200000) / destination_width
     Reg 2874 = No divide

 To reduce from full size down to half size:
     Reg 2854 = (source_width/2 * 0x00200000) / destination width
     Reg 2874 = Divide by 2

 To reduce from half size down to quarter size:
     Reg 2854 = (source_width/4 * 0x00200000) / destination width
     Reg 2874 = Divide by 4

 The result is always rounded up.
</code></pre>
<hr>
<p>286C<br>      bits 0:15<br>    Decoder horizontal Y buffer offset</p>
<pre><code>  bits 15:31
Decoder horizontal UV buffer offset

 Offset into the video image buffer. If the offset is gradually incremented,
 the on screen image will move left &amp; wrap around higher up on the right.
</code></pre>
<hr>
<p>2870<br>      bits 0:15<br>    Decoder horizontal Y output offset</p>
<pre><code>  bits 16:31
Decoder horizontal UV output offset

 Offsets the actual video output. Controls output alignment of the Y &amp; UV
 planes. The higher the value, the greater the shift to the left. Use
 reg 2890 to move the image right.
</code></pre>
<hr>
<p>2874<br>      bits 0:1<br>    Decoder horizontal Y output size divider<br>      00 = No divide<br>      01 = Divide by 2<br>      10 = Divide by 3</p>
<pre><code>  bits 4:5
Decoder horizontal UV output size divider
  00 = No divide
  01 = Divide by 2
  10 = Divide by 3

  bit 8
Decoder ?? unknown
  0 = Normal
  1 = Affects video output levels

  bit 16
Decoder ?? unknown
  0 = Normal
  1 = Disable horizontal filter
</code></pre>
<hr>
<p>2878<br>      bit 0<br>    ?? unknown</p>
<pre><code>  bit 1
osd on/off
  0 = osd off
  1 = osd on

  bit 2
Decoder + osd video timing
  0 = NTSC
  1 = PAL

  bits 3:4
?? unknown

  bit 5
Decoder + osd
  Swaps upper &amp; lower fields
</code></pre>
<hr>
<p>287C<br>      bits 0:10<br>    Decoder &amp; osd ?? unknown<br>      Moves entire screen horizontally. Starts at 0x005 with the screen<br>      shifted heavily to the right. Incrementing in steps of 0x004 will<br>      gradually shift the screen to the left.</p>
<pre><code>  bits 11:31
?? unknown

 Normally contents are 0x00101111 (NTSC) or 0x1010111d (PAL)
</code></pre>
<hr>
<p>2880  ——–    ?? unknown<br>2884  ——–    ?? unknown</p>
<hr>
<p>2888<br>      bit 0<br>    Decoder + osd ?? unknown<br>      0 = Normal<br>      1 = Misaligned fields (Correctable through 289C &amp; 28A4)</p>
<pre><code>  bit 4
?? unknown

  bit 8
?? unknown

 Warning: Bad values will require a firmware reload to recover.
     Known to be bad are 0x000,0x011,0x100,0x111
</code></pre>
<hr>
<p>288C<br>      bits 0:15<br>    osd ?? unknown<br>      Appears to affect the osd position stability. The higher the value the<br>      more unstable it becomes. Decoder output remains stable.</p>
<pre><code>  bits 16:31
osd ?? unknown
  Same as bits 0:15
</code></pre>
<hr>
<p>2890<br>      bits 0:11<br>    Decoder output horizontal offset.</p>
<pre><code> Horizontal offset moves the video image right. A small left shift is
 possible, but it&#39;s better to use reg 2870 for that due to its greater
 range.

 NOTE: Video corruption will occur if video window is shifted off the right
 edge. To avoid this read the notes for 2834 &amp; 2838.
</code></pre>
<hr>
<p>2894<br>      bits 0:23<br>    Decoder output video surround colour.</p>
<pre><code> Contains the colour (in yuv) used to fill the screen when the video is
 running in a window.
</code></pre>
<hr>
<p>2898<br>      bits 0:23<br>    Decoder video window colour<br>      Contains the colour (in yuv) used to fill the video window when the<br>      video is turned off.</p>
<pre><code>  bit 24
Decoder video output
  0 = Video on
  1 = Video off

  bit 28
Decoder plane order
  0 = Y,UV
  1 = UV,Y

  bit 29
Decoder second plane byte order
  0 = Normal (UV)
  1 = Swapped (VU)

 In normal usage, the first plane is Y &amp; the second plane is UV. Though the
 order of the planes can be swapped, only the byte order of the second plane
 can be swapped. This isn&#39;t much use for the Y plane, but can be useful for
 the UV plane.
</code></pre>
<hr>
<p>289C<br>      bits 0:15<br>    Decoder vertical field offset 1</p>
<pre><code>  bits 16:31
Decoder vertical field offset 2

 Controls field output vertical alignment. The higher the number, the lower
 the image on screen. Known starting values are 0x011E0017 (NTSC) &amp;
 0x01500017 (PAL)
</code></pre>
<hr>
<p>28A0<br>      bits 0:15<br>    Decoder &amp; osd width in pixels</p>
<pre><code>  bits 16:31
Decoder &amp; osd height in pixels

 All output from the decoder &amp; osd are disabled beyond this area. Decoder
 output will simply go black outside of this region. If the osd tries to
 exceed this area it will become corrupt.
</code></pre>
<hr>
<p>28A4<br>      bits 0:11<br>    osd left shift.</p>
<pre><code> Has a range of 0x770-&gt;0x7FF. With the exception of 0, any value outside of
 this range corrupts the osd.
</code></pre>
<hr>
<p>28A8<br>      bits 0:15<br>    osd vertical field offset 1</p>
<pre><code>  bits 16:31
osd vertical field offset 2

 Controls field output vertical alignment. The higher the number, the lower
 the image on screen. Known starting values are 0x011E0017 (NTSC) &amp;
 0x01500017 (PAL)
</code></pre>
<hr>
<p>28AC  ——–    ?? unknown<br> |<br> V<br>28BC  ——–    ?? unknown</p>
<hr>
<p>28C0<br>      bit 0<br>    Current output field<br>      0 = first field<br>      1 = second field</p>
<pre><code>  bits 16:31
Current scanline
  The scanline counts from the top line of the first field
  through to the last line of the second field.
</code></pre>
<hr>
<p>28C4  ——–    ?? unknown<br> |<br> V<br>28F8  ——–    ?? unknown</p>
<hr>
<p>28FC<br>      bit 0<br>    ?? unknown<br>      0 = Normal<br>      1 = Breaks decoder &amp; osd output</p>
<hr>
<p>2900<br>      bits 0:31<br>    Decoder vertical Y alias register 1</p>
<hr>
<p>2904<br>      bits 0:31<br>    Decoder vertical Y alias register 2</p>
<hr>
<p>2908<br>      bits 0:31<br>    Decoder vertical Y alias trigger</p>
<pre><code> These three registers control the vertical aliasing filter for the Y plane.
 Operation is similar to the horizontal Y filter (2804). The only real
 difference is that there are only two registers to set before accessing
 the trigger register (2908). As for the horizontal filter, the values are
 taken from a lookup table in the firmware, and the procedure must be
 repeated 16 times to fully program the filter.
</code></pre>
<hr>
<p>290C<br>      bits 0:31<br>    Decoder vertical UV alias register 1</p>
<hr>
<p>2910<br>      bits 0:31<br>    Decoder vertical UV alias register 2</p>
<hr>
<p>2914<br>      bits 0:31<br>    Decoder vertical UV alias trigger</p>
<pre><code> These three registers control the vertical aliasing filter for the UV
 plane. Operation is the same as the Y filter, with 2914 being the trigger.
</code></pre>
<hr>
<p>2918<br>      bits 0:15<br>    Decoder Y source height in pixels</p>
<pre><code>  bits 16:31
Decoder Y destination height in pixels
</code></pre>
<hr>
<p>291C<br>      bits 0:15<br>    Decoder UV source height in pixels divided by 2</p>
<pre><code>  bits 16:31
Decoder UV destination height in pixels

 NOTE: For both registers, the resulting image must be fully visible on
 screen. If the image exceeds the bottom edge both the source and
 destination size must be adjusted to reflect the visible portion. For the
 source height, you must take into account the scaling when calculating the
 new value.
</code></pre>
<hr>
<p>2920<br>      bits 0:31<br>    Decoder Y vertical scaling<br>      Normally = Reg 2930 &gt;&gt; 2</p>
<hr>
<p>2924<br>      bits 0:31<br>    Decoder Y vertical scaling<br>      Normally = Reg 2920 + 0x514</p>
<hr>
<p>2928<br>      bits 0:31<br>    Decoder UV vertical scaling<br>      When enlarging = Reg 2930 &gt;&gt; 2<br>      When reducing = Reg 2930 &gt;&gt; 3</p>
<hr>
<p>292C<br>      bits 0:31<br>    Decoder UV vertical scaling<br>      Normally = Reg 2928 + 0x514</p>
<hr>
<p>2930<br>      bits 0:31<br>    Decoder ‘master’ value for vertical scaling</p>
<hr>
<p>2934<br>      bits 0:31<br>    Decoder ?? unknown - Y vertical scaling</p>
<hr>
<p>2938<br>      bits 0:31<br>    Decoder Y vertical scaling<br>      Normally = Reg 2930</p>
<hr>
<p>293C<br>      bits 0:31<br>    Decoder ?? unknown - Y vertical scaling</p>
<hr>
<p>2940<br>      bits 0:31<br>    Decoder UV vertical scaling<br>      When enlarging = Reg 2930 &gt;&gt; 1<br>      When reducing = Reg 2930</p>
<hr>
<p>2944<br>      bits 0:31<br>    Decoder ?? unknown - UV vertical scaling</p>
<hr>
<p>2948<br>      bits 0:31<br>    Decoder UV vertical scaling<br>      Normally = Reg 2940</p>
<hr>
<p>294C<br>      bits 0:31<br>    Decoder ?? unknown - UV vertical scaling</p>
<pre><code> Most of these registers either control vertical scaling, or appear linked
 to it in some way. Register 2930 contains the &#39;master&#39; value &amp; all other
 registers can be calculated from that one. You must also remember to
 correctly set the divider in Reg 296C

 To enlarge:
     Reg 2930 = (source_height * 0x00200000) / destination_height
     Reg 296C = No divide

 To reduce from full size down to half size:
     Reg 2930 = (source_height/2 * 0x00200000) / destination height
     Reg 296C = Divide by 2

  To reduce from half down to quarter.
     Reg 2930 = (source_height/4 * 0x00200000) / destination height
     Reg 296C = Divide by 4
</code></pre>
<hr>
<p>2950<br>      bits 0:15<br>    Decoder Y line index into display buffer, first field</p>
<pre><code>  bits 16:31
Decoder Y vertical line skip, first field
</code></pre>
<hr>
<p>2954<br>      bits 0:15<br>    Decoder Y line index into display buffer, second field</p>
<pre><code>  bits 16:31
Decoder Y vertical line skip, second field
</code></pre>
<hr>
<p>2958<br>      bits 0:15<br>    Decoder UV line index into display buffer, first field</p>
<pre><code>  bits 16:31
Decoder UV vertical line skip, first field
</code></pre>
<hr>
<p>295C<br>      bits 0:15<br>    Decoder UV line index into display buffer, second field</p>
<pre><code>  bits 16:31
Decoder UV vertical line skip, second field
</code></pre>
<hr>
<p>2960<br>      bits 0:15<br>    Decoder destination height minus 1</p>
<pre><code>  bits 16:31
Decoder destination height divided by 2
</code></pre>
<hr>
<p>2964<br>      bits 0:15<br>    Decoder Y vertical offset, second field</p>
<pre><code>  bits 16:31
Decoder Y vertical offset, first field

 These two registers shift the Y plane up. The higher the number, the
 greater the shift.
</code></pre>
<hr>
<p>2968<br>      bits 0:15<br>    Decoder UV vertical offset, second field</p>
<pre><code>  bits 16:31
Decoder UV vertical offset, first field

 These two registers shift the UV plane up. The higher the number, the
 greater the shift.
</code></pre>
<hr>
<p>296C<br>      bits 0:1<br>    Decoder vertical Y output size divider<br>      00 = No divide<br>      01 = Divide by 2<br>      10 = Divide by 4</p>
<pre><code>  bits 8:9
Decoder vertical UV output size divider
  00 = No divide
  01 = Divide by 2
  10 = Divide by 4
</code></pre>
<hr>
<p>2970<br>      bit 0<br>    Decoder ?? unknown<br>      0 = Normal<br>      1 = Affect video output levels</p>
<pre><code>  bit 16
Decoder ?? unknown
  0 = Normal
  1 = Disable vertical filter
</code></pre>
<hr>
<p>2974  ——–   ?? unknown<br> |<br> V<br>29EF  ——–   ?? unknown</p>
<hr>
<p>2A00<br>      bits 0:2<br>    osd colour mode<br>      000 = 8 bit indexed<br>      001 = 16 bit (565)<br>      010 = 15 bit (555)<br>      011 = 12 bit (444)<br>      100 = 32 bit (8888)</p>
<pre><code>  bits 4:5
osd display bpp
  01 = 8 bit
  10 = 16 bit
  11 = 32 bit

  bit 8
osd global alpha
  0 = Off
  1 = On

  bit 9
osd local alpha
  0 = Off
  1 = On

  bit 10
osd colour key
  0 = Off
  1 = On

  bit 11
osd ?? unknown
  Must be 1

  bit 13
osd colour space
  0 = ARGB
  1 = AYVU

  bits 16:31
osd ?? unknown
  Must be 0x001B (some kind of buffer pointer ?)

 When the bits-per-pixel is set to 8, the colour mode is ignored and
 assumed to be 8 bit indexed. For 16 &amp; 32 bits-per-pixel the colour depth
 is honoured, and when using a colour depth that requires fewer bytes than
 allocated the extra bytes are used as padding. So for a 32 bpp with 8 bit
 index colour, there are 3 padding bytes per pixel. It&#39;s also possible to
 select 16bpp with a 32 bit colour mode. This results in the pixel width
 being doubled, but the color key will not work as expected in this mode.

 Colour key is as it suggests. You designate a colour which will become
 completely transparent. When using 565, 555 or 444 colour modes, the
 colour key is always 16 bits wide. The colour to key on is set in Reg 2A18.

 Local alpha works differently depending on the colour mode. For 32bpp &amp; 8
 bit indexed, local alpha is a per-pixel 256 step transparency, with 0 being
 transparent and 255 being solid. For the 16bpp modes 555 &amp; 444, the unused
 bit(s) act as a simple transparency switch, with 0 being solid &amp; 1 being
 fully transparent. There is no local alpha support for 16bit 565.

 Global alpha is a 256 step transparency that applies to the entire osd,
 with 0 being transparent &amp; 255 being solid.

 It&#39;s possible to combine colour key, local alpha &amp; global alpha.
</code></pre>
<hr>
<p>2A04<br>      bits 0:15<br>    osd x coord for left edge</p>
<pre><code>  bits 16:31
osd y coord for top edge
</code></pre>
<hr>
<p>2A08<br>      bits 0:15<br>    osd x coord for right edge</p>
<pre><code>  bits 16:31
osd y coord for bottom edge

 For both registers, (0,0) = top left corner of the display area. These
 registers do not control the osd size, only where it&#39;s positioned &amp; how
 much is visible. The visible osd area cannot exceed the right edge of the
 display, otherwise the osd will become corrupt. See reg 2A10 for
 setting osd width.
</code></pre>
<hr>
<p>2A0C<br>      bits 0:31<br>    osd buffer index</p>
<pre><code> An index into the osd buffer. Slowly incrementing this moves the osd left,
 wrapping around onto the right edge
</code></pre>
<hr>
<p>2A10<br>      bits 0:11<br>    osd buffer 32 bit word width</p>
<pre><code> Contains the width of the osd measured in 32 bit words. This means that all
 colour modes are restricted to a byte width which is divisible by 4.
</code></pre>
<hr>
<p>2A14<br>      bits 0:15<br>    osd height in pixels</p>
<pre><code>  bits 16:32
osd line index into buffer
  osd will start displaying from this line.
</code></pre>
<hr>
<p>2A18<br>      bits 0:31<br>    osd colour key</p>
<pre><code> Contains the colour value which will be transparent.
</code></pre>
<hr>
<p>2A1C<br>      bits 0:7<br>    osd global alpha</p>
<pre><code> Contains the global alpha value (equiv ivtvfbctl --alpha XX)
</code></pre>
<hr>
<p>2A20  ——–    ?? unknown<br> |<br> V<br>2A2C  ——–    ?? unknown</p>
<hr>
<p>2A30<br>      bits 0:7<br>    osd colour to change in indexed palette</p>
<hr>
<p>2A34<br>      bits 0:31<br>    osd colour for indexed palette</p>
<pre><code> To set the new palette, first load the index of the colour to change into
 2A30, then load the new colour into 2A34. The full palette is 256 colours,
 so the index range is 0x00-0xFF
</code></pre>
<hr>
<p>2A38  ——–    ?? unknown<br>2A3C  ——–    ?? unknown</p>
<hr>
<p>2A40<br>      bits 0:31<br>    osd ?? unknown</p>
<pre><code> Affects overall brightness, wrapping around to black
</code></pre>
<hr>
<p>2A44<br>      bits 0:31<br>    osd ?? unknown</p>
<pre><code> Green tint
</code></pre>
<hr>
<p>2A48<br>      bits 0:31<br>    osd ?? unknown</p>
<pre><code> Red tint
</code></pre>
<hr>
<p>2A4C<br>      bits 0:31<br>    osd ?? unknown</p>
<pre><code> Affects overall brightness, wrapping around to black
</code></pre>
<hr>
<p>2A50<br>      bits 0:31<br>    osd ?? unknown</p>
<pre><code> Colour shift
</code></pre>
<hr>
<p>2A54<br>      bits 0:31<br>    osd ?? unknown</p>
<pre><code> Colour shift
</code></pre>
<hr>
<p>2A58  ——–    ?? unknown<br> |<br> V<br>2AFC  ——–    ?? unknown</p>
<hr>
<p>2B00<br>      bit 0<br>    osd filter control<br>      0 = filter off<br>      1 = filter on</p>
<pre><code>  bits 1:4
osd ?? unknown
</code></pre>
<hr>
<p>v0.4 - 12 March 2007 - Ian Armstrong (<a href="mailto:&#105;&#x61;&#x6e;&#64;&#105;&#97;&#114;&#x6d;&#x73;&#116;&#x2e;&#x64;&#x65;&#x6d;&#x6f;&#x6e;&#46;&#x63;&#x6f;&#x2e;&#x75;&#x6b;">&#105;&#x61;&#x6e;&#64;&#105;&#97;&#114;&#x6d;&#x73;&#116;&#x2e;&#x64;&#x65;&#x6d;&#x6f;&#x6e;&#46;&#x63;&#x6f;&#x2e;&#x75;&#x6b;</a>)</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_fw-decoder-regs/" title="Kernel-3.10.0-957.el7_fw-decoder-regs" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_fw-decoder-regs/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_fscache/" title="Kernel-3.10.0-957.el7_fscache"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_fw-encoder-api/" title="Kernel-3.10.0-957.el7_fw-encoder-api"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>