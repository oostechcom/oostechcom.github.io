<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-3.10.0-957.el7_transactional_memory | oosTech.com</title>
  <meta name="description" content="Transactional Memory supportPOWER kernel support for this feature is currently limited to supportingits use by user programs.  It is not currently used by the kernel itself. This file aims to sum up h">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-3.10.0-957.el7_transactional_memory">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_transactional_memory/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="Transactional Memory supportPOWER kernel support for this feature is currently limited to supportingits use by user programs.  It is not currently used by the kernel itself. This file aims to sum up h">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_transactional_memory/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Transactional-Memory-support"><span class="toc-number">1.</span> <span class="toc-text">Transactional Memory support</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Basic-overview"><span class="toc-number">2.</span> <span class="toc-text">Basic overview</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Causes-of-transaction-aborts"><span class="toc-number">3.</span> <span class="toc-text">Causes of transaction aborts</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Syscalls"><span class="toc-number">4.</span> <span class="toc-text">Syscalls</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Signals"><span class="toc-number">5.</span> <span class="toc-text">Signals</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Failure-cause-codes-used-by-kernel"><span class="toc-number">6.</span> <span class="toc-text">Failure cause codes used by kernel</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#GDB"><span class="toc-number">7.</span> <span class="toc-text">GDB</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-3.10.0-957.el7_transactional_memory" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-3.10.0-957.el7_transactional_memory
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_transactional_memory/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_transactional_memory/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-3.10.0-957.el7_transactional_memory/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="Transactional-Memory-support"><a href="#Transactional-Memory-support" class="headerlink" title="Transactional Memory support"></a>Transactional Memory support</h1><p>POWER kernel support for this feature is currently limited to supporting<br>its use by user programs.  It is not currently used by the kernel itself.</p>
<p>This file aims to sum up how it is supported by Linux and what behaviour you<br>can expect from your user programs.</p>
<h1 id="Basic-overview"><a href="#Basic-overview" class="headerlink" title="Basic overview"></a>Basic overview</h1><p>Hardware Transactional Memory is supported on POWER8 processors, and is a<br>feature that enables a different form of atomic memory access.  Several new<br>instructions are presented to delimit transactions; transactions are<br>guaranteed to either complete atomically or roll back and undo any partial<br>changes.</p>
<p>A simple transaction looks like this:</p>
<p>begin_move_money:<br>  tbegin<br>  beq   abort_handler</p>
<p>  ld    r4, SAVINGS_ACCT(r3)<br>  ld    r5, CURRENT_ACCT(r3)<br>  subi  r5, r5, 1<br>  addi  r4, r4, 1<br>  std   r4, SAVINGS_ACCT(r3)<br>  std   r5, CURRENT_ACCT(r3)</p>
<p>  tend</p>
<p>  b     continue</p>
<p>abort_handler:<br>  … test for odd failures …</p>
<p>  /* Retry the transaction if it failed because it conflicted with</p>
<ul>
<li>someone else: */<br>b     begin_move_money</li>
</ul>
<p>The ‘tbegin’ instruction denotes the start point, and ‘tend’ the end point.<br>Between these points the processor is in ‘Transactional’ state; any memory<br>references will complete in one go if there are no conflicts with other<br>transactional or non-transactional accesses within the system.  In this<br>example, the transaction completes as though it were normal straight-line code<br>IF no other processor has touched SAVINGS_ACCT(r3) or CURRENT_ACCT(r3); an<br>atomic move of money from the current account to the savings account has been<br>performed.  Even though the normal ld/std instructions are used (note no<br>lwarx/stwcx), either <em>both</em> SAVINGS_ACCT(r3) and CURRENT_ACCT(r3) will be<br>updated, or neither will be updated.</p>
<p>If, in the meantime, there is a conflict with the locations accessed by the<br>transaction, the transaction will be aborted by the CPU.  Register and memory<br>state will roll back to that at the ‘tbegin’, and control will continue from<br>‘tbegin+4’.  The branch to abort_handler will be taken this second time; the<br>abort handler can check the cause of the failure, and retry.</p>
<p>Checkpointed registers include all GPRs, FPRs, VRs/VSRs, LR, CCR/CR, CTR, FPCSR<br>and a few other status/flag regs; see the ISA for details.</p>
<h1 id="Causes-of-transaction-aborts"><a href="#Causes-of-transaction-aborts" class="headerlink" title="Causes of transaction aborts"></a>Causes of transaction aborts</h1><ul>
<li>Conflicts with cache lines used by other processors</li>
<li>Signals</li>
<li>Context switches</li>
<li>See the ISA for full documentation of everything that will abort transactions.</li>
</ul>
<h1 id="Syscalls"><a href="#Syscalls" class="headerlink" title="Syscalls"></a>Syscalls</h1><p>Syscalls made from within an active transaction will not be performed and the<br>transaction will be doomed by the kernel with the failure code TM_CAUSE_SYSCALL<br>| TM_CAUSE_PERSISTENT.</p>
<p>Syscalls made from within a suspended transaction are performed as normal and<br>the transaction is not explicitly doomed by the kernel.  However, what the<br>kernel does to perform the syscall may result in the transaction being doomed<br>by the hardware.  The syscall is performed in suspended mode so any side<br>effects will be persistent, independent of transaction success or failure.  No<br>guarantees are provided by the kernel about which syscalls will affect<br>transaction success.</p>
<p>Care must be taken when relying on syscalls to abort during active transactions<br>if the calls are made via a library.  Libraries may cache values (which may<br>give the appearance of success) or perform operations that cause transaction<br>failure before entering the kernel (which may produce different failure codes).<br>Examples are glibc’s getpid() and lazy symbol resolution.</p>
<h1 id="Signals"><a href="#Signals" class="headerlink" title="Signals"></a>Signals</h1><p>Delivery of signals (both sync and async) during transactions provides a second<br>thread state (ucontext/mcontext) to represent the second transactional register<br>state.  Signal delivery ‘treclaim’s to capture both register states, so signals<br>abort transactions.  The usual ucontext_t passed to the signal handler<br>represents the checkpointed/original register state; the signal appears to have<br>arisen at ‘tbegin+4’.</p>
<p>If the sighandler ucontext has uc_link set, a second ucontext has been<br>delivered.  For future compatibility the MSR.TS field should be checked to<br>determine the transactional state – if so, the second ucontext in uc-&gt;uc_link<br>represents the active transactional registers at the point of the signal.</p>
<p>For 64-bit processes, uc-&gt;uc_mcontext.regs-&gt;msr is a full 64-bit MSR and its TS<br>field shows the transactional mode.</p>
<p>For 32-bit processes, the mcontext’s MSR register is only 32 bits; the top 32<br>bits are stored in the MSR of the second ucontext, i.e. in<br>uc-&gt;uc_link-&gt;uc_mcontext.regs-&gt;msr.  The top word contains the transactional<br>state TS.</p>
<p>However, basic signal handlers don’t need to be aware of transactions<br>and simply returning from the handler will deal with things correctly:</p>
<p>Transaction-aware signal handlers can read the transactional register state<br>from the second ucontext.  This will be necessary for crash handlers to<br>determine, for example, the address of the instruction causing the SIGSEGV.</p>
<p>Example signal handler:</p>
<pre><code>void crash_handler(int sig, siginfo_t *si, void *uc)
&#123;
  ucontext_t *ucp = uc;
  ucontext_t *transactional_ucp = ucp-&gt;uc_link;

  if (ucp_link) &#123;
    u64 msr = ucp-&gt;uc_mcontext.regs-&gt;msr;
    /* May have transactional ucontext! */
</code></pre>
<p>#ifndef <strong>powerpc64</strong><br>        msr |= ((u64)transactional_ucp-&gt;uc_mcontext.regs-&gt;msr) &lt;&lt; 32;<br>#endif<br>        if (MSR_TM_ACTIVE(msr)) {<br>           /* Yes, we crashed during a transaction.  Oops. */<br>   fprintf(stderr, “Transaction to be restarted at 0x%llx, but “<br>                           “crashy instruction was at 0x%llx\n”,<br>                           ucp-&gt;uc_mcontext.regs-&gt;nip,<br>                           transactional_ucp-&gt;uc_mcontext.regs-&gt;nip);<br>        }<br>      }</p>
<pre><code>  fix_the_problem(ucp-&gt;dar);
&#125;
</code></pre>
<p>When in an active transaction that takes a signal, we need to be careful with<br>the stack.  It’s possible that the stack has moved back up after the tbegin.<br>The obvious case here is when the tbegin is called inside a function that<br>returns before a tend.  In this case, the stack is part of the checkpointed<br>transactional memory state.  If we write over this non transactionally or in<br>suspend, we are in trouble because if we get a tm abort, the program counter and<br>stack pointer will be back at the tbegin but our in memory stack won’t be valid<br>anymore.</p>
<p>To avoid this, when taking a signal in an active transaction, we need to use<br>the stack pointer from the checkpointed state, rather than the speculated<br>state.  This ensures that the signal context (written tm suspended) will be<br>written below the stack required for the rollback.  The transaction is aborted<br>becuase of the treclaim, so any memory written between the tbegin and the<br>signal will be rolled back anyway.</p>
<p>For signals taken in non-TM or suspended mode, we use the<br>normal/non-checkpointed stack pointer.</p>
<p>Any transaction initiated inside a sighandler and suspended on return<br>from the sighandler to the kernel will get reclaimed and discarded.</p>
<h1 id="Failure-cause-codes-used-by-kernel"><a href="#Failure-cause-codes-used-by-kernel" class="headerlink" title="Failure cause codes used by kernel"></a>Failure cause codes used by kernel</h1><p>These are defined in &lt;asm/reg.h&gt;, and distinguish different reasons why the<br>kernel aborted a transaction:</p>
<p> TM_CAUSE_RESCHED       Thread was rescheduled.<br> TM_CAUSE_TLBI          Software TLB invalide.<br> TM_CAUSE_FAC_UNAV      FP/VEC/VSX unavailable trap.<br> TM_CAUSE_SYSCALL       Syscall from active transaction.<br> TM_CAUSE_SIGNAL        Signal delivered.<br> TM_CAUSE_MISC          Currently unused.<br> TM_CAUSE_ALIGNMENT     Alignment fault.<br> TM_CAUSE_EMULATE       Emulation that touched memory.</p>
<p>These can be checked by the user program’s abort handler as TEXASR[0:7].  If<br>bit 7 is set, it indicates that the error is consider persistent.  For example<br>a TM_CAUSE_ALIGNMENT will be persistent while a TM_CAUSE_RESCHED will not.q</p>
<h1 id="GDB"><a href="#GDB" class="headerlink" title="GDB"></a>GDB</h1><p>GDB and ptrace are not currently TM-aware.  If one stops during a transaction,<br>it looks like the transaction has just started (the checkpointed state is<br>presented).  The transaction cannot then be continued and will take the failure<br>handler route.  Furthermore, the transactional 2nd register state will be<br>inaccessible.  GDB can currently be used on programs using TM, but not sensibly<br>in parts within transactions.</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_transactional_memory/" title="Kernel-3.10.0-957.el7_transactional_memory" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_transactional_memory/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_tracepoints/" title="Kernel-3.10.0-957.el7_tracepoints"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_tricks/" title="Kernel-3.10.0-957.el7_tricks"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>