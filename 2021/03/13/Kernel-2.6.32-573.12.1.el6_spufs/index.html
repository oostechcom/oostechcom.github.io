<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-2.6.32-573.12.1.el6_spufs | oosTech.com</title>
  <meta name="description" content="SPUFS(2)                   Linux Programmer’s Manual                  SPUFS(2) NAME       spufs - the SPU file system DESCRIPTION       The SPU file system is used on PowerPC machines that implement t">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-2.6.32-573.12.1.el6_spufs">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_spufs/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="SPUFS(2)                   Linux Programmer’s Manual                  SPUFS(2) NAME       spufs - the SPU file system DESCRIPTION       The SPU file system is used on PowerPC machines that implement t">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_spufs/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-2.6.32-573.12.1.el6_spufs" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-2.6.32-573.12.1.el6_spufs
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_spufs/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_spufs/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_spufs/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p>SPUFS(2)                   Linux Programmer’s Manual                  SPUFS(2)</p>
<p>NAME<br>       spufs - the SPU file system</p>
<p>DESCRIPTION<br>       The SPU file system is used on PowerPC machines that implement the Cell<br>       Broadband Engine Architecture in order to access Synergistic  Processor<br>       Units (SPUs).</p>
<pre><code>   The file system provides a name space similar to posix shared memory or
   message queues. Users that have write permissions on  the  file  system
   can use spu_create(2) to establish SPU contexts in the spufs root.

   Every SPU context is represented by a directory containing a predefined
   set of files. These files can be used for manipulating the state of the
   logical SPU. Users can change permissions on those files, but not actu-
   ally add or remove files.
</code></pre>
<p>MOUNT OPTIONS<br>       uid=<uid><br>              set the user owning the mount point, the default is 0 (root).</p>
<pre><code>   gid=&lt;gid&gt;
          set the group owning the mount point, the default is 0 (root).
</code></pre>
<p>FILES<br>       The files in spufs mostly follow the standard behavior for regular sys-<br>       tem  calls like read(2) or write(2), but often support only a subset of<br>       the operations supported on regular file systems. This list details the<br>       supported  operations  and  the  deviations  from  the behaviour in the<br>       respective man pages.</p>
<pre><code>   All files that support the read(2) operation also support readv(2)  and
   all  files  that support the write(2) operation also support writev(2).
   All files support the access(2) and stat(2) family of  operations,  but
   only  the  st_mode,  st_nlink,  st_uid and st_gid fields of struct stat
   contain reliable information.

   All files support the chmod(2)/fchmod(2) and chown(2)/fchown(2)  opera-
   tions,  but  will  not be able to grant permissions that contradict the
   possible operations, e.g. read access on the wbox file.

   The current set of files is:
</code></pre>
<p>   /mem<br>       the contents of the local storage memory  of  the  SPU.   This  can  be<br>       accessed  like  a regular shared memory file and contains both code and<br>       data in the address space of the SPU.  The possible  operations  on  an<br>       open mem file are:</p>
<pre><code>   read(2), pread(2), write(2), pwrite(2), lseek(2)
          These  operate  as  documented, with the exception that seek(2),
          write(2) and pwrite(2) are not supported beyond the end  of  the
          file. The file size is the size of the local storage of the SPU,
          which normally is 256 kilobytes.

   mmap(2)
          Mapping mem into the process address space gives access  to  the
          SPU  local  storage  within  the  process  address  space.  Only
          MAP_SHARED mappings are allowed.
</code></pre>
<p>   /mbox<br>       The first SPU to CPU communication mailbox. This file is read-only  and<br>       can  be  read  in  units of 32 bits.  The file can only be used in non-<br>       blocking mode and it even poll() will not block on  it.   The  possible<br>       operations on an open mbox file are:</p>
<pre><code>   read(2)
          If  a  count smaller than four is requested, read returns -1 and
          sets errno to EINVAL.  If there is no data available in the mail
          box,  the  return  value  is set to -1 and errno becomes EAGAIN.
          When data has been read successfully, four bytes are  placed  in
          the data buffer and the value four is returned.
</code></pre>
<p>   /ibox<br>       The  second  SPU  to CPU communication mailbox. This file is similar to<br>       the first mailbox file, but can be read in blocking I/O mode,  and  the<br>       poll  family of system calls can be used to wait for it.  The  possible<br>       operations on an open ibox file are:</p>
<pre><code>   read(2)
          If a count smaller than four is requested, read returns  -1  and
          sets errno to EINVAL.  If there is no data available in the mail
          box and the file descriptor has been opened with O_NONBLOCK, the
          return value is set to -1 and errno becomes EAGAIN.

          If  there  is  no  data  available  in the mail box and the file
          descriptor has been opened without  O_NONBLOCK,  the  call  will
          block  until  the  SPU  writes to its interrupt mailbox channel.
          When data has been read successfully, four bytes are  placed  in
          the data buffer and the value four is returned.

   poll(2)
          Poll  on  the  ibox  file returns (POLLIN | POLLRDNORM) whenever
          data is available for reading.
</code></pre>
<p>   /wbox<br>       The CPU to SPU communation mailbox. It is write-only and can be written<br>       in  units  of  32  bits. If the mailbox is full, write() will block and<br>       poll can be used to wait for it becoming  empty  again.   The  possible<br>       operations  on  an open wbox file are: write(2) If a count smaller than<br>       four is requested, write returns -1 and sets errno to EINVAL.  If there<br>       is  no space available in the mail box and the file descriptor has been<br>       opened with O_NONBLOCK, the return value is set to -1 and errno becomes<br>       EAGAIN.</p>
<pre><code>   If  there is no space available in the mail box and the file descriptor
   has been opened without O_NONBLOCK, the call will block until  the  SPU
   reads  from  its PPE mailbox channel.  When data has been read success-
   fully, four bytes are placed in the data buffer and the value  four  is
   returned.

   poll(2)
          Poll  on  the  ibox file returns (POLLOUT | POLLWRNORM) whenever
          space is available for writing.
</code></pre>
<p>   /mbox_stat<br>   /ibox_stat<br>   /wbox_stat<br>       Read-only files that contain the length of the current queue, i.e.  how<br>       many  words  can  be  read  from  mbox or ibox or how many words can be<br>       written to wbox without blocking.  The files can be read only in 4-byte<br>       units  and  return  a  big-endian  binary integer number.  The possible<br>       operations on an open *box_stat file are:</p>
<pre><code>   read(2)
          If a count smaller than four is requested, read returns  -1  and
          sets errno to EINVAL.  Otherwise, a four byte value is placed in
          the data buffer, containing the number of elements that  can  be
          read  from  (for  mbox_stat  and  ibox_stat)  or written to (for
          wbox_stat) the respective mail box without blocking or resulting
          in EAGAIN.
</code></pre>
<p>   /npc<br>   /decr<br>   /decr_status<br>   /spu_tag_mask<br>   /event_mask<br>   /srr0<br>       Internal  registers  of  the SPU. The representation is an ASCII string<br>       with the numeric value of the next instruction to  be  executed.  These<br>       can  be  used in read/write mode for debugging, but normal operation of<br>       programs should not rely on them because access to any of  them  except<br>       npc requires an SPU context save and is therefore very inefficient.</p>
<pre><code>   The contents of these files are:

   npc                 Next Program Counter

   decr                SPU Decrementer

   decr_status         Decrementer Status

   spu_tag_mask        MFC tag mask for SPU DMA

   event_mask          Event mask for SPU interrupts

   srr0                Interrupt Return address register


   The   possible   operations   on   an   open  npc,  decr,  decr_status,
   spu_tag_mask, event_mask or srr0 file are:

   read(2)
          When the count supplied to the read call  is  shorter  than  the
          required  length for the pointer value plus a newline character,
          subsequent reads from the same file descriptor  will  result  in
          completing  the string, regardless of changes to the register by
          a running SPU task.  When a complete string has been  read,  all
          subsequent read operations will return zero bytes and a new file
          descriptor needs to be opened to read the value again.

   write(2)
          A write operation on the file results in setting the register to
          the  value  given  in  the string. The string is parsed from the
          beginning to the first non-numeric character or the end  of  the
          buffer.  Subsequent writes to the same file descriptor overwrite
          the previous setting.
</code></pre>
<p>   /fpcr<br>       This file gives access to the Floating Point Status and Control  Regis-<br>       ter as a four byte long file. The operations on the fpcr file are:</p>
<pre><code>   read(2)
          If  a  count smaller than four is requested, read returns -1 and
          sets errno to EINVAL.  Otherwise, a four byte value is placed in
          the data buffer, containing the current value of the fpcr regis-
          ter.

   write(2)
          If a count smaller than four is requested, write returns -1  and
          sets  errno  to  EINVAL.  Otherwise, a four byte value is copied
          from the data buffer, updating the value of the fpcr register.
</code></pre>
<p>   /signal1<br>   /signal2<br>       The two signal notification channels of an SPU.  These  are  read-write<br>       files  that  operate  on  a 32 bit word.  Writing to one of these files<br>       triggers an interrupt on the SPU.  The  value  written  to  the  signal<br>       files can be read from the SPU through a channel read or from host user<br>       space through the file.  After the value has been read by the  SPU,  it<br>       is  reset  to zero.  The possible operations on an open signal1 or sig-<br>       nal2 file are:</p>
<pre><code>   read(2)
          If a count smaller than four is requested, read returns  -1  and
          sets errno to EINVAL.  Otherwise, a four byte value is placed in
          the data buffer, containing the current value of  the  specified
          signal notification register.

   write(2)
          If  a count smaller than four is requested, write returns -1 and
          sets errno to EINVAL.  Otherwise, a four byte  value  is  copied
          from the data buffer, updating the value of the specified signal
          notification register.  The signal  notification  register  will
          either be replaced with the input data or will be updated to the
          bitwise OR or the old value and the input data, depending on the
          contents  of  the  signal1_type,  or  signal2_type respectively,
          file.
</code></pre>
<p>   /signal1_type<br>   /signal2_type<br>       These two files change the behavior of the signal1 and signal2  notifi-<br>       cation  files.  The  contain  a numerical ASCII string which is read as<br>       either “1” or “0”.  In mode 0 (overwrite), the  hardware  replaces  the<br>       contents of the signal channel with the data that is written to it.  in<br>       mode 1 (logical OR), the hardware accumulates the bits that are  subse-<br>       quently written to it.  The possible operations on an open signal1_type<br>       or signal2_type file are:</p>
<pre><code>   read(2)
          When the count supplied to the read call  is  shorter  than  the
          required  length  for the digit plus a newline character, subse-
          quent reads from the same file descriptor will  result  in  com-
          pleting  the  string.  When a complete string has been read, all
          subsequent read operations will return zero bytes and a new file
          descriptor needs to be opened to read the value again.

   write(2)
          A write operation on the file results in setting the register to
          the value given in the string. The string  is  parsed  from  the
          beginning  to  the first non-numeric character or the end of the
          buffer.  Subsequent writes to the same file descriptor overwrite
          the previous setting.
</code></pre>
<p>EXAMPLES<br>       /etc/fstab entry<br>              none      /spu      spufs     gid=spu   0    0</p>
<p>AUTHORS<br>       Arnd  Bergmann  <a href="mailto:&#97;&#x72;&#110;&#100;&#98;&#x40;&#100;&#x65;&#x2e;&#x69;&#x62;&#x6d;&#46;&#99;&#111;&#x6d;">&#97;&#x72;&#110;&#100;&#98;&#x40;&#100;&#x65;&#x2e;&#x69;&#x62;&#x6d;&#46;&#99;&#111;&#x6d;</a>,  Mark  Nutter <a href="mailto:&#109;&#110;&#117;&#x74;&#116;&#x65;&#x72;&#x40;&#x75;&#x73;&#46;&#105;&#x62;&#x6d;&#x2e;&#x63;&#111;&#109;">&#109;&#110;&#117;&#x74;&#116;&#x65;&#x72;&#x40;&#x75;&#x73;&#46;&#105;&#x62;&#x6d;&#x2e;&#x63;&#111;&#109;</a>,<br>       Ulrich Weigand <a href="mailto:&#85;&#x6c;&#x72;&#105;&#x63;&#104;&#x2e;&#87;&#101;&#x69;&#x67;&#97;&#110;&#100;&#x40;&#100;&#x65;&#x2e;&#x69;&#98;&#109;&#x2e;&#x63;&#111;&#109;">&#85;&#x6c;&#x72;&#105;&#x63;&#104;&#x2e;&#87;&#101;&#x69;&#x67;&#97;&#110;&#100;&#x40;&#100;&#x65;&#x2e;&#x69;&#98;&#109;&#x2e;&#x63;&#111;&#109;</a></p>
<p>SEE ALSO<br>       capabilities(7), close(2), spu_create(2), spu_run(2), spufs(7)</p>
<p>Linux                             2005-09-28                          SPUFS(2)</p>
<hr>
<p>SPU_RUN(2)                 Linux Programmer’s Manual                SPU_RUN(2)</p>
<p>NAME<br>       spu_run - execute an spu context</p>
<p>SYNOPSIS<br>       #include &lt;sys/spu.h&gt;</p>
<pre><code>   int spu_run(int fd, unsigned int *npc, unsigned int *event);
</code></pre>
<p>DESCRIPTION<br>       The  spu_run system call is used on PowerPC machines that implement the<br>       Cell Broadband Engine Architecture in order to access Synergistic  Pro-<br>       cessor  Units  (SPUs).  It  uses the fd that was returned from spu_cre-<br>       ate(2) to address a specific SPU context. When the context gets  sched-<br>       uled  to a physical SPU, it starts execution at the instruction pointer<br>       passed in npc.</p>
<pre><code>   Execution of SPU code happens synchronously, meaning that spu_run  does
   not  return  while the SPU is still running. If there is a need to exe-
   cute SPU code in parallel with other code on either  the  main  CPU  or
   other  SPUs,  you  need to create a new thread of execution first, e.g.
   using the pthread_create(3) call.

   When spu_run returns, the current value of the SPU instruction  pointer
   is  written back to npc, so you can call spu_run again without updating
   the pointers.

   event can be a NULL pointer or point to an extended  status  code  that
   gets  filled  when spu_run returns. It can be one of the following con-
   stants:

   SPE_EVENT_DMA_ALIGNMENT
          A DMA alignment error

   SPE_EVENT_SPE_DATA_SEGMENT
          A DMA segmentation error

   SPE_EVENT_SPE_DATA_STORAGE
          A DMA storage error

   If NULL is passed as the event argument, these errors will result in  a
   signal delivered to the calling process.
</code></pre>
<p>RETURN VALUE<br>       spu_run  returns the value of the spu_status register or -1 to indicate<br>       an error and set errno to one of the error  codes  listed  below.   The<br>       spu_status  register  value  contains  a  bit  mask of status codes and<br>       optionally a 14 bit code returned from the stop-and-signal  instruction<br>       on the SPU. The bit masks for the status codes are:</p>
<pre><code>   0x02   SPU was stopped by stop-and-signal.

   0x04   SPU was stopped by halt.

   0x08   SPU is waiting for a channel.

   0x10   SPU is in single-step mode.

   0x20   SPU has tried to execute an invalid instruction.

   0x40   SPU has tried to access an invalid channel.

   0x3fff0000
          The  bits  masked with this value contain the code returned from
          stop-and-signal.

   There are always one or more of the lower eight bits set  or  an  error
   code is returned from spu_run.
</code></pre>
<p>ERRORS<br>       EAGAIN or EWOULDBLOCK<br>              fd is in non-blocking mode and spu_run would block.</p>
<pre><code>   EBADF  fd is not a valid file descriptor.

   EFAULT npc is not a valid pointer or status is neither NULL nor a valid
          pointer.

   EINTR  A signal occurred while spu_run was in progress.  The npc  value
          has  been updated to the new program counter value if necessary.

   EINVAL fd is not a file descriptor returned from spu_create(2).

   ENOMEM Insufficient memory was available to handle a page fault result-
          ing from an MFC direct memory access.

   ENOSYS the functionality is not provided by the current system, because
          either the hardware does not provide SPUs or the spufs module is
          not loaded.
</code></pre>
<p>NOTES<br>       spu_run  is  meant  to  be  used  from  libraries that implement a more<br>       abstract interface to SPUs, not to be used from  regular  applications.<br>       See  <a target="_blank" rel="noopener" href="http://www.bsc.es/projects/deepcomputing/linuxoncell/">http://www.bsc.es/projects/deepcomputing/linuxoncell/</a> for the rec-<br>       ommended libraries.</p>
<p>CONFORMING TO<br>       This call is Linux specific and only implemented by the ppc64 architec-<br>       ture. Programs using this system call are not portable.</p>
<p>BUGS<br>       The code does not yet fully implement all features lined out here.</p>
<p>AUTHOR<br>       Arnd Bergmann <a href="mailto:&#x61;&#114;&#110;&#100;&#x62;&#x40;&#100;&#101;&#46;&#x69;&#x62;&#x6d;&#46;&#99;&#111;&#109;">&#x61;&#114;&#110;&#100;&#x62;&#x40;&#100;&#101;&#46;&#x69;&#x62;&#x6d;&#46;&#99;&#111;&#109;</a></p>
<p>SEE ALSO<br>       capabilities(7), close(2), spu_create(2), spufs(7)</p>
<p>Linux                             2005-09-28                        SPU_RUN(2)</p>
<hr>
<p>SPU_CREATE(2)              Linux Programmer’s Manual             SPU_CREATE(2)</p>
<p>NAME<br>       spu_create - create a new spu context</p>
<p>SYNOPSIS<br>       #include &lt;sys/types.h&gt;<br>       #include &lt;sys/spu.h&gt;</p>
<pre><code>   int spu_create(const char *pathname, int flags, mode_t mode);
</code></pre>
<p>DESCRIPTION<br>       The  spu_create  system call is used on PowerPC machines that implement<br>       the Cell Broadband Engine Architecture in order to  access  Synergistic<br>       Processor  Units (SPUs). It creates a new logical context for an SPU in<br>       pathname and returns a handle to associated  with  it.   pathname  must<br>       point  to  a  non-existing directory in the mount point of the SPU file<br>       system (spufs).  When spu_create is successful, a directory  gets  cre-<br>       ated on pathname and it is populated with files.</p>
<pre><code>   The  returned  file  handle can only be passed to spu_run(2) or closed,
   other operations are not defined on it. When it is closed, all  associ-
   ated  directory entries in spufs are removed. When the last file handle
   pointing either inside  of  the  context  directory  or  to  this  file
   descriptor is closed, the logical SPU context is destroyed.

   The  parameter flags can be zero or any bitwise or&#39;d combination of the
   following constants:

   SPU_RAWIO
          Allow mapping of some of the hardware registers of the SPU  into
          user space. This flag requires the CAP_SYS_RAWIO capability, see
          capabilities(7).

   The mode parameter specifies the permissions used for creating the  new
   directory  in  spufs.   mode is modified with the user&#39;s umask(2) value
   and then used for both the directory and the files contained in it. The
   file permissions mask out some more bits of mode because they typically
   support only read or write access. See stat(2) for a full list  of  the
   possible mode values.
</code></pre>
<p>RETURN VALUE<br>       spu_create  returns a new file descriptor. It may return -1 to indicate<br>       an error condition and set errno to  one  of  the  error  codes  listed<br>       below.</p>
<p>ERRORS<br>       EACCESS<br>              The  current  user does not have write access on the spufs mount<br>              point.</p>
<pre><code>   EEXIST An SPU context already exists at the given path name.

   EFAULT pathname is not a valid string pointer in  the  current  address
          space.

   EINVAL pathname is not a directory in the spufs mount point.

   ELOOP  Too many symlinks were found while resolving pathname.

   EMFILE The process has reached its maximum open file limit.

   ENAMETOOLONG
          pathname was too long.

   ENFILE The system has reached the global open file limit.

   ENOENT Part of pathname could not be resolved.

   ENOMEM The kernel could not allocate all resources required.

   ENOSPC There  are  not  enough  SPU resources available to create a new
          context or the user specific limit for the number  of  SPU  con-
          texts has been reached.

   ENOSYS the functionality is not provided by the current system, because
          either the hardware does not provide SPUs or the spufs module is
          not loaded.

   ENOTDIR
          A part of pathname is not a directory.
</code></pre>
<p>NOTES<br>       spu_create  is  meant  to  be used from libraries that implement a more<br>       abstract interface to SPUs, not to be used from  regular  applications.<br>       See  <a target="_blank" rel="noopener" href="http://www.bsc.es/projects/deepcomputing/linuxoncell/">http://www.bsc.es/projects/deepcomputing/linuxoncell/</a> for the rec-<br>       ommended libraries.</p>
<p>FILES<br>       pathname must point to a location beneath the mount point of spufs.  By<br>       convention, it gets mounted in /spu.</p>
<p>CONFORMING TO<br>       This call is Linux specific and only implemented by the ppc64 architec-<br>       ture. Programs using this system call are not portable.</p>
<p>BUGS<br>       The code does not yet fully implement all features lined out here.</p>
<p>AUTHOR<br>       Arnd Bergmann <a href="mailto:&#97;&#114;&#x6e;&#100;&#98;&#x40;&#x64;&#x65;&#46;&#x69;&#x62;&#109;&#46;&#99;&#x6f;&#109;">&#97;&#114;&#x6e;&#100;&#98;&#x40;&#x64;&#x65;&#46;&#x69;&#x62;&#109;&#46;&#99;&#x6f;&#109;</a></p>
<p>SEE ALSO<br>       capabilities(7), close(2), spu_run(2), spufs(7)</p>
<p>Linux                             2005-09-28                     SPU_CREATE(2)</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_spufs/" title="Kernel-2.6.32-573.12.1.el6_spufs" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-2.6.32-573.12.1.el6_spufs/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_st/" title="Kernel-2.6.32-573.12.1.el6_st"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_sn9c102/" title="Kernel-2.6.32-573.12.1.el6_sn9c102"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>