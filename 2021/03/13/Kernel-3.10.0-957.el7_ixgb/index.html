<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kernel-3.10.0-957.el7_ixgb | oosTech.com</title>
  <meta name="description" content="Linux Base Driver for 10 Gigabit Intel(R) Network ConnectionOctober 9, 2007 Contents In This Release Identifying Your Adapter Building and Installation Command Line Parameters Improving Performance Ad">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel-3.10.0-957.el7_ixgb">
<meta property="og:url" content="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_ixgb/index.html">
<meta property="og:site_name" content="oosTech">
<meta property="og:description" content="Linux Base Driver for 10 Gigabit Intel(R) Network ConnectionOctober 9, 2007 Contents In This Release Identifying Your Adapter Building and Installation Command Line Parameters Improving Performance Ad">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-12T16:00:00.000Z">
<meta property="article:author" content="Sam Lee">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_ixgb/index.html">
  
    <link rel="alternate" href="/atom.xml" title="oosTech" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img src="/images/avatar.png" width="400" height="400">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">oosTech by Sam Lee</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="站内搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">站点首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档文档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">文档分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">常用链接</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">共享白板</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告牌</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p> 欢迎来到oosTech ，我是一个Linux 拥趸：D。 目前正在用的Linux 版本是 Red Hat Enterprise Linux release 8.3 </p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">文档分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a><span class="category-list-count">830</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a><span class="category-list-count">1658</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel-4-18-0-80-el8-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_4.18.0-80.el8_内核文档</a><span class="category-list-count">3937</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3270/" class="title">Kernel-3.10.0-957.el7_3270</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-2-6-32-573-12-1-el6-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_2.6.32-573.12.1.el6_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-2.6.32-573.12.1.el6_devices/" class="title">Kernel-2.6.32-573.12.1.el6_devices</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_3c509/" class="title">Kernel-3.10.0-957.el7_3c509</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_4CCs/" class="title">Kernel-3.10.0-957.el7_4CCs</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
              </p>
              <p class="item-title">
                <a href="/2021/03/13/Kernel-3.10.0-957.el7_53c700/" class="title">Kernel-3.10.0-957.el7_53c700</a>
              </p>
              <p class="item-date">
                <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-Base-Driver-for-10-Gigabit-Intel-R-Network-Connection"><span class="toc-number">1.</span> <span class="toc-text">Linux Base Driver for 10 Gigabit Intel(R) Network Connection</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Contents"><span class="toc-number">2.</span> <span class="toc-text">Contents</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#In-This-Release"><span class="toc-number">3.</span> <span class="toc-text">In This Release</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Identifying-Your-Adapter"><span class="toc-number">4.</span> <span class="toc-text">Identifying Your Adapter</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Building-and-Installation"><span class="toc-number">5.</span> <span class="toc-text">Building and Installation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Command-Line-Parameters"><span class="toc-number">6.</span> <span class="toc-text">Command Line Parameters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Improving-Performance"><span class="toc-number">7.</span> <span class="toc-text">Improving Performance</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-mmrbc-to-4k-reads-modify-only-Intel-10GbE-device-IDs"><span class="toc-number">8.</span> <span class="toc-text">set mmrbc to 4k reads, modify only Intel 10GbE device IDs</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#replace-1a48-with-appropriate-10GbE-device%E2%80%99s-ID-installed-on-the-system"><span class="toc-number">9.</span> <span class="toc-text">replace 1a48 with appropriate 10GbE device’s ID installed on the system,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#if-needed"><span class="toc-number">10.</span> <span class="toc-text">if needed.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-the-MTU-max-transmission-unit-it-requires-your-switch-and-clients"><span class="toc-number">11.</span> <span class="toc-text">set the MTU (max transmission unit) - it requires your switch and clients</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#to-change-as-well"><span class="toc-number">12.</span> <span class="toc-text">to change as well.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-the-txqueuelen"><span class="toc-number">13.</span> <span class="toc-text">set the txqueuelen</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#your-ixgb-adapter-should-be-loaded-as-eth1-for-this-to-work-change-if-needed"><span class="toc-number">14.</span> <span class="toc-text">your ixgb adapter should be loaded as eth1 for this to work, change if needed</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#call-the-sysctl-utility-to-modify-proc-sys-entries"><span class="toc-number">15.</span> <span class="toc-text">call the sysctl utility to modify &#x2F;proc&#x2F;sys entries</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#some-of-the-defaults-may-be-different-for-your-kernel"><span class="toc-number">16.</span> <span class="toc-text">some of the defaults may be different for your kernel</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#call-this-file-with-sysctl-p"><span class="toc-number">17.</span> <span class="toc-text">call this file with sysctl -p </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#these-are-just-suggested-values-that-worked-well-to-increase-throughput-in"><span class="toc-number">18.</span> <span class="toc-text">these are just suggested values that worked well to increase throughput in</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#several-network-benchmark-tests-your-mileage-may-vary"><span class="toc-number">19.</span> <span class="toc-text">several network benchmark tests, your mileage may vary</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IPV4-specific-settings"><span class="toc-number">19.0.1.</span> <span class="toc-text">IPV4 specific settings</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#turn-TCP-timestamp-support-off-default-1-reduces-CPU-use"><span class="toc-number">20.</span> <span class="toc-text">turn TCP timestamp support off, default 1, reduces CPU use</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#turn-SACK-support-off-default-on"><span class="toc-number">21.</span> <span class="toc-text">turn SACK support off, default on</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#on-systems-with-a-VERY-fast-bus-gt-memory-interface-this-is-the-big-gainer"><span class="toc-number">22.</span> <span class="toc-text">on systems with a VERY fast bus -&gt; memory interface this is the big gainer</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-min-default-max-TCP-read-buffer-default-4096-87380-174760"><span class="toc-number">23.</span> <span class="toc-text">set min&#x2F;default&#x2F;max TCP read buffer, default 4096 87380 174760</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-min-pressure-max-TCP-write-buffer-default-4096-16384-131072"><span class="toc-number">24.</span> <span class="toc-text">set min&#x2F;pressure&#x2F;max TCP write buffer, default 4096 16384 131072</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-min-pressure-max-TCP-buffer-space-default-31744-32256-32768"><span class="toc-number">25.</span> <span class="toc-text">set min&#x2F;pressure&#x2F;max TCP buffer space, default 31744 32256 32768</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CORE-settings-mostly-for-socket-and-UDP-effect"><span class="toc-number">25.0.1.</span> <span class="toc-text">CORE settings (mostly for socket and UDP effect)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-maximum-receive-socket-buffer-size-default-131071"><span class="toc-number">26.</span> <span class="toc-text">set maximum receive socket buffer size, default 131071</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-maximum-send-socket-buffer-size-default-131071"><span class="toc-number">27.</span> <span class="toc-text">set maximum send socket buffer size, default 131071</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-default-receive-socket-buffer-size-default-65535"><span class="toc-number">28.</span> <span class="toc-text">set default receive socket buffer size, default 65535</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-default-send-socket-buffer-size-default-65535"><span class="toc-number">29.</span> <span class="toc-text">set default send socket buffer size, default 65535</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-maximum-amount-of-option-memory-buffers-default-10240"><span class="toc-number">30.</span> <span class="toc-text">set maximum amount of option memory buffers, default 10240</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-number-of-unprocessed-input-packets-before-kernel-starts-dropping-them-default-300"><span class="toc-number">31.</span> <span class="toc-text">set number of unprocessed input packets before kernel starts dropping them; default 300</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Resolving-Slow-UDP-Traffic"><span class="toc-number">31.1.</span> <span class="toc-text">Resolving Slow UDP Traffic</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Additional-Configurations"><span class="toc-number">32.</span> <span class="toc-text">Additional Configurations</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Configuring-the-Driver-on-Different-Distributions"><span class="toc-number">32.1.</span> <span class="toc-text">  Configuring the Driver on Different Distributions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Viewing-Link-Messages"><span class="toc-number">32.2.</span> <span class="toc-text">  Viewing Link Messages</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jumbo-Frames"><span class="toc-number">32.3.</span> <span class="toc-text">  Jumbo Frames</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ethtool"><span class="toc-number">32.4.</span> <span class="toc-text">  Ethtool</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NAPI"><span class="toc-number">32.5.</span> <span class="toc-text">  NAPI</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Known-Issues-Troubleshooting"><span class="toc-number">33.</span> <span class="toc-text">Known Issues&#x2F;Troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Jumbo-Frames-System-Requirement"><span class="toc-number">33.1.</span> <span class="toc-text">  Jumbo Frames System Requirement</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Performance-Degradation-with-Jumbo-Frames"><span class="toc-number">33.2.</span> <span class="toc-text">  Performance Degradation with Jumbo Frames</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Allocating-Rx-Buffers-when-Using-Jumbo-Frames"><span class="toc-number">33.3.</span> <span class="toc-text">  Allocating Rx Buffers when Using Jumbo Frames</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Multiple-Interfaces-on-Same-Ethernet-Broadcast-Network"><span class="toc-number">33.4.</span> <span class="toc-text">  Multiple Interfaces on Same Ethernet Broadcast Network</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP-Stress-Test-Dropped-Packet-Issue"><span class="toc-number">33.5.</span> <span class="toc-text">  UDP Stress Test Dropped Packet Issue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tx-Hangs-Possible-Under-Stress"><span class="toc-number">33.6.</span> <span class="toc-text">  Tx Hangs Possible Under Stress</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Support"><span class="toc-number">34.</span> <span class="toc-text">Support</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Kernel-3.10.0-957.el7_ixgb" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Kernel-3.10.0-957.el7_ixgb
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_ixgb/" class="article-date">
	 published: <time datetime="2021-03-12T16:00:00.000Z" itemprop="datePublished">2021-03-13</time>
	</a>
</span>

        
	<a href="/2021/03/13/Kernel-3.10.0-957.el7_ixgb/" class="article-date">
	   updated: <time datetime="2021-03-12T16:00:00.000Z" itemprop="dateUpdated">2021-03-13</time>
	</a>


        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Kernel-3-10-0-957-el7-%E5%86%85%E6%A0%B8%E6%96%87%E6%A1%A3/">Kernel_3.10.0-957.el7_内核文档</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill"></i>
	    <!--<span id="busuanzi_container_page_pv" style="display:inline;">-->
			<span id="busuanzi_value_page_pv" style="display:inline;"></span>
		<!--</span>-->
	</span>



        <!--<span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/03/13/Kernel-3.10.0-957.el7_ixgb/#comments" class="article-comment-link">评论</a></span> -->
        
	
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="Linux-Base-Driver-for-10-Gigabit-Intel-R-Network-Connection"><a href="#Linux-Base-Driver-for-10-Gigabit-Intel-R-Network-Connection" class="headerlink" title="Linux Base Driver for 10 Gigabit Intel(R) Network Connection"></a>Linux Base Driver for 10 Gigabit Intel(R) Network Connection</h1><p>October 9, 2007</p>
<h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><ul>
<li>In This Release</li>
<li>Identifying Your Adapter</li>
<li>Building and Installation</li>
<li>Command Line Parameters</li>
<li>Improving Performance</li>
<li>Additional Configurations</li>
<li>Known Issues/Troubleshooting</li>
<li>Support</li>
</ul>
<h1 id="In-This-Release"><a href="#In-This-Release" class="headerlink" title="In This Release"></a>In This Release</h1><p>This file describes the ixgb Linux Base Driver for the 10 Gigabit Intel(R)<br>Network Connection.  This driver includes support for Itanium(R)2-based<br>systems.</p>
<p>For questions related to hardware requirements, refer to the documentation<br>supplied with your 10 Gigabit adapter.  All hardware requirements listed apply<br>to use with Linux.</p>
<p>The following features are available in this kernel:</p>
<ul>
<li>Native VLANs</li>
<li>Channel Bonding (teaming)</li>
<li>SNMP</li>
</ul>
<p>Channel Bonding documentation can be found in the Linux kernel source:<br>/Documentation/networking/bonding.txt</p>
<p>The driver information previously displayed in the /proc filesystem is not<br>supported in this release.  Alternatively, you can use ethtool (version 1.6<br>or later), lspci, and ifconfig to obtain the same information.</p>
<p>Instructions on updating ethtool can be found in the section “Additional<br>Configurations” later in this document.</p>
<h1 id="Identifying-Your-Adapter"><a href="#Identifying-Your-Adapter" class="headerlink" title="Identifying Your Adapter"></a>Identifying Your Adapter</h1><p>The following Intel network adapters are compatible with the drivers in this<br>release:</p>
<p>Controller  Adapter Name                 Physical Layer</p>
<hr>
<p>82597EX     Intel(R) PRO/10GbE LR/SR/CX4 10G Base-LR (1310 nm optical fiber)<br>            Server Adapters              10G Base-SR (850 nm optical fiber)<br>                                         10G Base-CX4(twin-axial copper cabling)</p>
<p>For more information on how to identify your adapter, go to the Adapter &amp;<br>Driver ID Guide at:</p>
<pre><code>http://support.intel.com/support/network/sb/CS-012904.htm
</code></pre>
<h1 id="Building-and-Installation"><a href="#Building-and-Installation" class="headerlink" title="Building and Installation"></a>Building and Installation</h1><p>select m for “Intel(R) PRO/10GbE support” located at:<br>      Location:<br>        -&gt; Device Drivers<br>          -&gt; Network device support (NETDEVICES [=y])<br>            -&gt; Ethernet (10000 Mbit) (NETDEV_10000 [=y])</p>
<ol>
<li><p>make modules &amp;&amp; make modules_install</p>
</li>
<li><p>Load the module:</p>
</li>
</ol>
<p>Â Â Â Â modprobe ixgb <parameter>=<value></p>
<p>   The insmod command can be used if the full<br>   path to the driver module is specified.  For example:</p>
<pre><code> insmod /lib/modules/&lt;KERNEL VERSION&gt;/kernel/drivers/net/ixgb/ixgb.ko
</code></pre>
<p>   With 2.6 based kernels also make sure that older ixgb drivers are<br>   removed from the kernel, before loading the new module:</p>
<pre><code> rmmod ixgb; modprobe ixgb
</code></pre>
<ol start="3">
<li><p>Assign an IP address to the interface by entering the following, where<br>x is the interface number:</p>
<p>  ifconfig ethx <IP_address></p>
</li>
<li><p>Verify that the interface works. Enter the following, where <IP_address><br>is the IP address for another machine on the same subnet as the interface<br>that is being tested:</p>
<p>  ping  <IP_address></p>
</li>
</ol>
<h1 id="Command-Line-Parameters"><a href="#Command-Line-Parameters" class="headerlink" title="Command Line Parameters"></a>Command Line Parameters</h1><p>If the driver is built as a module, the  following optional parameters are<br>used by entering them on the command line with the modprobe command using<br>this syntax:</p>
<pre><code> modprobe ixgb [&lt;option&gt;=&lt;VAL1&gt;,&lt;VAL2&gt;,...]
</code></pre>
<p>For example, with two 10GbE PCI adapters, entering:</p>
<pre><code> modprobe ixgb TxDescriptors=80,128
</code></pre>
<p>loads the ixgb driver with 80 TX resources for the first adapter and 128 TX<br>resources for the second adapter.</p>
<p>The default value for each parameter is generally the recommended setting,<br>unless otherwise noted.</p>
<p>FlowControl<br>Valid Range: 0-3 (0=none, 1=Rx only, 2=Tx only, 3=Rx&amp;Tx)<br>Default: Read from the EEPROM<br>         If EEPROM is not detected, default is 1<br>    This parameter controls the automatic generation(Tx) and response(Rx) to<br>    Ethernet PAUSE frames.  There are hardware bugs associated with enabling<br>    Tx flow control so beware.</p>
<p>RxDescriptors<br>Valid Range: 64-512<br>Default Value: 512<br>    This value is the number of receive descriptors allocated by the driver.<br>    Increasing this value allows the driver to buffer more incoming packets.<br>    Each descriptor is 16 bytes.  A receive buffer is also allocated for<br>    each descriptor and can be either 2048, 4056, 8192, or 16384 bytes,<br>    depending on the MTU setting.  When the MTU size is 1500 or less, the<br>    receive buffer size is 2048 bytes. When the MTU is greater than 1500 the<br>    receive buffer size will be either 4056, 8192, or 16384 bytes.  The<br>    maximum MTU size is 16114.</p>
<p>RxIntDelay<br>Valid Range: 0-65535 (0=off)<br>Default Value: 72<br>    This value delays the generation of receive interrupts in units of<br>    0.8192 microseconds.  Receive interrupt reduction can improve CPU<br>    efficiency if properly tuned for specific network traffic.  Increasing<br>    this value adds extra latency to frame reception and can end up<br>    decreasing the throughput of TCP traffic.  If the system is reporting<br>    dropped receives, this value may be set too high, causing the driver to<br>    run out of available receive descriptors.</p>
<p>TxDescriptors<br>Valid Range: 64-4096<br>Default Value: 256<br>    This value is the number of transmit descriptors allocated by the driver.<br>    Increasing this value allows the driver to queue more transmits.  Each<br>    descriptor is 16 bytes.</p>
<p>XsumRX<br>Valid Range: 0-1<br>Default Value: 1<br>    A value of ‘1’ indicates that the driver should enable IP checksum<br>    offload for received packets (both UDP and TCP) to the adapter hardware.</p>
<h1 id="Improving-Performance"><a href="#Improving-Performance" class="headerlink" title="Improving Performance"></a>Improving Performance</h1><p>With the 10 Gigabit server adapters, the default Linux configuration will<br>very likely limit the total available throughput artificially.  There is a set<br>of configuration changes that, when applied together, will increase the ability<br>of Linux to transmit and receive data.  The following enhancements were<br>originally acquired from settings published at <a target="_blank" rel="noopener" href="http://www.spec.org/web99/">http://www.spec.org/web99/</a> for<br>various submitted results using Linux.</p>
<p>NOTE: These changes are only suggestions, and serve as a starting point for<br>      tuning your network performance.</p>
<p>The changes are made in three major ways, listed in order of greatest effect:</p>
<ul>
<li>Use ifconfig to modify the mtu (maximum transmission unit) and the txqueuelen<br>parameter.</li>
<li>Use sysctl to modify /proc parameters (essentially kernel tuning)</li>
<li>Use setpci to modify the MMRBC field in PCI-X configuration space to increase<br>transmit burst lengths on the bus.</li>
</ul>
<p>NOTE: setpci modifies the adapter’s configuration registers to allow it to read<br>up to 4k bytes at a time (for transmits).  However, for some systems the<br>behavior after modifying this register may be undefined (possibly errors of<br>some kind).  A power-cycle, hard reset or explicitly setting the e6 register<br>back to 22 (setpci -d 8086:1a48 e6.b=22) may be required to get back to a<br>stable configuration.</p>
<ul>
<li><p>COPY these lines and paste them into ixgb_perf.sh:<br>#!/bin/bash<br>echo “configuring network performance , edit this file to change the interface<br>or device ID of 10GbE card”</p>
<h1 id="set-mmrbc-to-4k-reads-modify-only-Intel-10GbE-device-IDs"><a href="#set-mmrbc-to-4k-reads-modify-only-Intel-10GbE-device-IDs" class="headerlink" title="set mmrbc to 4k reads, modify only Intel 10GbE device IDs"></a>set mmrbc to 4k reads, modify only Intel 10GbE device IDs</h1><h1 id="replace-1a48-with-appropriate-10GbE-device’s-ID-installed-on-the-system"><a href="#replace-1a48-with-appropriate-10GbE-device’s-ID-installed-on-the-system" class="headerlink" title="replace 1a48 with appropriate 10GbE device’s ID installed on the system,"></a>replace 1a48 with appropriate 10GbE device’s ID installed on the system,</h1><h1 id="if-needed"><a href="#if-needed" class="headerlink" title="if needed."></a>if needed.</h1><p>setpci -d 8086:1a48 e6.b=2e</p>
<h1 id="set-the-MTU-max-transmission-unit-it-requires-your-switch-and-clients"><a href="#set-the-MTU-max-transmission-unit-it-requires-your-switch-and-clients" class="headerlink" title="set the MTU (max transmission unit) - it requires your switch and clients"></a>set the MTU (max transmission unit) - it requires your switch and clients</h1><h1 id="to-change-as-well"><a href="#to-change-as-well" class="headerlink" title="to change as well."></a>to change as well.</h1><h1 id="set-the-txqueuelen"><a href="#set-the-txqueuelen" class="headerlink" title="set the txqueuelen"></a>set the txqueuelen</h1><h1 id="your-ixgb-adapter-should-be-loaded-as-eth1-for-this-to-work-change-if-needed"><a href="#your-ixgb-adapter-should-be-loaded-as-eth1-for-this-to-work-change-if-needed" class="headerlink" title="your ixgb adapter should be loaded as eth1 for this to work, change if needed"></a>your ixgb adapter should be loaded as eth1 for this to work, change if needed</h1><p>ifconfig eth1 mtu 9000 txqueuelen 1000 up</p>
<h1 id="call-the-sysctl-utility-to-modify-proc-sys-entries"><a href="#call-the-sysctl-utility-to-modify-proc-sys-entries" class="headerlink" title="call the sysctl utility to modify /proc/sys entries"></a>call the sysctl utility to modify /proc/sys entries</h1><p>sysctl -p ./sysctl_ixgb.conf</p>
</li>
<li><p>END ixgb_perf.sh</p>
</li>
<li><p>COPY these lines and paste them into sysctl_ixgb.conf:</p>
<h1 id="some-of-the-defaults-may-be-different-for-your-kernel"><a href="#some-of-the-defaults-may-be-different-for-your-kernel" class="headerlink" title="some of the defaults may be different for your kernel"></a>some of the defaults may be different for your kernel</h1><h1 id="call-this-file-with-sysctl-p"><a href="#call-this-file-with-sysctl-p" class="headerlink" title="call this file with sysctl -p "></a>call this file with sysctl -p <this file></h1><h1 id="these-are-just-suggested-values-that-worked-well-to-increase-throughput-in"><a href="#these-are-just-suggested-values-that-worked-well-to-increase-throughput-in" class="headerlink" title="these are just suggested values that worked well to increase throughput in"></a>these are just suggested values that worked well to increase throughput in</h1><h1 id="several-network-benchmark-tests-your-mileage-may-vary"><a href="#several-network-benchmark-tests-your-mileage-may-vary" class="headerlink" title="several network benchmark tests, your mileage may vary"></a>several network benchmark tests, your mileage may vary</h1></li>
</ul>
<h3 id="IPV4-specific-settings"><a href="#IPV4-specific-settings" class="headerlink" title="IPV4 specific settings"></a>IPV4 specific settings</h3><h1 id="turn-TCP-timestamp-support-off-default-1-reduces-CPU-use"><a href="#turn-TCP-timestamp-support-off-default-1-reduces-CPU-use" class="headerlink" title="turn TCP timestamp support off, default 1, reduces CPU use"></a>turn TCP timestamp support off, default 1, reduces CPU use</h1><p>net.ipv4.tcp_timestamps = 0</p>
<h1 id="turn-SACK-support-off-default-on"><a href="#turn-SACK-support-off-default-on" class="headerlink" title="turn SACK support off, default on"></a>turn SACK support off, default on</h1><h1 id="on-systems-with-a-VERY-fast-bus-gt-memory-interface-this-is-the-big-gainer"><a href="#on-systems-with-a-VERY-fast-bus-gt-memory-interface-this-is-the-big-gainer" class="headerlink" title="on systems with a VERY fast bus -&gt; memory interface this is the big gainer"></a>on systems with a VERY fast bus -&gt; memory interface this is the big gainer</h1><p>net.ipv4.tcp_sack = 0</p>
<h1 id="set-min-default-max-TCP-read-buffer-default-4096-87380-174760"><a href="#set-min-default-max-TCP-read-buffer-default-4096-87380-174760" class="headerlink" title="set min/default/max TCP read buffer, default 4096 87380 174760"></a>set min/default/max TCP read buffer, default 4096 87380 174760</h1><p>net.ipv4.tcp_rmem = 10000000 10000000 10000000</p>
<h1 id="set-min-pressure-max-TCP-write-buffer-default-4096-16384-131072"><a href="#set-min-pressure-max-TCP-write-buffer-default-4096-16384-131072" class="headerlink" title="set min/pressure/max TCP write buffer, default 4096 16384 131072"></a>set min/pressure/max TCP write buffer, default 4096 16384 131072</h1><p>net.ipv4.tcp_wmem = 10000000 10000000 10000000</p>
<h1 id="set-min-pressure-max-TCP-buffer-space-default-31744-32256-32768"><a href="#set-min-pressure-max-TCP-buffer-space-default-31744-32256-32768" class="headerlink" title="set min/pressure/max TCP buffer space, default 31744 32256 32768"></a>set min/pressure/max TCP buffer space, default 31744 32256 32768</h1><p>net.ipv4.tcp_mem = 10000000 10000000 10000000</p>
<h3 id="CORE-settings-mostly-for-socket-and-UDP-effect"><a href="#CORE-settings-mostly-for-socket-and-UDP-effect" class="headerlink" title="CORE settings (mostly for socket and UDP effect)"></a>CORE settings (mostly for socket and UDP effect)</h3><h1 id="set-maximum-receive-socket-buffer-size-default-131071"><a href="#set-maximum-receive-socket-buffer-size-default-131071" class="headerlink" title="set maximum receive socket buffer size, default 131071"></a>set maximum receive socket buffer size, default 131071</h1><p>net.core.rmem_max = 524287</p>
<h1 id="set-maximum-send-socket-buffer-size-default-131071"><a href="#set-maximum-send-socket-buffer-size-default-131071" class="headerlink" title="set maximum send socket buffer size, default 131071"></a>set maximum send socket buffer size, default 131071</h1><p>net.core.wmem_max = 524287</p>
<h1 id="set-default-receive-socket-buffer-size-default-65535"><a href="#set-default-receive-socket-buffer-size-default-65535" class="headerlink" title="set default receive socket buffer size, default 65535"></a>set default receive socket buffer size, default 65535</h1><p>net.core.rmem_default = 524287</p>
<h1 id="set-default-send-socket-buffer-size-default-65535"><a href="#set-default-send-socket-buffer-size-default-65535" class="headerlink" title="set default send socket buffer size, default 65535"></a>set default send socket buffer size, default 65535</h1><p>net.core.wmem_default = 524287</p>
<h1 id="set-maximum-amount-of-option-memory-buffers-default-10240"><a href="#set-maximum-amount-of-option-memory-buffers-default-10240" class="headerlink" title="set maximum amount of option memory buffers, default 10240"></a>set maximum amount of option memory buffers, default 10240</h1><p>net.core.optmem_max = 524287</p>
<h1 id="set-number-of-unprocessed-input-packets-before-kernel-starts-dropping-them-default-300"><a href="#set-number-of-unprocessed-input-packets-before-kernel-starts-dropping-them-default-300" class="headerlink" title="set number of unprocessed input packets before kernel starts dropping them; default 300"></a>set number of unprocessed input packets before kernel starts dropping them; default 300</h1><p>net.core.netdev_max_backlog = 300000</p>
<ul>
<li>END sysctl_ixgb.conf</li>
</ul>
<p>Edit the ixgb_perf.sh script if necessary to change eth1 to whatever interface<br>your ixgb driver is using and/or replace ‘1a48’ with appropriate 10GbE device’s<br>ID installed on the system.</p>
<p>NOTE: Unless these scripts are added to the boot process, these changes will<br>      only last only until the next system reboot.</p>
<h2 id="Resolving-Slow-UDP-Traffic"><a href="#Resolving-Slow-UDP-Traffic" class="headerlink" title="Resolving Slow UDP Traffic"></a>Resolving Slow UDP Traffic</h2><p>If your server does not seem to be able to receive UDP traffic as fast as it<br>can receive TCP traffic, it could be because Linux, by default, does not set<br>the network stack buffers as large as they need to be to support high UDP<br>transfer rates.  One way to alleviate this problem is to allow more memory to<br>be used by the IP stack to store incoming data.</p>
<p>For instance, use the commands:<br>    sysctl -w net.core.rmem_max=262143<br>and<br>    sysctl -w net.core.rmem_default=262143<br>to increase the read buffer memory max and default to 262143 (256k - 1) from<br>defaults of max=131071 (128k - 1) and default=65535 (64k - 1).  These variables<br>will increase the amount of memory used by the network stack for receives, and<br>can be increased significantly more if necessary for your application.</p>
<h1 id="Additional-Configurations"><a href="#Additional-Configurations" class="headerlink" title="Additional Configurations"></a>Additional Configurations</h1><h2 id="Configuring-the-Driver-on-Different-Distributions"><a href="#Configuring-the-Driver-on-Different-Distributions" class="headerlink" title="  Configuring the Driver on Different Distributions"></a>  Configuring the Driver on Different Distributions</h2><p>  Configuring a network driver to load properly when the system is started is<br>  distribution dependent. Typically, the configuration process involves adding<br>  an alias line to files in /etc/modprobe.d/ as well as editing other system<br>  startup scripts and/or configuration files.  Many popular Linux distributions<br>  ship with tools to make these changes for you.  To learn the proper way to<br>  configure a network device for your system, refer to your distribution<br>  documentation.  If during this process you are asked for the driver or module<br>  name, the name for the Linux Base Driver for the Intel 10GbE Family of<br>  Adapters is ixgb.</p>
<h2 id="Viewing-Link-Messages"><a href="#Viewing-Link-Messages" class="headerlink" title="  Viewing Link Messages"></a>  Viewing Link Messages</h2><p>  Link messages will not be displayed to the console if the distribution is<br>  restricting system messages. In order to see network driver link messages on<br>  your console, set dmesg to eight by entering the following:</p>
<pre><code>   dmesg -n 8
</code></pre>
<p>  NOTE: This setting is not saved across reboots.</p>
<h2 id="Jumbo-Frames"><a href="#Jumbo-Frames" class="headerlink" title="  Jumbo Frames"></a>  Jumbo Frames</h2><p>  The driver supports Jumbo Frames for all adapters. Jumbo Frames support is<br>  enabled by changing the MTU to a value larger than the default of 1500.<br>  The maximum value for the MTU is 16114.  Use the ifconfig command to<br>  increase the MTU size.  For example:</p>
<pre><code>    ifconfig ethx mtu 9000 up
</code></pre>
<p>  The maximum MTU setting for Jumbo Frames is 16114.  This value coincides<br>  with the maximum Jumbo Frames size of 16128.</p>
<h2 id="Ethtool"><a href="#Ethtool" class="headerlink" title="  Ethtool"></a>  Ethtool</h2><p>  The driver utilizes the ethtool interface for driver configuration and<br>  diagnostics, as well as displaying statistical information.  The ethtool<br>  version 1.6 or later is required for this functionality.</p>
<p>  The latest release of ethtool can be found from<br>  <a target="_blank" rel="noopener" href="http://ftp.kernel.org/pub/software/network/ethtool/">http://ftp.kernel.org/pub/software/network/ethtool/</a></p>
<p>  NOTE: The ethtool version 1.6 only supports a limited set of ethtool options.<br>        Support for a more complete ethtool feature set can be enabled by<br>        upgrading to the latest version.</p>
<h2 id="NAPI"><a href="#NAPI" class="headerlink" title="  NAPI"></a>  NAPI</h2><p>  NAPI (Rx polling mode) is supported in the ixgb driver.  NAPI is enabled<br>  or disabled based on the configuration of the kernel.  see CONFIG_IXGB_NAPI</p>
<p>  See <a target="_blank" rel="noopener" href="http://www.cyberus.ca/~hadi/usenix-paper.tgz">www.cyberus.ca/~hadi/usenix-paper.tgz</a> for more information on NAPI.</p>
<h1 id="Known-Issues-Troubleshooting"><a href="#Known-Issues-Troubleshooting" class="headerlink" title="Known Issues/Troubleshooting"></a>Known Issues/Troubleshooting</h1><p>  NOTE: After installing the driver, if your Intel Network Connection is not<br>  working, verify in the “In This Release” section of the readme that you have<br>  installed the correct driver.</p>
<p>  Intel(R) PRO/10GbE CX4 Server Adapter Cable Interoperability Issue with<br>  Fujitsu XENPAK Module in SmartBits Chassis</p>
<hr>
<p>  Excessive CRC errors may be observed if the Intel(R) PRO/10GbE CX4<br>  Server adapter is connected to a Fujitsu XENPAK CX4 module in a SmartBits<br>  chassis using 15 m/24AWG cable assemblies manufactured by Fujitsu or Leoni.<br>  The CRC errors may be received either by the Intel(R) PRO/10GbE CX4<br>  Server adapter or the SmartBits. If this situation occurs using a different<br>  cable assembly may resolve the issue.</p>
<p>  CX4 Server Adapter Cable Interoperability Issues with HP Procurve 3400cl<br>  Switch Port</p>
<hr>
<p>  Excessive CRC errors may be observed if the Intel(R) PRO/10GbE CX4 Server<br>  adapter is connected to an HP Procurve 3400cl switch port using short cables<br>  (1 m or shorter). If this situation occurs, using a longer cable may resolve<br>  the issue.</p>
<p>  Excessive CRC errors may be observed using Fujitsu 24AWG cable assemblies that<br>  Are 10 m or longer or where using a Leoni 15 m/24AWG cable assembly. The CRC<br>  errors may be received either by the CX4 Server adapter or at the switch. If<br>  this situation occurs, using a different cable assembly may resolve the issue.</p>
<h2 id="Jumbo-Frames-System-Requirement"><a href="#Jumbo-Frames-System-Requirement" class="headerlink" title="  Jumbo Frames System Requirement"></a>  Jumbo Frames System Requirement</h2><p>  Memory allocation failures have been observed on Linux systems with 64 MB<br>  of RAM or less that are running Jumbo Frames.  If you are using Jumbo<br>  Frames, your system may require more than the advertised minimum<br>  requirement of 64 MB of system memory.</p>
<h2 id="Performance-Degradation-with-Jumbo-Frames"><a href="#Performance-Degradation-with-Jumbo-Frames" class="headerlink" title="  Performance Degradation with Jumbo Frames"></a>  Performance Degradation with Jumbo Frames</h2><p>  Degradation in throughput performance may be observed in some Jumbo frames<br>  environments.  If this is observed, increasing the application’s socket buffer<br>  size and/or increasing the /proc/sys/net/ipv4/tcp_<em>mem entry values may help.<br>  See the specific application manual and /usr/src/linux</em>/Documentation/<br>  networking/ip-sysctl.txt for more details.</p>
<h2 id="Allocating-Rx-Buffers-when-Using-Jumbo-Frames"><a href="#Allocating-Rx-Buffers-when-Using-Jumbo-Frames" class="headerlink" title="  Allocating Rx Buffers when Using Jumbo Frames"></a>  Allocating Rx Buffers when Using Jumbo Frames</h2><p>  Allocating Rx buffers when using Jumbo Frames on 2.6.x kernels may fail if<br>  the available memory is heavily fragmented. This issue may be seen with PCI-X<br>  adapters or with packet split disabled. This can be reduced or eliminated<br>  by changing the amount of available memory for receive buffer allocation, by<br>  increasing /proc/sys/vm/min_free_kbytes.</p>
<h2 id="Multiple-Interfaces-on-Same-Ethernet-Broadcast-Network"><a href="#Multiple-Interfaces-on-Same-Ethernet-Broadcast-Network" class="headerlink" title="  Multiple Interfaces on Same Ethernet Broadcast Network"></a>  Multiple Interfaces on Same Ethernet Broadcast Network</h2><p>  Due to the default ARP behavior on Linux, it is not possible to have<br>  one system on two IP networks in the same Ethernet broadcast domain<br>  (non-partitioned switch) behave as expected.  All Ethernet interfaces<br>  will respond to IP traffic for any IP address assigned to the system.<br>  This results in unbalanced receive traffic.</p>
<p>  If you have multiple interfaces in a server, do either of the following:</p>
<ul>
<li><p>Turn on ARP filtering by entering:<br>  echo 1 &gt; /proc/sys/net/ipv4/conf/all/arp_filter</p>
</li>
<li><p>Install the interfaces in separate broadcast domains - either in<br>different switches or in a switch partitioned to VLANs.</p>
</li>
</ul>
<h2 id="UDP-Stress-Test-Dropped-Packet-Issue"><a href="#UDP-Stress-Test-Dropped-Packet-Issue" class="headerlink" title="  UDP Stress Test Dropped Packet Issue"></a>  UDP Stress Test Dropped Packet Issue</h2><p>  Under small packets UDP stress test with 10GbE driver, the Linux system<br>  may drop UDP packets due to the fullness of socket buffers. You may want<br>  to change the driver’s Flow Control variables to the minimum value for<br>  controlling packet reception.</p>
<h2 id="Tx-Hangs-Possible-Under-Stress"><a href="#Tx-Hangs-Possible-Under-Stress" class="headerlink" title="  Tx Hangs Possible Under Stress"></a>  Tx Hangs Possible Under Stress</h2><p>  Under stress conditions, if TX hangs occur, turning off TSO<br>  “ethtool -K eth0 tso off” may resolve the problem.</p>
<h1 id="Support"><a href="#Support" class="headerlink" title="Support"></a>Support</h1><p>For general information, go to the Intel support website at:</p>
<pre><code>http://support.intel.com
</code></pre>
<p>or the Intel Wired Networking project hosted by Sourceforge at:</p>
<pre><code>http://sourceforge.net/projects/e1000
</code></pre>
<p>If an issue is identified with the released source code on the supported<br>kernel with a supported adapter, email the specific information related<br>to the issue to <a href="mailto:&#x65;&#49;&#x30;&#48;&#x30;&#45;&#x64;&#x65;&#118;&#x65;&#108;&#64;&#108;&#105;&#115;&#x74;&#115;&#46;&#115;&#102;&#46;&#x6e;&#101;&#x74;">&#x65;&#49;&#x30;&#48;&#x30;&#45;&#x64;&#x65;&#118;&#x65;&#108;&#64;&#108;&#105;&#115;&#x74;&#115;&#46;&#115;&#102;&#46;&#x6e;&#101;&#x74;</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_ixgb/" title="Kernel-3.10.0-957.el7_ixgb" target="_blank" rel="external">http://www.oostech.com/2021/03/13/Kernel-3.10.0-957.el7_ixgb/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">oosTech by Sam Lee</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    

  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_joystick-parport/" title="Kernel-3.10.0-957.el7_joystick-parport"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/03/13/Kernel-3.10.0-957.el7_intel_rdt_ui/" title="Kernel-3.10.0-957.el7_intel_rdt_ui"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,wechat"></div>
    
  </div>
  </div>
    <div class="container" align="left">
    <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <img src="/images/wechatp.png" itemprop="contentUrl">
      <span>欢迎关注公众号</span>
    </div>
    </div>
</nav>

  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>您能有收获就是我们最大的动力</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码捐赠</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">不管多少都是对分享的肯定</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码捐赠</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://google.com/" target="_blank" title="Google" data-toggle=tooltip data-placement=top><i class="icon icon-google"></i></a></li>
        
        <li><a href="https://twitter.com/" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
	<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn" text-align: center >粤ICP备2021024811号</a>
        </div>
<!--    
    <div>
     <img src="/images/logo.png" width="140" height="140">
    </div>
-->
    </div>


        <!-- 不蒜子统计    //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <!--<span id="busuanzi_container_site_pv" style="display:inline;">-->本站总访问量<span id="busuanzi_value_site_pv" style="display:inline;></span>次</span>
        <span class="post-meta-divider">|</span>
  
</footer>

  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>







   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>











</body>
</html>